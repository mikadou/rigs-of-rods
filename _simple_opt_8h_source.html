<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Rigs of Rods: source/main/utils/SimpleOpt.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="rorlogo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rigs of Rods
   
   </div>
   <div id="projectbrief">Soft-body Physics Simulation</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">source/main/utils/SimpleOpt.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_simple_opt_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00196"></a>00196 <span class="preprocessor">#ifndef INCLUDED_SimpleOpt</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_SimpleOpt</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>
<a name="l00199"></a>00199 <span class="comment">// Default the max arguments to a fixed value. If you want to be able to</span>
<a name="l00200"></a>00200 <span class="comment">// handle any number of arguments, then predefine this to 0 and it will</span>
<a name="l00201"></a>00201 <span class="comment">// use an internal dynamically allocated buffer instead.</span>
<a name="l00202"></a>00202 <span class="preprocessor">#ifdef SO_MAX_ARGS</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="preprocessor"># define SO_STATICBUF   SO_MAX_ARGS</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="preprocessor"># include &lt;stdlib.h&gt;</span>    <span class="comment">// malloc, free</span>
<a name="l00206"></a>00206 <span class="preprocessor"># include &lt;string.h&gt;</span>    <span class="comment">// memcpy</span>
<a name="l00207"></a><a class="code" href="_simple_opt_8h.html#aadccaa0f8d62af3d2fc7d014ae376597">00207</a> <span class="preprocessor"># define SO_STATICBUF   50</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span>
<a name="l00211"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32e">00211</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32e" title="Error values.">_ESOError</a>
<a name="l00212"></a>00212 {
<a name="l00214"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770">00214</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770" title="No error.">SO_SUCCESS</a>          =  0,
<a name="l00215"></a>00215 
<a name="l00218"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7cef1b6c4d9a8be0961964e254cc2d6b">00218</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7cef1b6c4d9a8be0961964e254cc2d6b">SO_OPT_INVALID</a>      = -1,
<a name="l00219"></a>00219 
<a name="l00222"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7a90d467d2a707e85e7229d5eb57a160">00222</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7a90d467d2a707e85e7229d5eb57a160">SO_OPT_MULTIPLE</a>     = -2,
<a name="l00223"></a>00223 
<a name="l00226"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea1f6909aba96fa3631104179ddb5336df">00226</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea1f6909aba96fa3631104179ddb5336df">SO_ARG_INVALID</a>      = -3,
<a name="l00227"></a>00227 
<a name="l00230"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eaa12f0354551a3d265a6cddcd28429c2b">00230</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eaa12f0354551a3d265a6cddcd28429c2b">SO_ARG_INVALID_TYPE</a> = -4,
<a name="l00231"></a>00231 
<a name="l00233"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ead9bd80f048d611b1868618958facc363">00233</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ead9bd80f048d611b1868618958facc363" title="Required argument was not supplied.">SO_ARG_MISSING</a>      = -5,
<a name="l00234"></a>00234 
<a name="l00237"></a><a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eafa64f2e31ca6b0ee334aa2c8d95fa2ed">00237</a>     <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eafa64f2e31ca6b0ee334aa2c8d95fa2ed">SO_ARG_INVALID_DATA</a> = -6
<a name="l00238"></a>00238 } <a class="code" href="_simple_opt_8h.html#afdf5bf76980cdbb6b1a7f639393f6669" title="Error values.">ESOError</a>;
<a name="l00239"></a>00239 
<a name="l00241"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655c">00241</a> <span class="keyword">enum</span> <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655c" title="Option flags.">_ESOFlags</a>
<a name="l00242"></a>00242 {
<a name="l00244"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae9ea56fe015db577ffe3bb4574658db0">00244</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae9ea56fe015db577ffe3bb4574658db0">SO_O_EXACT</a>       = 0x0001,
<a name="l00245"></a>00245 
<a name="l00248"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5d3e106f732eeec3df25536a7816d019">00248</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5d3e106f732eeec3df25536a7816d019">SO_O_NOSLASH</a>     = 0x0002,
<a name="l00249"></a>00249 
<a name="l00252"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca89605372442790f85658886ae4260ebb">00252</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca89605372442790f85658886ae4260ebb">SO_O_SHORTARG</a>    = 0x0004,
<a name="l00253"></a>00253 
<a name="l00256"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cac9de7ebe415eeaa0e71b2c14bc5e8ea8">00256</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cac9de7ebe415eeaa0e71b2c14bc5e8ea8">SO_O_CLUMP</a>       = 0x0008,
<a name="l00257"></a>00257 
<a name="l00260"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca2bf192f65bd1335b9454abb659960b0b">00260</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca2bf192f65bd1335b9454abb659960b0b">SO_O_USEALL</a>      = 0x0010,
<a name="l00261"></a>00261 
<a name="l00266"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">00266</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">SO_O_NOERR</a>       = 0x0020,
<a name="l00267"></a>00267 
<a name="l00272"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5c614f944bd79b16d6814da57737bc0b">00272</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5c614f944bd79b16d6814da57737bc0b">SO_O_PEDANTIC</a>    = 0x0040,
<a name="l00273"></a>00273 
<a name="l00275"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca98d7e55856e3abe1ffbaaa0b1353f13c">00275</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca98d7e55856e3abe1ffbaaa0b1353f13c">SO_O_ICASE_SHORT</a> = 0x0100,
<a name="l00276"></a>00276 
<a name="l00278"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae36943ac75d3e34760be3047d15a348c">00278</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae36943ac75d3e34760be3047d15a348c">SO_O_ICASE_LONG</a>  = 0x0200,
<a name="l00279"></a>00279 
<a name="l00282"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cad9b17d8b65b887e649081e1e40e910fd">00282</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cad9b17d8b65b887e649081e1e40e910fd">SO_O_ICASE_WORD</a>  = 0x0400,
<a name="l00283"></a>00283 
<a name="l00285"></a><a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca99968efd23b84a0bcc564cc3785d201e">00285</a>     <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca99968efd23b84a0bcc564cc3785d201e">SO_O_ICASE</a>       = 0x0700
<a name="l00286"></a>00286 };
<a name="l00287"></a>00287 
<a name="l00293"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0">00293</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0">_ESOArgType</a> {
<a name="l00296"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ad071a30aefed56a823d5f0f880635e61">00296</a>     <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ad071a30aefed56a823d5f0f880635e61">SO_NONE</a>,
<a name="l00297"></a>00297 
<a name="l00300"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ac762be8c66ab3c9db70dfce826027383">00300</a>     <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ac762be8c66ab3c9db70dfce826027383">SO_REQ_SEP</a>,
<a name="l00301"></a>00301 
<a name="l00304"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0acf1017ce7e594e6cbd0efbc62ac0553e">00304</a>     <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0acf1017ce7e594e6cbd0efbc62ac0553e">SO_REQ_CMB</a>,
<a name="l00305"></a>00305 
<a name="l00308"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0afb3349dfb7ec9bea6917fdf63ce02445">00308</a>     <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0afb3349dfb7ec9bea6917fdf63ce02445">SO_OPT</a>,
<a name="l00309"></a>00309 
<a name="l00313"></a><a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0a32cf0e7c28ef8b41be7cdd1c34ccc8f7">00313</a>     <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0a32cf0e7c28ef8b41be7cdd1c34ccc8f7">SO_MULTI</a>
<a name="l00314"></a>00314 } <a class="code" href="_simple_opt_8h.html#a50e7da6846dce876e059a7ddf17f90c1">ESOArgType</a>;
<a name="l00315"></a>00315 
<a name="l00317"></a><a class="code" href="_simple_opt_8h.html#a54fe8f0fbc2c7d8c53c944fffb30b3e9">00317</a> <span class="preprocessor">#define SO_END_OF_OPTIONS   { -1, NULL, SO_NONE }</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>
<a name="l00319"></a>00319 <span class="preprocessor">#ifdef _DEBUG</span>
<a name="l00320"></a>00320 <span class="preprocessor"></span><span class="preprocessor"># ifdef _MSC_VER</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;crtdbg.h&gt;</span>
<a name="l00322"></a>00322 <span class="preprocessor">#  define SO_ASSERT(b)  _ASSERTE(b)</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span><span class="preprocessor"># else</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;assert.h&gt;</span>
<a name="l00325"></a>00325 <span class="preprocessor">#  define SO_ASSERT(b)  assert(b)</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00327"></a>00327 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00328"></a><a class="code" href="_simple_opt_8h.html#aef04e770d2ff67119511cf3f134c8eaa">00328</a> <span class="preprocessor"></span><span class="preprocessor"># define SO_ASSERT(b)   //!&lt; assertion used to test input data</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span>
<a name="l00331"></a>00331 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l00332"></a>00332 <span class="comment">//                              MAIN TEMPLATE CLASS</span>
<a name="l00333"></a>00333 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l00334"></a>00334 
<a name="l00336"></a>00336 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00337"></a><a class="code" href="class_c_simple_opt_templ.html">00337</a> <span class="keyword">class </span><a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl</a>
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339 <span class="keyword">public</span>:
<a name="l00341"></a><a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html">00341</a>     <span class="keyword">struct </span><a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html" title="Structure used to define all known options.">SOption</a> {
<a name="l00343"></a><a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a10837f04451fe178b47f1c956db23964">00343</a>         <span class="keywordtype">int</span> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a10837f04451fe178b47f1c956db23964">nId</a>;
<a name="l00344"></a>00344 
<a name="l00348"></a><a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a98c6fe397df4a04140d549373c18622b">00348</a>         <span class="keyword">const</span> SOCHAR * <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a98c6fe397df4a04140d549373c18622b">pszArg</a>;
<a name="l00349"></a>00349 
<a name="l00351"></a><a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a183ddbb6c06a3578db4dfb26fce16f21">00351</a>         <a class="code" href="_simple_opt_8h.html#a50e7da6846dce876e059a7ddf17f90c1">ESOArgType</a> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html#a183ddbb6c06a3578db4dfb26fce16f21">nArgType</a>;
<a name="l00352"></a>00352     };
<a name="l00353"></a>00353 
<a name="l00355"></a><a class="code" href="class_c_simple_opt_templ.html#a901dd8e44e4b1662dea6991478574517">00355</a>     <a class="code" href="class_c_simple_opt_templ.html#a901dd8e44e4b1662dea6991478574517" title="Initialize the class. Init() must be called later.">CSimpleOptTempl</a>()
<a name="l00356"></a>00356         : <a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7" title="shuffle buffer for large argc">m_rgShuffleBuf</a>(NULL)
<a name="l00357"></a>00357     {
<a name="l00358"></a>00358         <a class="code" href="class_c_simple_opt_templ.html#a295504063bf4b5cb259541581ee46bfc" title="Initialize the class in preparation for calling Next.">Init</a>(0, NULL, NULL, 0);
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360 
<a name="l00362"></a><a class="code" href="class_c_simple_opt_templ.html#a743811eb95a173a9208c6a6b77298085">00362</a>     <a class="code" href="class_c_simple_opt_templ.html#a901dd8e44e4b1662dea6991478574517" title="Initialize the class. Init() must be called later.">CSimpleOptTempl</a>(
<a name="l00363"></a>00363         <span class="keywordtype">int</span>             argc,
<a name="l00364"></a>00364         SOCHAR *        argv[],
<a name="l00365"></a>00365         <span class="keyword">const</span> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html" title="Structure used to define all known options.">SOption</a> * a_rgOptions,
<a name="l00366"></a>00366         <span class="keywordtype">int</span>             a_nFlags = 0
<a name="l00367"></a>00367         )
<a name="l00368"></a>00368         : <a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7" title="shuffle buffer for large argc">m_rgShuffleBuf</a>(NULL)
<a name="l00369"></a>00369     {
<a name="l00370"></a>00370         <a class="code" href="class_c_simple_opt_templ.html#a295504063bf4b5cb259541581ee46bfc" title="Initialize the class in preparation for calling Next.">Init</a>(argc, argv, a_rgOptions, a_nFlags);
<a name="l00371"></a>00371     }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="preprocessor">#ifndef SO_MAX_ARGS</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span>
<a name="l00375"></a><a class="code" href="class_c_simple_opt_templ.html#afa524c030e4024db99eafb2b4e42f93b">00375</a>     <a class="code" href="class_c_simple_opt_templ.html#afa524c030e4024db99eafb2b4e42f93b" title="Deallocate any allocated memory.">~CSimpleOptTempl</a>() { <span class="keywordflow">if</span> (<a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7" title="shuffle buffer for large argc">m_rgShuffleBuf</a>) free(<a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7" title="shuffle buffer for large argc">m_rgShuffleBuf</a>); }
<a name="l00376"></a>00376 <span class="preprocessor">#endif</span>
<a name="l00377"></a>00377 <span class="preprocessor"></span>
<a name="l00399"></a>00399     <span class="keywordtype">bool</span> <a class="code" href="class_c_simple_opt_templ.html#a295504063bf4b5cb259541581ee46bfc" title="Initialize the class in preparation for calling Next.">Init</a>(
<a name="l00400"></a>00400         <span class="keywordtype">int</span>             a_argc,
<a name="l00401"></a>00401         SOCHAR *        a_argv[],
<a name="l00402"></a>00402         <span class="keyword">const</span> SOption * a_rgOptions,
<a name="l00403"></a>00403         <span class="keywordtype">int</span>             a_nFlags = 0
<a name="l00404"></a>00404         );
<a name="l00405"></a>00405 
<a name="l00410"></a><a class="code" href="class_c_simple_opt_templ.html#a8a1b62c4ae02b7f785f577d66740f2b7">00410</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_c_simple_opt_templ.html#a8a1b62c4ae02b7f785f577d66740f2b7" title="Change the current options table during option parsing.">SetOptions</a>(<span class="keyword">const</span> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html" title="Structure used to define all known options.">SOption</a> * a_rgOptions) {
<a name="l00411"></a>00411         <a class="code" href="class_c_simple_opt_templ.html#aec0bb315861b05e5564f8552f7ec9c36" title="pointer to options table">m_rgOptions</a> = a_rgOptions;
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413 
<a name="l00421"></a><a class="code" href="class_c_simple_opt_templ.html#ae64fd8b816b6d712e2406591df193d5b">00421</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_c_simple_opt_templ.html#ae64fd8b816b6d712e2406591df193d5b" title="Change the current flags during option parsing.">SetFlags</a>(<span class="keywordtype">int</span> a_nFlags) { <a class="code" href="class_c_simple_opt_templ.html#a6e225d27269e58f5e98c336492842fff" title="flags">m_nFlags</a> = a_nFlags; }
<a name="l00422"></a>00422 
<a name="l00424"></a><a class="code" href="class_c_simple_opt_templ.html#a6d64a2ee929aa5442191614cfdc7f53f">00424</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="class_c_simple_opt_templ.html#a6d64a2ee929aa5442191614cfdc7f53f" title="Query if a particular flag is set.">HasFlag</a>(<span class="keywordtype">int</span> a_nFlag)<span class="keyword"> const </span>{
<a name="l00425"></a>00425         <span class="keywordflow">return</span> (<a class="code" href="class_c_simple_opt_templ.html#a6e225d27269e58f5e98c336492842fff" title="flags">m_nFlags</a> &amp; a_nFlag) == a_nFlag;
<a name="l00426"></a>00426     }
<a name="l00427"></a>00427 
<a name="l00444"></a>00444     <span class="keywordtype">bool</span> <a class="code" href="class_c_simple_opt_templ.html#ac0eef4bbcc3097ff36af89be3c0b820f" title="Advance to the next option if available.">Next</a>();
<a name="l00445"></a>00445 
<a name="l00449"></a>00449     <span class="keywordtype">void</span> <a class="code" href="class_c_simple_opt_templ.html#ae76dab24d97804c34c2f91a63a8ab288">Stop</a>();
<a name="l00450"></a>00450 
<a name="l00456"></a><a class="code" href="class_c_simple_opt_templ.html#ab282afa789ca572e993f775b53e7a243">00456</a>     <span class="keyword">inline</span> <a class="code" href="_simple_opt_8h.html#afdf5bf76980cdbb6b1a7f639393f6669" title="Error values.">ESOError</a> <a class="code" href="class_c_simple_opt_templ.html#ab282afa789ca572e993f775b53e7a243" title="Return the last error that occurred.">LastError</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#aa43383b56d754b45fe8ac1ead3cefeea" title="error status from the last call">m_nLastError</a>; }
<a name="l00457"></a>00457 
<a name="l00463"></a><a class="code" href="class_c_simple_opt_templ.html#ac284454adf9589b46e40576c9adddc67">00463</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_c_simple_opt_templ.html#ac284454adf9589b46e40576c9adddc67" title="Return the nId value from the options array for the current option.">OptionId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#a6207ba31bb7d7f35a5df92f375d25e01" title="id of current option (-1 = invalid)">m_nOptionId</a>; }
<a name="l00464"></a>00464 
<a name="l00470"></a><a class="code" href="class_c_simple_opt_templ.html#a73a15c4c89443c4f74f016fc338b3f0b">00470</a>     <span class="keyword">inline</span> <span class="keyword">const</span> SOCHAR * <a class="code" href="class_c_simple_opt_templ.html#a73a15c4c89443c4f74f016fc338b3f0b" title="Return the pszArg from the options array for the current option.">OptionText</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#ac404e5b550b5629d35e68a596b7fcbf7" title="curr option text, e.g. &quot;-f&quot;">m_pszOptionText</a>; }
<a name="l00471"></a>00471 
<a name="l00477"></a><a class="code" href="class_c_simple_opt_templ.html#a455eadc6db4b85d1a22e1bdd48f5829b">00477</a>     <span class="keyword">inline</span> SOCHAR * <a class="code" href="class_c_simple_opt_templ.html#a455eadc6db4b85d1a22e1bdd48f5829b" title="Return the argument for the current option where one exists.">OptionArg</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#a6537bca0e360a428b35817c3910b8770" title="curr option arg, e.g. &quot;c:\file.txt&quot;">m_pszOptionArg</a>; }
<a name="l00478"></a>00478 
<a name="l00491"></a>00491     SOCHAR ** <a class="code" href="class_c_simple_opt_templ.html#ad0ec3543a8272202a107ddbfee19a09d" title="Validate and return the desired number of arguments.">MultiArg</a>(<span class="keywordtype">int</span> n);
<a name="l00492"></a>00492 
<a name="l00498"></a><a class="code" href="class_c_simple_opt_templ.html#a967f70058a063805b785e338641a353b">00498</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_c_simple_opt_templ.html#a967f70058a063805b785e338641a353b" title="Returned the number of entries in the Files() array.">FileCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#a806239dfc432f247fd0013479533d08c" title="argc to process">m_argc</a> - <a class="code" href="class_c_simple_opt_templ.html#a23220ed6560a7a4f5e8f04e3e3f76c41" title="last argument, after this are files">m_nLastArg</a>; }
<a name="l00499"></a>00499 
<a name="l00505"></a><a class="code" href="class_c_simple_opt_templ.html#a46ce824ccc3e96e255ca1aaaa2050fc0">00505</a>     <span class="keyword">inline</span> SOCHAR * <a class="code" href="class_c_simple_opt_templ.html#a46ce824ccc3e96e255ca1aaaa2050fc0" title="Return the specified file argument.">File</a>(<span class="keywordtype">int</span> n)<span class="keyword"> const </span>{
<a name="l00506"></a>00506         <a class="code" href="_simple_opt_8h.html#aef04e770d2ff67119511cf3f134c8eaa" title="assertion used to test input data">SO_ASSERT</a>(n &gt;= 0 &amp;&amp; n &lt; <a class="code" href="class_c_simple_opt_templ.html#a967f70058a063805b785e338641a353b" title="Returned the number of entries in the Files() array.">FileCount</a>());
<a name="l00507"></a>00507         <span class="keywordflow">return</span> <a class="code" href="class_c_simple_opt_templ.html#a940edde88150fc326f6f7727616dcfbe" title="argv">m_argv</a>[<a class="code" href="class_c_simple_opt_templ.html#a23220ed6560a7a4f5e8f04e3e3f76c41" title="last argument, after this are files">m_nLastArg</a> + n];
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00511"></a><a class="code" href="class_c_simple_opt_templ.html#a3d871f7994b96c160280808a38725cb5">00511</a>     <span class="keyword">inline</span> SOCHAR ** <a class="code" href="class_c_simple_opt_templ.html#a3d871f7994b96c160280808a38725cb5" title="Return the array of files.">Files</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_simple_opt_templ.html#a940edde88150fc326f6f7727616dcfbe" title="argv">m_argv</a>[<a class="code" href="class_c_simple_opt_templ.html#a23220ed6560a7a4f5e8f04e3e3f76c41" title="last argument, after this are files">m_nLastArg</a>]; }
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 <span class="keyword">private</span>:
<a name="l00514"></a>00514     <a class="code" href="class_c_simple_opt_templ.html#a901dd8e44e4b1662dea6991478574517" title="Initialize the class. Init() must be called later.">CSimpleOptTempl</a>(<span class="keyword">const</span> <a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl</a> &amp;); <span class="comment">// disabled</span>
<a name="l00515"></a>00515     <a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl</a> &amp; <a class="code" href="class_c_simple_opt_templ.html#a094b55471ea89f87457bcd328c3374cc">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl</a> &amp;); <span class="comment">// disabled</span>
<a name="l00516"></a>00516 
<a name="l00517"></a>00517     SOCHAR <a class="code" href="class_c_simple_opt_templ.html#ac43ee4c32540063ae644cbb215a17d0b">PrepareArg</a>(SOCHAR * a_pszString) <span class="keyword">const</span>;
<a name="l00518"></a>00518     <span class="keywordtype">bool</span> <a class="code" href="class_c_simple_opt_templ.html#aed9c4aad06a9a50e41fe91c0102044e3">NextClumped</a>();
<a name="l00519"></a>00519     <span class="keywordtype">void</span> <a class="code" href="class_c_simple_opt_templ.html#ae839959a25abd98b1757d56991536418">ShuffleArg</a>(<span class="keywordtype">int</span> a_nStartIdx, <span class="keywordtype">int</span> a_nCount);
<a name="l00520"></a>00520     <span class="keywordtype">int</span> <a class="code" href="class_c_simple_opt_templ.html#a90380c291fd14816ac48d6d9f01deb60">LookupOption</a>(<span class="keyword">const</span> SOCHAR * a_pszOption) <span class="keyword">const</span>;
<a name="l00521"></a>00521     <span class="keywordtype">int</span> <a class="code" href="class_c_simple_opt_templ.html#a06e388266b7e1bd1cbcb08c276fc2cb1">CalcMatch</a>(<span class="keyword">const</span> SOCHAR *a_pszSource, <span class="keyword">const</span> SOCHAR *a_pszTest) <span class="keyword">const</span>;
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     <span class="comment">// Find the &#39;=&#39; character within a string.</span>
<a name="l00524"></a><a class="code" href="class_c_simple_opt_templ.html#aab6c7efccff782f9807b9d4c501b139d">00524</a>     <span class="keyword">inline</span> SOCHAR * <a class="code" href="class_c_simple_opt_templ.html#aab6c7efccff782f9807b9d4c501b139d">FindEquals</a>(SOCHAR *s)<span class="keyword"> const </span>{
<a name="l00525"></a>00525         <span class="keywordflow">while</span> (*s &amp;&amp; *s != (SOCHAR)<span class="charliteral">&#39;=&#39;</span>) ++s;
<a name="l00526"></a>00526         <span class="keywordflow">return</span> *s ? s : NULL;
<a name="l00527"></a>00527     }
<a name="l00528"></a>00528     <span class="keywordtype">bool</span> <a class="code" href="class_c_simple_opt_templ.html#aaad77103d87dc4ec85a48b4bbe3a5700">IsEqual</a>(SOCHAR a_cLeft, SOCHAR a_cRight, <span class="keywordtype">int</span> a_nArgType) <span class="keyword">const</span>;
<a name="l00529"></a>00529 
<a name="l00530"></a><a class="code" href="class_c_simple_opt_templ.html#a768866ca91112f6ab0c0615c9b7b72d8">00530</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_c_simple_opt_templ.html#a768866ca91112f6ab0c0615c9b7b72d8">Copy</a>(SOCHAR ** ppDst, SOCHAR ** ppSrc, <span class="keywordtype">int</span> nCount)<span class="keyword"> const </span>{
<a name="l00531"></a>00531 <span class="preprocessor">#ifdef SO_MAX_ARGS</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span>        <span class="comment">// keep our promise of no CLIB usage</span>
<a name="l00533"></a>00533         <span class="keywordflow">while</span> (nCount-- &gt; 0) *ppDst++ = *ppSrc++;
<a name="l00534"></a>00534 <span class="preprocessor">#else</span>
<a name="l00535"></a>00535 <span class="preprocessor"></span>        memcpy(ppDst, ppSrc, nCount * <span class="keyword">sizeof</span>(SOCHAR*));
<a name="l00536"></a>00536 <span class="preprocessor">#endif</span>
<a name="l00537"></a>00537 <span class="preprocessor"></span>    }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 <span class="keyword">private</span>:
<a name="l00540"></a><a class="code" href="class_c_simple_opt_templ.html#aec0bb315861b05e5564f8552f7ec9c36">00540</a>     <span class="keyword">const</span> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html" title="Structure used to define all known options.">SOption</a> * <a class="code" href="class_c_simple_opt_templ.html#aec0bb315861b05e5564f8552f7ec9c36" title="pointer to options table">m_rgOptions</a>;     
<a name="l00541"></a><a class="code" href="class_c_simple_opt_templ.html#a6e225d27269e58f5e98c336492842fff">00541</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a6e225d27269e58f5e98c336492842fff" title="flags">m_nFlags</a>;        
<a name="l00542"></a><a class="code" href="class_c_simple_opt_templ.html#a916dfc3386ebbd4104541d876e6c7774">00542</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a916dfc3386ebbd4104541d876e6c7774" title="current argv option index">m_nOptionIdx</a>;    
<a name="l00543"></a><a class="code" href="class_c_simple_opt_templ.html#a6207ba31bb7d7f35a5df92f375d25e01">00543</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a6207ba31bb7d7f35a5df92f375d25e01" title="id of current option (-1 = invalid)">m_nOptionId</a>;     
<a name="l00544"></a><a class="code" href="class_c_simple_opt_templ.html#a49374ac9af67f2f14291f90448c8e2e8">00544</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a49374ac9af67f2f14291f90448c8e2e8" title="index of next option">m_nNextOption</a>;   
<a name="l00545"></a><a class="code" href="class_c_simple_opt_templ.html#a23220ed6560a7a4f5e8f04e3e3f76c41">00545</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a23220ed6560a7a4f5e8f04e3e3f76c41" title="last argument, after this are files">m_nLastArg</a>;      
<a name="l00546"></a><a class="code" href="class_c_simple_opt_templ.html#a806239dfc432f247fd0013479533d08c">00546</a>     <span class="keywordtype">int</span>             <a class="code" href="class_c_simple_opt_templ.html#a806239dfc432f247fd0013479533d08c" title="argc to process">m_argc</a>;          
<a name="l00547"></a><a class="code" href="class_c_simple_opt_templ.html#a940edde88150fc326f6f7727616dcfbe">00547</a>     SOCHAR **       <a class="code" href="class_c_simple_opt_templ.html#a940edde88150fc326f6f7727616dcfbe" title="argv">m_argv</a>;          
<a name="l00548"></a><a class="code" href="class_c_simple_opt_templ.html#ac404e5b550b5629d35e68a596b7fcbf7">00548</a>     <span class="keyword">const</span> SOCHAR *  <a class="code" href="class_c_simple_opt_templ.html#ac404e5b550b5629d35e68a596b7fcbf7" title="curr option text, e.g. &quot;-f&quot;">m_pszOptionText</a>; 
<a name="l00549"></a><a class="code" href="class_c_simple_opt_templ.html#a6537bca0e360a428b35817c3910b8770">00549</a>     SOCHAR *        <a class="code" href="class_c_simple_opt_templ.html#a6537bca0e360a428b35817c3910b8770" title="curr option arg, e.g. &quot;c:\file.txt&quot;">m_pszOptionArg</a>;  
<a name="l00550"></a><a class="code" href="class_c_simple_opt_templ.html#a7106fce51d42ff08c29b4252af6783f8">00550</a>     SOCHAR *        <a class="code" href="class_c_simple_opt_templ.html#a7106fce51d42ff08c29b4252af6783f8" title="clumped single character options">m_pszClump</a>;      
<a name="l00551"></a><a class="code" href="class_c_simple_opt_templ.html#aa9a0b032416674bfb4a21f0667f43831">00551</a>     SOCHAR          <a class="code" href="class_c_simple_opt_templ.html#aa9a0b032416674bfb4a21f0667f43831" title="temp for clump and combined args">m_szShort</a>[3];    
<a name="l00552"></a><a class="code" href="class_c_simple_opt_templ.html#aa43383b56d754b45fe8ac1ead3cefeea">00552</a>     <a class="code" href="_simple_opt_8h.html#afdf5bf76980cdbb6b1a7f639393f6669" title="Error values.">ESOError</a>        <a class="code" href="class_c_simple_opt_templ.html#aa43383b56d754b45fe8ac1ead3cefeea" title="error status from the last call">m_nLastError</a>;    
<a name="l00553"></a><a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7">00553</a>     SOCHAR **       <a class="code" href="class_c_simple_opt_templ.html#a56b3572bc2c28e1b5837b09ca374eae7" title="shuffle buffer for large argc">m_rgShuffleBuf</a>;  
<a name="l00554"></a>00554 };
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l00557"></a>00557 <span class="comment">//                                  IMPLEMENTATION</span>
<a name="l00558"></a>00558 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00561"></a>00561 <span class="keywordtype">bool</span>
<a name="l00562"></a><a class="code" href="class_c_simple_opt_templ.html#a295504063bf4b5cb259541581ee46bfc">00562</a> <a class="code" href="class_c_simple_opt_templ.html#a295504063bf4b5cb259541581ee46bfc" title="Initialize the class in preparation for calling Next.">CSimpleOptTempl&lt;SOCHAR&gt;::Init</a>(
<a name="l00563"></a>00563     <span class="keywordtype">int</span>             a_argc,
<a name="l00564"></a>00564     SOCHAR *        a_argv[],
<a name="l00565"></a>00565     <span class="keyword">const</span> <a class="code" href="struct_c_simple_opt_templ_1_1_s_option.html" title="Structure used to define all known options.">SOption</a> * a_rgOptions,
<a name="l00566"></a>00566     <span class="keywordtype">int</span>             a_nFlags
<a name="l00567"></a>00567     )
<a name="l00568"></a>00568 {
<a name="l00569"></a>00569     m_argc           = a_argc;
<a name="l00570"></a>00570     m_nLastArg       = a_argc;
<a name="l00571"></a>00571     m_argv           = a_argv;
<a name="l00572"></a>00572     m_rgOptions      = a_rgOptions;
<a name="l00573"></a>00573     m_nLastError     = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770" title="No error.">SO_SUCCESS</a>;
<a name="l00574"></a>00574     m_nOptionIdx     = 0;
<a name="l00575"></a>00575     m_nOptionId      = -1;
<a name="l00576"></a>00576     m_pszOptionText  = NULL;
<a name="l00577"></a>00577     m_pszOptionArg   = NULL;
<a name="l00578"></a>00578     m_nNextOption    = (a_nFlags &amp; <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca2bf192f65bd1335b9454abb659960b0b">SO_O_USEALL</a>) ? 0 : 1;
<a name="l00579"></a>00579     m_szShort[0]     = (SOCHAR)<span class="charliteral">&#39;-&#39;</span>;
<a name="l00580"></a>00580     m_szShort[2]     = (SOCHAR)<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00581"></a>00581     m_nFlags         = a_nFlags;
<a name="l00582"></a>00582     m_pszClump       = NULL;
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 <span class="preprocessor">#ifdef SO_MAX_ARGS</span>
<a name="l00585"></a>00585 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_argc &gt; SO_MAX_ARGS) {
<a name="l00586"></a>00586         m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eafa64f2e31ca6b0ee334aa2c8d95fa2ed">SO_ARG_INVALID_DATA</a>;
<a name="l00587"></a>00587         m_nLastArg = 0;
<a name="l00588"></a>00588         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590 <span class="preprocessor">#else</span>
<a name="l00591"></a>00591 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_rgShuffleBuf) {
<a name="l00592"></a>00592         free(m_rgShuffleBuf);
<a name="l00593"></a>00593     }
<a name="l00594"></a>00594     <span class="keywordflow">if</span> (m_argc &gt; <a class="code" href="_simple_opt_8h.html#aadccaa0f8d62af3d2fc7d014ae376597">SO_STATICBUF</a>) {
<a name="l00595"></a>00595         m_rgShuffleBuf = (SOCHAR**) malloc(<span class="keyword">sizeof</span>(SOCHAR*) * m_argc);
<a name="l00596"></a>00596         <span class="keywordflow">if</span> (!m_rgShuffleBuf) {
<a name="l00597"></a>00597             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00598"></a>00598         }
<a name="l00599"></a>00599     }
<a name="l00600"></a>00600 <span class="preprocessor">#endif</span>
<a name="l00601"></a>00601 <span class="preprocessor"></span>
<a name="l00602"></a>00602     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00603"></a>00603 }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00606"></a>00606 <span class="keywordtype">bool</span>
<a name="l00607"></a><a class="code" href="class_c_simple_opt_templ.html#ac0eef4bbcc3097ff36af89be3c0b820f">00607</a> <a class="code" href="class_c_simple_opt_templ.html#ac0eef4bbcc3097ff36af89be3c0b820f" title="Advance to the next option if available.">CSimpleOptTempl&lt;SOCHAR&gt;::Next</a>()
<a name="l00608"></a>00608 {
<a name="l00609"></a>00609 <span class="preprocessor">#ifdef SO_MAX_ARGS</span>
<a name="l00610"></a>00610 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_argc &gt; SO_MAX_ARGS) {
<a name="l00611"></a>00611         <a class="code" href="_simple_opt_8h.html#aef04e770d2ff67119511cf3f134c8eaa" title="assertion used to test input data">SO_ASSERT</a>(!<span class="stringliteral">&quot;Too many args! Check the return value of Init()!&quot;</span>);
<a name="l00612"></a>00612         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00613"></a>00613     }
<a name="l00614"></a>00614 <span class="preprocessor">#endif</span>
<a name="l00615"></a>00615 <span class="preprocessor"></span>
<a name="l00616"></a>00616     <span class="comment">// process a clumped option string if appropriate</span>
<a name="l00617"></a>00617     <span class="keywordflow">if</span> (m_pszClump &amp;&amp; *m_pszClump) {
<a name="l00618"></a>00618         <span class="comment">// silently discard invalid clumped option</span>
<a name="l00619"></a>00619         <span class="keywordtype">bool</span> bIsValid = NextClumped();
<a name="l00620"></a>00620         <span class="keywordflow">while</span> (*m_pszClump &amp;&amp; !bIsValid &amp;&amp; HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">SO_O_NOERR</a>)) {
<a name="l00621"></a>00621             bIsValid = NextClumped();
<a name="l00622"></a>00622         }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624         <span class="comment">// return this option if valid or we are returning errors</span>
<a name="l00625"></a>00625         <span class="keywordflow">if</span> (bIsValid || !HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">SO_O_NOERR</a>)) {
<a name="l00626"></a>00626             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00627"></a>00627         }
<a name="l00628"></a>00628     }
<a name="l00629"></a>00629     <a class="code" href="_simple_opt_8h.html#aef04e770d2ff67119511cf3f134c8eaa" title="assertion used to test input data">SO_ASSERT</a>(!m_pszClump || !*m_pszClump);
<a name="l00630"></a>00630     m_pszClump = NULL;
<a name="l00631"></a>00631 
<a name="l00632"></a>00632     <span class="comment">// init for the next option</span>
<a name="l00633"></a>00633     m_nOptionIdx    = m_nNextOption;
<a name="l00634"></a>00634     m_nOptionId     = -1;
<a name="l00635"></a>00635     m_pszOptionText = NULL;
<a name="l00636"></a>00636     m_pszOptionArg  = NULL;
<a name="l00637"></a>00637     m_nLastError    = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770" title="No error.">SO_SUCCESS</a>;
<a name="l00638"></a>00638 
<a name="l00639"></a>00639     <span class="comment">// find the next option</span>
<a name="l00640"></a>00640     SOCHAR cFirst;
<a name="l00641"></a>00641     <span class="keywordtype">int</span> nTableIdx = -1;
<a name="l00642"></a>00642     <span class="keywordtype">int</span> nOptIdx = m_nOptionIdx;
<a name="l00643"></a>00643     <span class="keywordflow">while</span> (nTableIdx &lt; 0 &amp;&amp; nOptIdx &lt; m_nLastArg) {
<a name="l00644"></a>00644         SOCHAR * pszArg = m_argv[nOptIdx];
<a name="l00645"></a>00645         m_pszOptionArg  = NULL;
<a name="l00646"></a>00646 
<a name="l00647"></a>00647         <span class="comment">// find this option in the options table</span>
<a name="l00648"></a>00648         cFirst = PrepareArg(pszArg);
<a name="l00649"></a>00649         <span class="keywordflow">if</span> (pszArg[0] == (SOCHAR)<span class="charliteral">&#39;-&#39;</span>) {
<a name="l00650"></a>00650             <span class="comment">// find any combined argument string and remove equals sign</span>
<a name="l00651"></a>00651             m_pszOptionArg = FindEquals(pszArg);
<a name="l00652"></a>00652             <span class="keywordflow">if</span> (m_pszOptionArg) {
<a name="l00653"></a>00653                 *m_pszOptionArg++ = (SOCHAR)<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00654"></a>00654             }
<a name="l00655"></a>00655         }
<a name="l00656"></a>00656         nTableIdx = LookupOption(pszArg);
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         <span class="comment">// if we didn&#39;t find this option but if it is a short form</span>
<a name="l00659"></a>00659         <span class="comment">// option then we try the alternative forms</span>
<a name="l00660"></a>00660         <span class="keywordflow">if</span> (nTableIdx &lt; 0
<a name="l00661"></a>00661             &amp;&amp; !m_pszOptionArg
<a name="l00662"></a>00662             &amp;&amp; pszArg[0] == (SOCHAR)<span class="charliteral">&#39;-&#39;</span>
<a name="l00663"></a>00663             &amp;&amp; pszArg[1]
<a name="l00664"></a>00664             &amp;&amp; pszArg[1] != (SOCHAR)<span class="charliteral">&#39;-&#39;</span>
<a name="l00665"></a>00665             &amp;&amp; pszArg[2])
<a name="l00666"></a>00666         {
<a name="l00667"></a>00667             <span class="comment">// test for a short-form with argument if appropriate</span>
<a name="l00668"></a>00668             <span class="keywordflow">if</span> (HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca89605372442790f85658886ae4260ebb">SO_O_SHORTARG</a>)) {
<a name="l00669"></a>00669                 m_szShort[1] = pszArg[1];
<a name="l00670"></a>00670                 <span class="keywordtype">int</span> nIdx = LookupOption(m_szShort);
<a name="l00671"></a>00671                 <span class="keywordflow">if</span> (nIdx &gt;= 0
<a name="l00672"></a>00672                     &amp;&amp; (m_rgOptions[nIdx].nArgType == <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0acf1017ce7e594e6cbd0efbc62ac0553e">SO_REQ_CMB</a>
<a name="l00673"></a>00673                         || m_rgOptions[nIdx].nArgType == <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0afb3349dfb7ec9bea6917fdf63ce02445">SO_OPT</a>))
<a name="l00674"></a>00674                 {
<a name="l00675"></a>00675                     m_pszOptionArg = &amp;pszArg[2];
<a name="l00676"></a>00676                     pszArg         = m_szShort;
<a name="l00677"></a>00677                     nTableIdx      = nIdx;
<a name="l00678"></a>00678                 }
<a name="l00679"></a>00679             }
<a name="l00680"></a>00680 
<a name="l00681"></a>00681             <span class="comment">// test for a clumped short-form option string and we didn&#39;t</span>
<a name="l00682"></a>00682             <span class="comment">// match on the short-form argument above</span>
<a name="l00683"></a>00683             <span class="keywordflow">if</span> (nTableIdx &lt; 0 &amp;&amp; HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cac9de7ebe415eeaa0e71b2c14bc5e8ea8">SO_O_CLUMP</a>))  {
<a name="l00684"></a>00684                 m_pszClump = &amp;pszArg[1];
<a name="l00685"></a>00685                 ++m_nNextOption;
<a name="l00686"></a>00686                 <span class="keywordflow">if</span> (nOptIdx &gt; m_nOptionIdx) {
<a name="l00687"></a>00687                     ShuffleArg(m_nOptionIdx, nOptIdx - m_nOptionIdx);
<a name="l00688"></a>00688                 }
<a name="l00689"></a>00689                 <span class="keywordflow">return</span> Next();
<a name="l00690"></a>00690             }
<a name="l00691"></a>00691         }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693         <span class="comment">// The option wasn&#39;t found. If it starts with a switch character</span>
<a name="l00694"></a>00694         <span class="comment">// and we are not suppressing errors for invalid options then it</span>
<a name="l00695"></a>00695         <span class="comment">// is reported as an error, otherwise it is data.</span>
<a name="l00696"></a>00696         <span class="keywordflow">if</span> (nTableIdx &lt; 0) {
<a name="l00697"></a>00697             <span class="keywordflow">if</span> (!HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">SO_O_NOERR</a>) &amp;&amp; pszArg[0] == (SOCHAR)<span class="charliteral">&#39;-&#39;</span>) {
<a name="l00698"></a>00698                 m_pszOptionText = pszArg;
<a name="l00699"></a>00699                 <span class="keywordflow">break</span>;
<a name="l00700"></a>00700             }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702             pszArg[0] = cFirst;
<a name="l00703"></a>00703             ++nOptIdx;
<a name="l00704"></a>00704             <span class="keywordflow">if</span> (m_pszOptionArg) {
<a name="l00705"></a>00705                 *(--m_pszOptionArg) = (SOCHAR)<span class="charliteral">&#39;=&#39;</span>;
<a name="l00706"></a>00706             }
<a name="l00707"></a>00707         }
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     <span class="comment">// end of options</span>
<a name="l00711"></a>00711     <span class="keywordflow">if</span> (nOptIdx &gt;= m_nLastArg) {
<a name="l00712"></a>00712         <span class="keywordflow">if</span> (nOptIdx &gt; m_nOptionIdx) {
<a name="l00713"></a>00713             ShuffleArg(m_nOptionIdx, nOptIdx - m_nOptionIdx);
<a name="l00714"></a>00714         }
<a name="l00715"></a>00715         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00716"></a>00716     }
<a name="l00717"></a>00717     ++m_nNextOption;
<a name="l00718"></a>00718 
<a name="l00719"></a>00719     <span class="comment">// get the option id</span>
<a name="l00720"></a>00720     <a class="code" href="_simple_opt_8h.html#a50e7da6846dce876e059a7ddf17f90c1">ESOArgType</a> nArgType = <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ad071a30aefed56a823d5f0f880635e61">SO_NONE</a>;
<a name="l00721"></a>00721     <span class="keywordflow">if</span> (nTableIdx &lt; 0) {
<a name="l00722"></a>00722         m_nLastError    = (<a class="code" href="_simple_opt_8h.html#afdf5bf76980cdbb6b1a7f639393f6669" title="Error values.">ESOError</a>) nTableIdx; <span class="comment">// error code</span>
<a name="l00723"></a>00723     }
<a name="l00724"></a>00724     <span class="keywordflow">else</span> {
<a name="l00725"></a>00725         m_nOptionId     = m_rgOptions[nTableIdx].nId;
<a name="l00726"></a>00726         m_pszOptionText = m_rgOptions[nTableIdx].pszArg;
<a name="l00727"></a>00727 
<a name="l00728"></a>00728         <span class="comment">// ensure that the arg type is valid</span>
<a name="l00729"></a>00729         nArgType = m_rgOptions[nTableIdx].nArgType;
<a name="l00730"></a>00730         <span class="keywordflow">switch</span> (nArgType) {
<a name="l00731"></a>00731         <span class="keywordflow">case</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ad071a30aefed56a823d5f0f880635e61">SO_NONE</a>:
<a name="l00732"></a>00732             <span class="keywordflow">if</span> (m_pszOptionArg) {
<a name="l00733"></a>00733                 m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea1f6909aba96fa3631104179ddb5336df">SO_ARG_INVALID</a>;
<a name="l00734"></a>00734             }
<a name="l00735"></a>00735             <span class="keywordflow">break</span>;
<a name="l00736"></a>00736 
<a name="l00737"></a>00737         <span class="keywordflow">case</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ac762be8c66ab3c9db70dfce826027383">SO_REQ_SEP</a>:
<a name="l00738"></a>00738             <span class="keywordflow">if</span> (m_pszOptionArg) {
<a name="l00739"></a>00739                 <span class="comment">// they wanted separate args, but we got a combined one,</span>
<a name="l00740"></a>00740                 <span class="comment">// unless we are pedantic, just accept it.</span>
<a name="l00741"></a>00741                 <span class="keywordflow">if</span> (HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5c614f944bd79b16d6814da57737bc0b">SO_O_PEDANTIC</a>)) {
<a name="l00742"></a>00742                     m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eaa12f0354551a3d265a6cddcd28429c2b">SO_ARG_INVALID_TYPE</a>;
<a name="l00743"></a>00743                 }
<a name="l00744"></a>00744             }
<a name="l00745"></a>00745             <span class="comment">// more processing after we shuffle</span>
<a name="l00746"></a>00746             <span class="keywordflow">break</span>;
<a name="l00747"></a>00747 
<a name="l00748"></a>00748         <span class="keywordflow">case</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0acf1017ce7e594e6cbd0efbc62ac0553e">SO_REQ_CMB</a>:
<a name="l00749"></a>00749             <span class="keywordflow">if</span> (!m_pszOptionArg) {
<a name="l00750"></a>00750                 m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ead9bd80f048d611b1868618958facc363" title="Required argument was not supplied.">SO_ARG_MISSING</a>;
<a name="l00751"></a>00751             }
<a name="l00752"></a>00752             <span class="keywordflow">break</span>;
<a name="l00753"></a>00753 
<a name="l00754"></a>00754         <span class="keywordflow">case</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0afb3349dfb7ec9bea6917fdf63ce02445">SO_OPT</a>:
<a name="l00755"></a>00755             <span class="comment">// nothing to do</span>
<a name="l00756"></a>00756             <span class="keywordflow">break</span>;
<a name="l00757"></a>00757 
<a name="l00758"></a>00758         <span class="keywordflow">case</span> <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0a32cf0e7c28ef8b41be7cdd1c34ccc8f7">SO_MULTI</a>:
<a name="l00759"></a>00759             <span class="comment">// nothing to do. Caller must now check for valid arguments</span>
<a name="l00760"></a>00760             <span class="comment">// using GetMultiArg()</span>
<a name="l00761"></a>00761             <span class="keywordflow">break</span>;
<a name="l00762"></a>00762         }
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764 
<a name="l00765"></a>00765     <span class="comment">// shuffle the files out of the way</span>
<a name="l00766"></a>00766     <span class="keywordflow">if</span> (nOptIdx &gt; m_nOptionIdx) {
<a name="l00767"></a>00767         ShuffleArg(m_nOptionIdx, nOptIdx - m_nOptionIdx);
<a name="l00768"></a>00768     }
<a name="l00769"></a>00769 
<a name="l00770"></a>00770     <span class="comment">// we need to return the separate arg if required, just re-use the</span>
<a name="l00771"></a>00771     <span class="comment">// multi-arg code because it all does the same thing</span>
<a name="l00772"></a>00772     <span class="keywordflow">if</span> (   nArgType == <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ac762be8c66ab3c9db70dfce826027383">SO_REQ_SEP</a>
<a name="l00773"></a>00773         &amp;&amp; !m_pszOptionArg
<a name="l00774"></a>00774         &amp;&amp; m_nLastError == <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770" title="No error.">SO_SUCCESS</a>)
<a name="l00775"></a>00775     {
<a name="l00776"></a>00776         SOCHAR ** ppArgs = MultiArg(1);
<a name="l00777"></a>00777         <span class="keywordflow">if</span> (ppArgs) {
<a name="l00778"></a>00778             m_pszOptionArg = *ppArgs;
<a name="l00779"></a>00779         }
<a name="l00780"></a>00780     }
<a name="l00781"></a>00781 
<a name="l00782"></a>00782     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00783"></a>00783 }
<a name="l00784"></a>00784 
<a name="l00785"></a>00785 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00786"></a>00786 <span class="keywordtype">void</span>
<a name="l00787"></a><a class="code" href="class_c_simple_opt_templ.html#ae76dab24d97804c34c2f91a63a8ab288">00787</a> <a class="code" href="class_c_simple_opt_templ.html#ae76dab24d97804c34c2f91a63a8ab288">CSimpleOptTempl&lt;SOCHAR&gt;::Stop</a>()
<a name="l00788"></a>00788 {
<a name="l00789"></a>00789     <span class="keywordflow">if</span> (m_nNextOption &lt; m_nLastArg) {
<a name="l00790"></a>00790         ShuffleArg(m_nNextOption, m_nLastArg - m_nNextOption);
<a name="l00791"></a>00791     }
<a name="l00792"></a>00792 }
<a name="l00793"></a>00793 
<a name="l00794"></a>00794 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00795"></a>00795 SOCHAR
<a name="l00796"></a><a class="code" href="class_c_simple_opt_templ.html#ac43ee4c32540063ae644cbb215a17d0b">00796</a> <a class="code" href="class_c_simple_opt_templ.html#ac43ee4c32540063ae644cbb215a17d0b">CSimpleOptTempl&lt;SOCHAR&gt;::PrepareArg</a>(
<a name="l00797"></a>00797     SOCHAR * a_pszString
<a name="l00798"></a>00798     )<span class="keyword"> const</span>
<a name="l00799"></a>00799 <span class="keyword"></span>{
<a name="l00800"></a>00800 <span class="preprocessor">#ifdef _WIN32</span>
<a name="l00801"></a>00801 <span class="preprocessor"></span>    <span class="comment">// On Windows we can accept the forward slash as a single character</span>
<a name="l00802"></a>00802     <span class="comment">// option delimiter, but it cannot replace the &#39;-&#39; option used to</span>
<a name="l00803"></a>00803     <span class="comment">// denote stdin. On Un*x paths may start with slash so it may not</span>
<a name="l00804"></a>00804     <span class="comment">// be used to start an option.</span>
<a name="l00805"></a>00805     <span class="keywordflow">if</span> (!HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca5d3e106f732eeec3df25536a7816d019">SO_O_NOSLASH</a>)
<a name="l00806"></a>00806         &amp;&amp; a_pszString[0] == (SOCHAR)<span class="charliteral">&#39;/&#39;</span>
<a name="l00807"></a>00807         &amp;&amp; a_pszString[1]
<a name="l00808"></a>00808         &amp;&amp; a_pszString[1] != (SOCHAR)<span class="charliteral">&#39;-&#39;</span>)
<a name="l00809"></a>00809     {
<a name="l00810"></a>00810         a_pszString[0] = (SOCHAR)<span class="charliteral">&#39;-&#39;</span>;
<a name="l00811"></a>00811         <span class="keywordflow">return</span> (SOCHAR)<span class="charliteral">&#39;/&#39;</span>;
<a name="l00812"></a>00812     }
<a name="l00813"></a>00813 <span class="preprocessor">#endif</span>
<a name="l00814"></a>00814 <span class="preprocessor"></span>    <span class="keywordflow">return</span> a_pszString[0];
<a name="l00815"></a>00815 }
<a name="l00816"></a>00816 
<a name="l00817"></a>00817 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00818"></a>00818 <span class="keywordtype">bool</span>
<a name="l00819"></a><a class="code" href="class_c_simple_opt_templ.html#aed9c4aad06a9a50e41fe91c0102044e3">00819</a> <a class="code" href="class_c_simple_opt_templ.html#aed9c4aad06a9a50e41fe91c0102044e3">CSimpleOptTempl&lt;SOCHAR&gt;::NextClumped</a>()
<a name="l00820"></a>00820 {
<a name="l00821"></a>00821     <span class="comment">// prepare for the next clumped option</span>
<a name="l00822"></a>00822     m_szShort[1]    = *m_pszClump++;
<a name="l00823"></a>00823     m_nOptionId     = -1;
<a name="l00824"></a>00824     m_pszOptionText = NULL;
<a name="l00825"></a>00825     m_pszOptionArg  = NULL;
<a name="l00826"></a>00826     m_nLastError    = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea47cc2fde6a254a90eda7834f2960f770" title="No error.">SO_SUCCESS</a>;
<a name="l00827"></a>00827 
<a name="l00828"></a>00828     <span class="comment">// lookup this option, ensure that we are using exact matching</span>
<a name="l00829"></a>00829     <span class="keywordtype">int</span> nSavedFlags = m_nFlags;
<a name="l00830"></a>00830     m_nFlags = <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae9ea56fe015db577ffe3bb4574658db0">SO_O_EXACT</a>;
<a name="l00831"></a>00831     <span class="keywordtype">int</span> nTableIdx = LookupOption(m_szShort);
<a name="l00832"></a>00832     m_nFlags = nSavedFlags;
<a name="l00833"></a>00833 
<a name="l00834"></a>00834     <span class="comment">// unknown option</span>
<a name="l00835"></a>00835     <span class="keywordflow">if</span> (nTableIdx &lt; 0) {
<a name="l00836"></a>00836         m_nLastError = (<a class="code" href="_simple_opt_8h.html#afdf5bf76980cdbb6b1a7f639393f6669" title="Error values.">ESOError</a>) nTableIdx; <span class="comment">// error code</span>
<a name="l00837"></a>00837         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00838"></a>00838     }
<a name="l00839"></a>00839 
<a name="l00840"></a>00840     <span class="comment">// valid option</span>
<a name="l00841"></a>00841     m_pszOptionText = m_rgOptions[nTableIdx].pszArg;
<a name="l00842"></a>00842     <a class="code" href="_simple_opt_8h.html#a50e7da6846dce876e059a7ddf17f90c1">ESOArgType</a> nArgType = m_rgOptions[nTableIdx].nArgType;
<a name="l00843"></a>00843     <span class="keywordflow">if</span> (nArgType == <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0ad071a30aefed56a823d5f0f880635e61">SO_NONE</a>) {
<a name="l00844"></a>00844         m_nOptionId = m_rgOptions[nTableIdx].nId;
<a name="l00845"></a>00845         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00846"></a>00846     }
<a name="l00847"></a>00847 
<a name="l00848"></a>00848     <span class="keywordflow">if</span> (nArgType == <a class="code" href="_simple_opt_8h.html#acb58d7c1b9261cd0a245305a292402d0acf1017ce7e594e6cbd0efbc62ac0553e">SO_REQ_CMB</a> &amp;&amp; *m_pszClump) {
<a name="l00849"></a>00849         m_nOptionId = m_rgOptions[nTableIdx].nId;
<a name="l00850"></a>00850         m_pszOptionArg = m_pszClump;
<a name="l00851"></a>00851         <span class="keywordflow">while</span> (*m_pszClump) ++m_pszClump; <span class="comment">// must point to an empty string</span>
<a name="l00852"></a>00852         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00853"></a>00853     }
<a name="l00854"></a>00854 
<a name="l00855"></a>00855     <span class="comment">// invalid option as it requires an argument</span>
<a name="l00856"></a>00856     m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ead9bd80f048d611b1868618958facc363" title="Required argument was not supplied.">SO_ARG_MISSING</a>;
<a name="l00857"></a>00857     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00858"></a>00858 }
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 <span class="comment">// Shuffle arguments to the end of the argv array.</span>
<a name="l00861"></a>00861 <span class="comment">//</span>
<a name="l00862"></a>00862 <span class="comment">// For example:</span>
<a name="l00863"></a>00863 <span class="comment">//      argv[] = { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot; };</span>
<a name="l00864"></a>00864 <span class="comment">//</span>
<a name="l00865"></a>00865 <span class="comment">//  ShuffleArg(1, 1) = { &quot;0&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;1&quot; };</span>
<a name="l00866"></a>00866 <span class="comment">//  ShuffleArg(5, 2) = { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;7&quot;, &quot;8&quot;, &quot;5&quot;, &quot;6&quot; };</span>
<a name="l00867"></a>00867 <span class="comment">//  ShuffleArg(2, 4) = { &quot;0&quot;, &quot;1&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot; };</span>
<a name="l00868"></a>00868 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00869"></a>00869 <span class="keywordtype">void</span>
<a name="l00870"></a><a class="code" href="class_c_simple_opt_templ.html#ae839959a25abd98b1757d56991536418">00870</a> <a class="code" href="class_c_simple_opt_templ.html#ae839959a25abd98b1757d56991536418">CSimpleOptTempl&lt;SOCHAR&gt;::ShuffleArg</a>(
<a name="l00871"></a>00871     <span class="keywordtype">int</span> a_nStartIdx,
<a name="l00872"></a>00872     <span class="keywordtype">int</span> a_nCount
<a name="l00873"></a>00873     )
<a name="l00874"></a>00874 {
<a name="l00875"></a>00875     SOCHAR * staticBuf[<a class="code" href="_simple_opt_8h.html#aadccaa0f8d62af3d2fc7d014ae376597">SO_STATICBUF</a>];
<a name="l00876"></a>00876     SOCHAR ** buf = m_rgShuffleBuf ? m_rgShuffleBuf : staticBuf;
<a name="l00877"></a>00877     <span class="keywordtype">int</span> nTail = m_argc - a_nStartIdx - a_nCount;
<a name="l00878"></a>00878 
<a name="l00879"></a>00879     <span class="comment">// make a copy of the elements to be moved</span>
<a name="l00880"></a>00880     Copy(buf, m_argv + a_nStartIdx, a_nCount);
<a name="l00881"></a>00881 
<a name="l00882"></a>00882     <span class="comment">// move the tail down</span>
<a name="l00883"></a>00883     Copy(m_argv + a_nStartIdx, m_argv + a_nStartIdx + a_nCount, nTail);
<a name="l00884"></a>00884 
<a name="l00885"></a>00885     <span class="comment">// append the moved elements to the tail</span>
<a name="l00886"></a>00886     Copy(m_argv + a_nStartIdx + nTail, buf, a_nCount);
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     <span class="comment">// update the index of the last unshuffled arg</span>
<a name="l00889"></a>00889     m_nLastArg -= a_nCount;
<a name="l00890"></a>00890 }
<a name="l00891"></a>00891 
<a name="l00892"></a>00892 <span class="comment">// match on the long format strings. partial matches will be</span>
<a name="l00893"></a>00893 <span class="comment">// accepted only if that feature is enabled.</span>
<a name="l00894"></a>00894 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00895"></a>00895 <span class="keywordtype">int</span>
<a name="l00896"></a><a class="code" href="class_c_simple_opt_templ.html#a90380c291fd14816ac48d6d9f01deb60">00896</a> <a class="code" href="class_c_simple_opt_templ.html#a90380c291fd14816ac48d6d9f01deb60">CSimpleOptTempl&lt;SOCHAR&gt;::LookupOption</a>(
<a name="l00897"></a>00897     <span class="keyword">const</span> SOCHAR * a_pszOption
<a name="l00898"></a>00898     )<span class="keyword"> const</span>
<a name="l00899"></a>00899 <span class="keyword"></span>{
<a name="l00900"></a>00900     <span class="keywordtype">int</span> nBestMatch = -1;    <span class="comment">// index of best match so far</span>
<a name="l00901"></a>00901     <span class="keywordtype">int</span> nBestMatchLen = 0;  <span class="comment">// matching characters of best match</span>
<a name="l00902"></a>00902     <span class="keywordtype">int</span> nLastMatchLen = 0;  <span class="comment">// matching characters of last best match</span>
<a name="l00903"></a>00903 
<a name="l00904"></a>00904     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; m_rgOptions[n].nId &gt;= 0; ++n) {
<a name="l00905"></a>00905         <span class="comment">// the option table must use hyphens as the option character,</span>
<a name="l00906"></a>00906         <span class="comment">// the slash character is converted to a hyphen for testing.</span>
<a name="l00907"></a>00907         <a class="code" href="_simple_opt_8h.html#aef04e770d2ff67119511cf3f134c8eaa" title="assertion used to test input data">SO_ASSERT</a>(m_rgOptions[n].pszArg[0] != (SOCHAR)<span class="charliteral">&#39;/&#39;</span>);
<a name="l00908"></a>00908 
<a name="l00909"></a>00909         <span class="keywordtype">int</span> nMatchLen = CalcMatch(m_rgOptions[n].pszArg, a_pszOption);
<a name="l00910"></a>00910         <span class="keywordflow">if</span> (nMatchLen == -1) {
<a name="l00911"></a>00911             <span class="keywordflow">return</span> n;
<a name="l00912"></a>00912         }
<a name="l00913"></a>00913         <span class="keywordflow">if</span> (nMatchLen &gt; 0 &amp;&amp; nMatchLen &gt;= nBestMatchLen) {
<a name="l00914"></a>00914             nLastMatchLen = nBestMatchLen;
<a name="l00915"></a>00915             nBestMatchLen = nMatchLen;
<a name="l00916"></a>00916             nBestMatch = n;
<a name="l00917"></a>00917         }
<a name="l00918"></a>00918     }
<a name="l00919"></a>00919 
<a name="l00920"></a>00920     <span class="comment">// only partial matches or no match gets to here, ensure that we</span>
<a name="l00921"></a>00921     <span class="comment">// don&#39;t return a partial match unless it is a clear winner</span>
<a name="l00922"></a>00922     <span class="keywordflow">if</span> (HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae9ea56fe015db577ffe3bb4574658db0">SO_O_EXACT</a>) || nBestMatch == -1) {
<a name="l00923"></a>00923         <span class="keywordflow">return</span> <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7cef1b6c4d9a8be0961964e254cc2d6b">SO_OPT_INVALID</a>;
<a name="l00924"></a>00924     }
<a name="l00925"></a>00925     <span class="keywordflow">return</span> (nBestMatchLen &gt; nLastMatchLen) ? nBestMatch : <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ea7a90d467d2a707e85e7229d5eb57a160">SO_OPT_MULTIPLE</a>;
<a name="l00926"></a>00926 }
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 <span class="comment">// calculate the number of characters that match (case-sensitive)</span>
<a name="l00929"></a>00929 <span class="comment">// 0 = no match, &gt; 0 == number of characters, -1 == perfect match</span>
<a name="l00930"></a>00930 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00931"></a>00931 <span class="keywordtype">int</span>
<a name="l00932"></a><a class="code" href="class_c_simple_opt_templ.html#a06e388266b7e1bd1cbcb08c276fc2cb1">00932</a> <a class="code" href="class_c_simple_opt_templ.html#a06e388266b7e1bd1cbcb08c276fc2cb1">CSimpleOptTempl&lt;SOCHAR&gt;::CalcMatch</a>(
<a name="l00933"></a>00933     <span class="keyword">const</span> SOCHAR *  a_pszSource,
<a name="l00934"></a>00934     <span class="keyword">const</span> SOCHAR *  a_pszTest
<a name="l00935"></a>00935     )<span class="keyword"> const</span>
<a name="l00936"></a>00936 <span class="keyword"></span>{
<a name="l00937"></a>00937     <span class="keywordflow">if</span> (!a_pszSource || !a_pszTest) {
<a name="l00938"></a>00938         <span class="keywordflow">return</span> 0;
<a name="l00939"></a>00939     }
<a name="l00940"></a>00940 
<a name="l00941"></a>00941     <span class="comment">// determine the argument type</span>
<a name="l00942"></a>00942     <span class="keywordtype">int</span> nArgType = <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cae36943ac75d3e34760be3047d15a348c">SO_O_ICASE_LONG</a>;
<a name="l00943"></a>00943     <span class="keywordflow">if</span> (a_pszSource[0] != <span class="charliteral">&#39;-&#39;</span>) {
<a name="l00944"></a>00944         nArgType = <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655cad9b17d8b65b887e649081e1e40e910fd">SO_O_ICASE_WORD</a>;
<a name="l00945"></a>00945     }
<a name="l00946"></a>00946     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a_pszSource[1] != <span class="charliteral">&#39;-&#39;</span> &amp;&amp; !a_pszSource[2]) {
<a name="l00947"></a>00947         nArgType = <a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca98d7e55856e3abe1ffbaaa0b1353f13c">SO_O_ICASE_SHORT</a>;
<a name="l00948"></a>00948     }
<a name="l00949"></a>00949 
<a name="l00950"></a>00950     <span class="comment">// match and skip leading hyphens</span>
<a name="l00951"></a>00951     <span class="keywordflow">while</span> (*a_pszSource == (SOCHAR)<span class="charliteral">&#39;-&#39;</span> &amp;&amp; *a_pszSource == *a_pszTest) {
<a name="l00952"></a>00952         ++a_pszSource;
<a name="l00953"></a>00953         ++a_pszTest;
<a name="l00954"></a>00954     }
<a name="l00955"></a>00955     <span class="keywordflow">if</span> (*a_pszSource == (SOCHAR)<span class="charliteral">&#39;-&#39;</span> || *a_pszTest == (SOCHAR)<span class="charliteral">&#39;-&#39;</span>) {
<a name="l00956"></a>00956         <span class="keywordflow">return</span> 0;
<a name="l00957"></a>00957     }
<a name="l00958"></a>00958 
<a name="l00959"></a>00959     <span class="comment">// find matching number of characters in the strings</span>
<a name="l00960"></a>00960     <span class="keywordtype">int</span> nLen = 0;
<a name="l00961"></a>00961     <span class="keywordflow">while</span> (*a_pszSource &amp;&amp; IsEqual(*a_pszSource, *a_pszTest, nArgType)) {
<a name="l00962"></a>00962         ++a_pszSource;
<a name="l00963"></a>00963         ++a_pszTest;
<a name="l00964"></a>00964         ++nLen;
<a name="l00965"></a>00965     }
<a name="l00966"></a>00966 
<a name="l00967"></a>00967     <span class="comment">// if we have exhausted the source...</span>
<a name="l00968"></a>00968     <span class="keywordflow">if</span> (!*a_pszSource) {
<a name="l00969"></a>00969         <span class="comment">// and the test strings, then it&#39;s a perfect match</span>
<a name="l00970"></a>00970         <span class="keywordflow">if</span> (!*a_pszTest) {
<a name="l00971"></a>00971             <span class="keywordflow">return</span> -1;
<a name="l00972"></a>00972         }
<a name="l00973"></a>00973 
<a name="l00974"></a>00974         <span class="comment">// otherwise the match failed as the test is longer than</span>
<a name="l00975"></a>00975         <span class="comment">// the source. i.e. &quot;--mant&quot; will not match the option &quot;--man&quot;.</span>
<a name="l00976"></a>00976         <span class="keywordflow">return</span> 0;
<a name="l00977"></a>00977     }
<a name="l00978"></a>00978 
<a name="l00979"></a>00979     <span class="comment">// if we haven&#39;t exhausted the test string then it is not a match</span>
<a name="l00980"></a>00980     <span class="comment">// i.e. &quot;--mantle&quot; will not best-fit match to &quot;--mandate&quot; at all.</span>
<a name="l00981"></a>00981     <span class="keywordflow">if</span> (*a_pszTest) {
<a name="l00982"></a>00982         <span class="keywordflow">return</span> 0;
<a name="l00983"></a>00983     }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985     <span class="comment">// partial match to the current length of the test string</span>
<a name="l00986"></a>00986     <span class="keywordflow">return</span> nLen;
<a name="l00987"></a>00987 }
<a name="l00988"></a>00988 
<a name="l00989"></a>00989 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l00990"></a>00990 <span class="keywordtype">bool</span>
<a name="l00991"></a><a class="code" href="class_c_simple_opt_templ.html#aaad77103d87dc4ec85a48b4bbe3a5700">00991</a> <a class="code" href="class_c_simple_opt_templ.html#aaad77103d87dc4ec85a48b4bbe3a5700">CSimpleOptTempl&lt;SOCHAR&gt;::IsEqual</a>(
<a name="l00992"></a>00992     SOCHAR  a_cLeft,
<a name="l00993"></a>00993     SOCHAR  a_cRight,
<a name="l00994"></a>00994     <span class="keywordtype">int</span>     a_nArgType
<a name="l00995"></a>00995     )<span class="keyword"> const</span>
<a name="l00996"></a>00996 <span class="keyword"></span>{
<a name="l00997"></a>00997     <span class="comment">// if this matches then we are doing case-insensitive matching</span>
<a name="l00998"></a>00998     <span class="keywordflow">if</span> (m_nFlags &amp; a_nArgType) {
<a name="l00999"></a>00999         <span class="keywordflow">if</span> (a_cLeft  &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; a_cLeft  &lt;= <span class="charliteral">&#39;Z&#39;</span>) a_cLeft  += <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;
<a name="l01000"></a>01000         <span class="keywordflow">if</span> (a_cRight &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; a_cRight &lt;= <span class="charliteral">&#39;Z&#39;</span>) a_cRight += <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;
<a name="l01001"></a>01001     }
<a name="l01002"></a>01002     <span class="keywordflow">return</span> a_cLeft == a_cRight;
<a name="l01003"></a>01003 }
<a name="l01004"></a>01004 
<a name="l01005"></a>01005 <span class="comment">// calculate the number of characters that match (case-sensitive)</span>
<a name="l01006"></a>01006 <span class="comment">// 0 = no match, &gt; 0 == number of characters, -1 == perfect match</span>
<a name="l01007"></a>01007 <span class="keyword">template</span>&lt;<span class="keyword">class</span> SOCHAR&gt;
<a name="l01008"></a>01008 SOCHAR **
<a name="l01009"></a><a class="code" href="class_c_simple_opt_templ.html#ad0ec3543a8272202a107ddbfee19a09d">01009</a> <a class="code" href="class_c_simple_opt_templ.html#ad0ec3543a8272202a107ddbfee19a09d" title="Validate and return the desired number of arguments.">CSimpleOptTempl&lt;SOCHAR&gt;::MultiArg</a>(
<a name="l01010"></a>01010     <span class="keywordtype">int</span> a_nCount
<a name="l01011"></a>01011     )
<a name="l01012"></a>01012 {
<a name="l01013"></a>01013     <span class="comment">// ensure we have enough arguments</span>
<a name="l01014"></a>01014     <span class="keywordflow">if</span> (m_nNextOption + a_nCount &gt; m_nLastArg) {
<a name="l01015"></a>01015         m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32ead9bd80f048d611b1868618958facc363" title="Required argument was not supplied.">SO_ARG_MISSING</a>;
<a name="l01016"></a>01016         <span class="keywordflow">return</span> NULL;
<a name="l01017"></a>01017     }
<a name="l01018"></a>01018 
<a name="l01019"></a>01019     <span class="comment">// our argument array</span>
<a name="l01020"></a>01020     SOCHAR ** rgpszArg = &amp;m_argv[m_nNextOption];
<a name="l01021"></a>01021 
<a name="l01022"></a>01022     <span class="comment">// Ensure that each of the following don&#39;t start with an switch character.</span>
<a name="l01023"></a>01023     <span class="comment">// Only make this check if we are returning errors for unknown arguments.</span>
<a name="l01024"></a>01024     <span class="keywordflow">if</span> (!HasFlag(<a class="code" href="_simple_opt_8h.html#a109074059825d7854b1cbda2ae0e655ca602621e24cc508e09dff311a58b9cb4c">SO_O_NOERR</a>)) {
<a name="l01025"></a>01025         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; a_nCount; ++n) {
<a name="l01026"></a>01026             SOCHAR ch = PrepareArg(rgpszArg[n]);
<a name="l01027"></a>01027             <span class="keywordflow">if</span> (rgpszArg[n][0] == (SOCHAR)<span class="charliteral">&#39;-&#39;</span>) {
<a name="l01028"></a>01028                 rgpszArg[n][0] = ch;
<a name="l01029"></a>01029                 m_nLastError = <a class="code" href="_simple_opt_8h.html#a9a98a08114825ad62afde60607e5c32eafa64f2e31ca6b0ee334aa2c8d95fa2ed">SO_ARG_INVALID_DATA</a>;
<a name="l01030"></a>01030                 <span class="keywordflow">return</span> NULL;
<a name="l01031"></a>01031             }
<a name="l01032"></a>01032             rgpszArg[n][0] = ch;
<a name="l01033"></a>01033         }
<a name="l01034"></a>01034     }
<a name="l01035"></a>01035 
<a name="l01036"></a>01036     <span class="comment">// all good</span>
<a name="l01037"></a>01037     m_nNextOption += a_nCount;
<a name="l01038"></a>01038     <span class="keywordflow">return</span> rgpszArg;
<a name="l01039"></a>01039 }
<a name="l01040"></a>01040 
<a name="l01041"></a>01041 
<a name="l01042"></a>01042 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l01043"></a>01043 <span class="comment">//                                  TYPE DEFINITIONS</span>
<a name="l01044"></a>01044 <span class="comment">// ---------------------------------------------------------------------------</span>
<a name="l01045"></a>01045 
<a name="l01047"></a><a class="code" href="_simple_opt_8h.html#a7e3e692e09fe7e68d751de7bfdcff0e0">01047</a> <span class="keyword">typedef</span> <a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl&lt;char&gt;</a>    <a class="code" href="_simple_opt_8h.html#a7e3e692e09fe7e68d751de7bfdcff0e0" title="ASCII/MBCS version of CSimpleOpt.">CSimpleOptA</a>;
<a name="l01048"></a>01048 
<a name="l01050"></a><a class="code" href="_simple_opt_8h.html#a1429b2cd4258d668e3433649c9db5b75">01050</a> <span class="keyword">typedef</span> <a class="code" href="class_c_simple_opt_templ.html" title="Implementation of the SimpleOpt class.">CSimpleOptTempl&lt;wchar_t&gt;</a> <a class="code" href="_simple_opt_8h.html#a1429b2cd4258d668e3433649c9db5b75" title="wchar_t version of CSimpleOpt">CSimpleOptW</a>;
<a name="l01051"></a>01051 
<a name="l01052"></a>01052 <span class="preprocessor">#if defined(_UNICODE)</span>
<a name="l01053"></a>01053 <span class="preprocessor"></span>
<a name="l01054"></a>01054 <span class="preprocessor"># define CSimpleOpt CSimpleOptW</span>
<a name="l01055"></a>01055 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l01056"></a>01056 <span class="preprocessor"></span>
<a name="l01057"></a><a class="code" href="_simple_opt_8h.html#a75b3d3daa3f7b4893be751eea4943b41">01057</a> <span class="preprocessor"># define CSimpleOpt CSimpleOptA</span>
<a name="l01058"></a>01058 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01059"></a>01059 <span class="preprocessor"></span>
<a name="l01060"></a>01060 <span class="preprocessor">#endif // INCLUDED_SimpleOpt</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 12 2015 11:55:32 for Rigs of Rods by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
