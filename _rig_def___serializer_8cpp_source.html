<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Rigs of Rods: source/rig_file_input_output/RigDef_Serializer.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="rorlogo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rigs of Rods
   
   </div>
   <div id="projectbrief">Soft-body Physics Simulation</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">source/rig_file_input_output/RigDef_Serializer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_rig_def___serializer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">    This source file is part of Rigs of Rods</span>
<a name="l00003"></a>00003 <span class="comment">    Copyright 2005-2012 Pierre-Michel Ricordel</span>
<a name="l00004"></a>00004 <span class="comment">    Copyright 2007-2012 Thomas Fischer</span>
<a name="l00005"></a>00005 <span class="comment">    Copyright 2013-2015 Petr Ohlidal</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">    For more information, see http://www.rigsofrods.com/</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">    Rigs of Rods is free software: you can redistribute it and/or modify</span>
<a name="l00010"></a>00010 <span class="comment">    it under the terms of the GNU General Public License version 3, as</span>
<a name="l00011"></a>00011 <span class="comment">    published by the Free Software Foundation.</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">    Rigs of Rods is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<a name="l00016"></a>00016 <span class="comment">    GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment">    You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment">    along with Rigs of Rods. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="_rig_def___serializer_8h.html">RigDef_Serializer.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="_rig_def___file_8h.html" title="Structures which represent a rig-definition file (1:1 match)">RigDef_File.h</a>&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;OgreStringConverter.h&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">using namespace </span>RigDef;
<a name="l00036"></a>00036 <span class="keyword">using namespace </span>std;
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="class_rig_def_1_1_serializer.html#a35cf977b84b42bb33abdfaf6ec564b65">00038</a> <a class="code" href="class_rig_def_1_1_serializer.html#a35cf977b84b42bb33abdfaf6ec564b65">Serializer::Serializer</a>(boost::shared_ptr&lt;RigDef::File&gt; def_file, Ogre::String <span class="keyword">const</span> &amp; file_path):
<a name="l00039"></a>00039     m_file_path(file_path),
<a name="l00040"></a>00040     m_rig_def(def_file),
<a name="l00041"></a>00041     m_node_id_width(5),
<a name="l00042"></a>00042     m_float_precision(6),
<a name="l00043"></a>00043     m_inertia_function_width(10),
<a name="l00044"></a>00044     m_bool_width(5), <span class="comment">// strlen(&quot;false&quot;) == 5</span>
<a name="l00045"></a>00045     m_command_key_width(2),
<a name="l00046"></a>00046     m_float_width(10)
<a name="l00047"></a>00047 {}
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="class_rig_def_1_1_serializer.html#a42a7d2d8e622ad1ef5f869813b498aa9">00049</a> <a class="code" href="class_rig_def_1_1_serializer.html#a42a7d2d8e622ad1ef5f869813b498aa9">Serializer::~Serializer</a>()
<a name="l00050"></a>00050 {}
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="class_rig_def_1_1_serializer.html#a0d25ba7124bac77109b3251d0d5014ec">00052</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a0d25ba7124bac77109b3251d0d5014ec">Serializer::Serialize</a>()
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054     <span class="comment">// Open file</span>
<a name="l00055"></a>00055     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>.open(<a class="code" href="class_rig_def_1_1_serializer.html#ad50cc0a48600270d1bc5c896d4a1c8e2">m_file_path</a>);
<a name="l00056"></a>00056     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>.precision(<a class="code" href="class_rig_def_1_1_serializer.html#affdc1c38a64c17414bcaa700504992d4">m_float_precision</a>); <span class="comment">// Permanent</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058     <span class="comment">// Write header</span>
<a name="l00059"></a>00059     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;name &lt;&lt; endl &lt;&lt; endl;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061     <span class="comment">// Write banner</span>
<a name="l00062"></a>00062     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l00063"></a>00063         &lt;&lt; <span class="stringliteral">&quot;; ---------------------------------------------------------------------------- ;&quot;</span> &lt;&lt; endl
<a name="l00064"></a>00064         &lt;&lt; <span class="stringliteral">&quot;; Rigs of Rods project (www.rigsofrods.com)                                    ;&quot;</span> &lt;&lt; endl
<a name="l00065"></a>00065         &lt;&lt; <span class="stringliteral">&quot;; =========================================                                    ;&quot;</span> &lt;&lt; endl
<a name="l00066"></a>00066         &lt;&lt; <span class="stringliteral">&quot;;                                                                              ;&quot;</span> &lt;&lt; endl
<a name="l00067"></a>00067         &lt;&lt; <span class="stringliteral">&quot;; This is a rig definition file.                                               ;&quot;</span> &lt;&lt; endl
<a name="l00068"></a>00068         &lt;&lt; <span class="stringliteral">&quot;; See http://www.rigsofrods.com/wiki/pages/Truck_Description_File for details. ;&quot;</span> &lt;&lt; endl
<a name="l00069"></a>00069         &lt;&lt; <span class="stringliteral">&quot;; ---------------------------------------------------------------------------- ;&quot;</span> &lt;&lt; endl
<a name="l00070"></a>00070         &lt;&lt; endl;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     <span class="comment">// Select source</span>
<a name="l00073"></a>00073     <a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* source_module = <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;root_module.get();
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     <span class="comment">// Write individual elements</span>
<a name="l00076"></a>00076     <a class="code" href="class_rig_def_1_1_serializer.html#ae95ba94a4bd9845212b3dcfca766475e">ProcessDescription</a>();
<a name="l00077"></a>00077     <a class="code" href="class_rig_def_1_1_serializer.html#a027dbf6f14f5363939e7d7927b3bbca2">ProcessAuthors</a>();
<a name="l00078"></a>00078     <a class="code" href="class_rig_def_1_1_serializer.html#a1a008b96aad3023ab72c3cb43a9c9a20">ProcessGlobals</a>(source_module);
<a name="l00079"></a>00079     <a class="code" href="class_rig_def_1_1_serializer.html#a45247c7de48f7058a3764dab240f8b9f">ProcessFileinfo</a>();
<a name="l00080"></a>00080     <a class="code" href="class_rig_def_1_1_serializer.html#a8efa65f8404da63b8043cdbd03fe3e45">WriteFlags</a>();
<a name="l00081"></a>00081     <a class="code" href="class_rig_def_1_1_serializer.html#a1ef335ce60d63f133d0cf66aad204f67">ProcessManagedMaterialsAndOptions</a>(source_module);
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     <span class="comment">// Section &#39;minimass&#39;</span>
<a name="l00084"></a>00084     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;_minimum_mass_set)
<a name="l00085"></a>00085     {
<a name="l00086"></a>00086         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;minimass&quot;</span> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;minimum_mass &lt;&lt; endl &lt;&lt; endl;
<a name="l00087"></a>00087     }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="comment">// Structure</span>
<a name="l00090"></a>00090     <a class="code" href="class_rig_def_1_1_serializer.html#a8c9186f75ca10d02b4557395a8076f02">ProcessNodes</a>(source_module);
<a name="l00091"></a>00091     <a class="code" href="class_rig_def_1_1_serializer.html#a9b24fd9334313fb43cf6796ca73a7df1">ProcessBeams</a>(source_module);
<a name="l00092"></a>00092     <a class="code" href="class_rig_def_1_1_serializer.html#ace7ad49329d7cc18c57fd9a6dd3bf2f9">ProcessShocks</a>(source_module);
<a name="l00093"></a>00093     <a class="code" href="class_rig_def_1_1_serializer.html#a533f0148390973d66b2df0289ac52692">ProcessShocks2</a>(source_module);
<a name="l00094"></a>00094     <a class="code" href="class_rig_def_1_1_serializer.html#a53de166f4babccd333af04bce98177f3">ProcessHydros</a>(source_module);
<a name="l00095"></a>00095     <a class="code" href="class_rig_def_1_1_serializer.html#aad66db1f3b8afcd3076515ac99f7a33b">ProcessCommands2</a>(source_module);
<a name="l00096"></a>00096     <a class="code" href="class_rig_def_1_1_serializer.html#a04edb95ea5d528a458c67839425d6286">ProcessSlideNodes</a>(source_module);
<a name="l00097"></a>00097     <a class="code" href="class_rig_def_1_1_serializer.html#a6bb83111c5d3f89a0770960783e2428c">ProcessTies</a>(source_module);
<a name="l00098"></a>00098     <a class="code" href="class_rig_def_1_1_serializer.html#abdb6b328b0fd16fff3b2c2e9147017fe">ProcessRopes</a>(source_module);
<a name="l00099"></a>00099     <a class="code" href="class_rig_def_1_1_serializer.html#a9eb2f4689078681bcba2816406ac9dd8">ProcessFixes</a>(source_module);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="comment">// Wheels</span>
<a name="l00102"></a>00102     <a class="code" href="class_rig_def_1_1_serializer.html#a4476e8e2f110e3747687aac24850a45a">ProcessMeshWheels</a>(source_module);
<a name="l00103"></a>00103     <a class="code" href="class_rig_def_1_1_serializer.html#a96611d98bdc3b708118d05f5e8ac3208">ProcessMeshWheels2</a>(source_module);
<a name="l00104"></a>00104     <a class="code" href="class_rig_def_1_1_serializer.html#a2512335af325b011b8c8d14572f62069">ProcessWheels</a>(source_module);
<a name="l00105"></a>00105     <a class="code" href="class_rig_def_1_1_serializer.html#adfe00d1b7ca3d28e5fca8d73cc7a6566">ProcessWheels2</a>(source_module);
<a name="l00106"></a>00106     <a class="code" href="class_rig_def_1_1_serializer.html#a69559a22c6063dd735efa77ddffdcbdf">ProcessFlexBodyWheels</a>(source_module);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     <span class="comment">// Driving</span>
<a name="l00109"></a>00109     <a class="code" href="class_rig_def_1_1_serializer.html#a57b0811f1ca705eba6b6043efca486f9">ProcessEngine</a>(source_module);
<a name="l00110"></a>00110     <a class="code" href="class_rig_def_1_1_serializer.html#a3e8b3018a47eda5169e66cc3b63e126d">ProcessEngoption</a>(source_module);
<a name="l00111"></a>00111     <a class="code" href="class_rig_def_1_1_serializer.html#aef744c34d83f94e152800daa4bd2f263">ProcessBrakes</a>(source_module);
<a name="l00112"></a>00112     <a class="code" href="class_rig_def_1_1_serializer.html#a9fffeedffdef362bfdbe302a5c89639b">ProcessAntiLockBrakes</a>(source_module);
<a name="l00113"></a>00113     <a class="code" href="class_rig_def_1_1_serializer.html#a547db49588ceab2a653504e66d9cc3da">ProcessTractionControl</a>(source_module);
<a name="l00114"></a>00114     <a class="code" href="class_rig_def_1_1_serializer.html#a4a609ac681bd40e1185905fbc5d3a86b">ProcessSlopeBrake</a>(source_module);
<a name="l00115"></a>00115     <a class="code" href="class_rig_def_1_1_serializer.html#ac1fab767fe808cdbf921479ff8d289cc">ProcessTorqueCurve</a>(source_module);
<a name="l00116"></a>00116     <a class="code" href="class_rig_def_1_1_serializer.html#a19d423cd038d51e43fda37664cf1d851">ProcessCruiseControl</a>(source_module);
<a name="l00117"></a>00117     <a class="code" href="class_rig_def_1_1_serializer.html#aa4942abe1a063c954a677271a92d3258">ProcessSpeedLimiter</a>(source_module);
<a name="l00118"></a>00118     <a class="code" href="class_rig_def_1_1_serializer.html#a25fc577b7a65400ca481543c5ee27230">ProcessAxles</a>(source_module);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <span class="comment">// Features</span>
<a name="l00121"></a>00121     <a class="code" href="class_rig_def_1_1_serializer.html#a082c62f4f9a8da59cddf21ac4bdf6f18">ProcessCinecam</a>(source_module);
<a name="l00122"></a>00122     <a class="code" href="class_rig_def_1_1_serializer.html#a8997bed2ba67f01bea10055f2a741781">ProcessAnimators</a>(source_module);
<a name="l00123"></a>00123     <a class="code" href="class_rig_def_1_1_serializer.html#a3ca27dc8e5051f8f21c178d30cff5169">ProcessContacters</a>(source_module);
<a name="l00124"></a>00124     <a class="code" href="class_rig_def_1_1_serializer.html#adaf2b0f83b2d511596ee19951afb719d">ProcessTriggers</a>(source_module);
<a name="l00125"></a>00125     <a class="code" href="class_rig_def_1_1_serializer.html#a7d041f4d8a840cd80ba996c9ff042d14">ProcessLockgroups</a>(source_module);
<a name="l00126"></a>00126     <a class="code" href="class_rig_def_1_1_serializer.html#afced5113c96951a5707ece2681056d48">ProcessHooks</a>(source_module);
<a name="l00127"></a>00127     <a class="code" href="class_rig_def_1_1_serializer.html#a5189dcc5a136326e5d70f7454ca028ad">ProcessRailGroups</a>(source_module);
<a name="l00128"></a>00128     <a class="code" href="class_rig_def_1_1_serializer.html#ad9cb272bc320f7c6140239ea89ca9e31">ProcessRopables</a>(source_module);
<a name="l00129"></a>00129     <a class="code" href="class_rig_def_1_1_serializer.html#a0c404a3a46526aa0b9d0e0af04a05213">ProcessParticles</a>(source_module);
<a name="l00130"></a>00130     <a class="code" href="class_rig_def_1_1_serializer.html#a83689cc03334ab228ca3268a96ae9572">ProcessCollisionBoxes</a>(source_module);
<a name="l00131"></a>00131     <span class="comment">// TODO: detacher_group</span>
<a name="l00132"></a>00132     <span class="comment">// TODO: rigidifiers</span>
<a name="l00133"></a>00133     <a class="code" href="class_rig_def_1_1_serializer.html#aa53b1033c2c6c99eae72a4f22a82541b">ProcessFlares2</a>(source_module);
<a name="l00134"></a>00134     <a class="code" href="class_rig_def_1_1_serializer.html#a8bf49e6ab2b60172f38e0e760ce3afa1">ProcessMaterialFlareBindings</a>(source_module);
<a name="l00135"></a>00135     <a class="code" href="class_rig_def_1_1_serializer.html#a524359ee58350f5ac4f207b7aca1a0c5">ProcessPropsAndAnimations</a>(source_module);
<a name="l00136"></a>00136     <a class="code" href="class_rig_def_1_1_serializer.html#a6ee9086dcc1d6faf19eb6c696ffa049c">ProcessSubmesh</a>(source_module);
<a name="l00137"></a>00137     <a class="code" href="class_rig_def_1_1_serializer.html#a99b7b0514d7e87cd1947834f5d0ec246">ProcessSubmeshGroundmodel</a>(source_module);
<a name="l00138"></a>00138     <a class="code" href="class_rig_def_1_1_serializer.html#a7c69abc7451d9494709d0267e0a3d49a">ProcessExhausts</a>(source_module);
<a name="l00139"></a>00139     <a class="code" href="class_rig_def_1_1_serializer.html#a6e6e2ce25041ae694aabb0cce55822a0">ProcessGuiSettings</a>(source_module);
<a name="l00140"></a>00140     <a class="code" href="class_rig_def_1_1_serializer.html#acaa3865072933976f8a1347f6529c952">ProcessSetSkeletonSettings</a>(source_module);
<a name="l00141"></a>00141     <a class="code" href="class_rig_def_1_1_serializer.html#a24d6a50dd7fc7a6ad0593eaf5da878c9">ProcessVideocamera</a>(source_module);
<a name="l00142"></a>00142     <a class="code" href="class_rig_def_1_1_serializer.html#adf2fb215a42d70689feb8ab58487b113">ProcessExtCamera</a>(source_module);
<a name="l00143"></a>00143     <a class="code" href="class_rig_def_1_1_serializer.html#afcabc93608bd1f27abec07b56fd2ce80">ProcessSoundsources</a>(source_module);
<a name="l00144"></a>00144     <a class="code" href="class_rig_def_1_1_serializer.html#ae0f159e271c15c4dcad89591f2d7fd46">ProcessSoundsources2</a>(source_module);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <span class="comment">// Aerial</span>
<a name="l00147"></a>00147     <a class="code" href="class_rig_def_1_1_serializer.html#aae2adf62fca7f3beee6bbf5c52fc7946">ProcessWings</a>(source_module);
<a name="l00148"></a>00148     <a class="code" href="class_rig_def_1_1_serializer.html#ac89c3ff8f73e0dbfa613cfe377034e5f">ProcessAirbrakes</a>(source_module);
<a name="l00149"></a>00149     <a class="code" href="class_rig_def_1_1_serializer.html#a607f68f3841650639052b7953de9a4a0">ProcessTurboprops</a>(source_module);
<a name="l00150"></a>00150     <a class="code" href="class_rig_def_1_1_serializer.html#af3675856cbb7610e07de8ed16e2b510c">ProcessFusedrag</a>(source_module);
<a name="l00151"></a>00151     <a class="code" href="class_rig_def_1_1_serializer.html#a4e515e38eca40f8d1e4d15494f7be3a4">ProcessPistonprops</a>(source_module);
<a name="l00152"></a>00152     <a class="code" href="class_rig_def_1_1_serializer.html#abe99cbb2acc052970544445a641494a4">ProcessTurbojets</a>(source_module);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     <span class="comment">// Marine</span>
<a name="l00155"></a>00155     <a class="code" href="class_rig_def_1_1_serializer.html#a85ae4d5444604be3710c2c5f02511f2a">ProcessScrewprops</a>(source_module);
<a name="l00156"></a>00156     
<a name="l00157"></a>00157     <span class="comment">// Finalize</span>
<a name="l00158"></a>00158     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;end&quot;</span> &lt;&lt; endl;
<a name="l00159"></a>00159     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>.close();
<a name="l00160"></a>00160 }
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="class_rig_def_1_1_serializer.html#a4e515e38eca40f8d1e4d15494f7be3a4">00162</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a4e515e38eca40f8d1e4d15494f7be3a4">Serializer::ProcessPistonprops</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164     <span class="keywordflow">if</span> (module-&gt;pistonprops.empty())
<a name="l00165"></a>00165     {
<a name="l00166"></a>00166         <span class="keywordflow">return</span>;
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;pistonprops&quot;</span> &lt;&lt; endl;
<a name="l00169"></a>00169     <span class="keyword">auto</span> end_itor = module-&gt;pistonprops.end();
<a name="l00170"></a>00170     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;pistonprops.begin(); itor != end_itor; ++itor)
<a name="l00171"></a>00171     {
<a name="l00172"></a>00172         <span class="keyword">auto</span> &amp; def = *itor;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.reference_node.ToString()
<a name="l00175"></a>00175             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.axis_node.ToString()
<a name="l00176"></a>00176             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.blade_tip_nodes[0].ToString()
<a name="l00177"></a>00177             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.blade_tip_nodes[1].ToString()
<a name="l00178"></a>00178             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.blade_tip_nodes[2].ToString()
<a name="l00179"></a>00179             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.blade_tip_nodes[3].ToString()
<a name="l00180"></a>00180             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (def.couple_node.IsValidAnyState() ? def.couple_node.ToString() : <span class="stringliteral">&quot;-1&quot;</span>)
<a name="l00181"></a>00181             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.turbine_power_kW
<a name="l00182"></a>00182             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.pitch
<a name="l00183"></a>00183             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.airfoil;
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="class_rig_def_1_1_serializer.html#abe99cbb2acc052970544445a641494a4">00188</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#abe99cbb2acc052970544445a641494a4">Serializer::ProcessTurbojets</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00189"></a>00189 {
<a name="l00190"></a>00190     <span class="keywordflow">if</span> (module-&gt;turbojets.empty())
<a name="l00191"></a>00191     {
<a name="l00192"></a>00192         <span class="keywordflow">return</span>;
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;turbojets&quot;</span> &lt;&lt; endl;
<a name="l00195"></a>00195     <span class="keyword">auto</span> end_itor = module-&gt;turbojets.end();
<a name="l00196"></a>00196     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;turbojets.begin(); itor != end_itor; ++itor)
<a name="l00197"></a>00197     {
<a name="l00198"></a>00198         <span class="keyword">auto</span> &amp; def = *itor;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.front_node.ToString()
<a name="l00201"></a>00201             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.back_node.ToString()
<a name="l00202"></a>00202             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.side_node.ToString()
<a name="l00203"></a>00203             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.is_reversable
<a name="l00204"></a>00204             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.dry_thrust
<a name="l00205"></a>00205             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.wet_thrust
<a name="l00206"></a>00206             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.front_diameter
<a name="l00207"></a>00207             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.back_diameter
<a name="l00208"></a>00208             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.nozzle_length;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00213"></a><a class="code" href="class_rig_def_1_1_serializer.html#a85ae4d5444604be3710c2c5f02511f2a">00213</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a85ae4d5444604be3710c2c5f02511f2a">Serializer::ProcessScrewprops</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00214"></a>00214 {
<a name="l00215"></a>00215     <span class="keywordflow">if</span> (module-&gt;screwprops.empty())
<a name="l00216"></a>00216     {
<a name="l00217"></a>00217         <span class="keywordflow">return</span>;
<a name="l00218"></a>00218     }
<a name="l00219"></a>00219     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;screwprops&quot;</span> &lt;&lt; endl;
<a name="l00220"></a>00220     <span class="keyword">auto</span> end_itor = module-&gt;screwprops.end();
<a name="l00221"></a>00221     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;screwprops.begin(); itor != end_itor; ++itor)
<a name="l00222"></a>00222     {
<a name="l00223"></a>00223         <span class="keyword">auto</span> &amp; def = *itor;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.prop_node.ToString()
<a name="l00226"></a>00226             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.back_node.ToString()
<a name="l00227"></a>00227             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.top_node.ToString()
<a name="l00228"></a>00228             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.power;
<a name="l00229"></a>00229     }
<a name="l00230"></a>00230     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="class_rig_def_1_1_serializer.html#af3675856cbb7610e07de8ed16e2b510c">00233</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#af3675856cbb7610e07de8ed16e2b510c">Serializer::ProcessFusedrag</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00234"></a>00234 {
<a name="l00235"></a>00235     
<a name="l00236"></a>00236     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;;fusedrag -- STUB&quot;</span> &lt;&lt; endl;
<a name="l00237"></a>00237     
<a name="l00238"></a>00238     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a><a class="code" href="class_rig_def_1_1_serializer.html#a607f68f3841650639052b7953de9a4a0">00241</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a607f68f3841650639052b7953de9a4a0">Serializer::ProcessTurboprops</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243     <span class="keywordflow">if</span> (module-&gt;turboprops_2.empty())
<a name="l00244"></a>00244     {
<a name="l00245"></a>00245         <span class="keywordflow">return</span>;
<a name="l00246"></a>00246     }
<a name="l00247"></a>00247     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;turboprops&quot;</span> &lt;&lt; endl;
<a name="l00248"></a>00248     <span class="keyword">auto</span> end_itor = module-&gt;turboprops_2.end();
<a name="l00249"></a>00249     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;turboprops_2.begin(); itor != end_itor; ++itor)
<a name="l00250"></a>00250     {
<a name="l00251"></a>00251         <a class="code" href="struct_rig_def_1_1_turboprop2.html">RigDef::Turboprop2</a> &amp; def = *itor;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a9976396cc84a01b6b424b286875b59a8">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00254"></a>00254             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a73d28a64bae9eb54e559f2ef7500c822">axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00255"></a>00255             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a5015bb8f4886eb8178e45a91504f1146">blade_tip_nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00256"></a>00256             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a5015bb8f4886eb8178e45a91504f1146">blade_tip_nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00257"></a>00257             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a5015bb8f4886eb8178e45a91504f1146">blade_tip_nodes</a>[2].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00258"></a>00258             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a5015bb8f4886eb8178e45a91504f1146">blade_tip_nodes</a>[3].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00259"></a>00259             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#a6b4240cbd6419b6c229556e12f046c4d">turbine_power_kW</a>
<a name="l00260"></a>00260             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_turboprop2.html#acef97c6fe1afc1cc6722070e616e1f63">airfoil</a>;
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00263"></a>00263 }
<a name="l00264"></a>00264 
<a name="l00265"></a><a class="code" href="class_rig_def_1_1_serializer.html#ac89c3ff8f73e0dbfa613cfe377034e5f">00265</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ac89c3ff8f73e0dbfa613cfe377034e5f">Serializer::ProcessAirbrakes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00266"></a>00266 {
<a name="l00267"></a>00267     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a72bffaf4bf450265d86c24d67a22ffdf">airbrakes</a>.empty())
<a name="l00268"></a>00268     {
<a name="l00269"></a>00269         <span class="keywordflow">return</span>;
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;airbrakes&quot;</span> &lt;&lt; endl;
<a name="l00272"></a>00272     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a72bffaf4bf450265d86c24d67a22ffdf">airbrakes</a>.end();
<a name="l00273"></a>00273     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a72bffaf4bf450265d86c24d67a22ffdf">airbrakes</a>.begin(); itor != end_itor; ++itor)
<a name="l00274"></a>00274     {
<a name="l00275"></a>00275         <a class="code" href="struct_rig_def_1_1_airbrake.html">RigDef::Airbrake</a> &amp; def = *itor;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a2fbb3b8138c067f25c60fcb5668f619d">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00278"></a>00278             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a9aa515799ce8033acaf8b52bd9e58318">x_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00279"></a>00279             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a140ec1a21186fc2d7790782a456df728">y_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00280"></a>00280             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a046a3009067abd7935423790edc217db">aditional_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a5912183c0dfa018a32190a5bc89b53c8">IsValidAnyState</a>() ? def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a046a3009067abd7935423790edc217db">aditional_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() : <span class="stringliteral">&quot;-1&quot;</span>)
<a name="l00281"></a>00281             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#abe978da4efd1cfb73d462f90add4b3fa">offset</a>.x
<a name="l00282"></a>00282             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#abe978da4efd1cfb73d462f90add4b3fa">offset</a>.y
<a name="l00283"></a>00283             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#abe978da4efd1cfb73d462f90add4b3fa">offset</a>.z
<a name="l00284"></a>00284             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a0fcaf18096d9fc6c091762ce956c9aea">width</a>
<a name="l00285"></a>00285             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a9ae147d3e358d1893126c0c9c09913b5">height</a>
<a name="l00286"></a>00286             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a68bbe32d012b67b674a932fe62431740">max_inclination_angle</a>
<a name="l00287"></a>00287             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#ae3e1d803970f21adf1c9f1cfce33b5e3">texcoord_x1</a>
<a name="l00288"></a>00288             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a75401ba6c8765cdc0012aac9ad8ac43c">texcoord_y1</a>
<a name="l00289"></a>00289             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a84ff9520595ba4e6108bfcddcd6c81bc">texcoord_x2</a>
<a name="l00290"></a>00290             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#aa6a21fc1a7268e54fa8880ef5dc78d1d">texcoord_y2</a>
<a name="l00291"></a>00291             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_airbrake.html#a38f072b623ed21739fe8e80a06c72817">lift_coefficient</a>;
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00294"></a>00294 }
<a name="l00295"></a>00295 
<a name="l00296"></a><a class="code" href="class_rig_def_1_1_serializer.html#aae2adf62fca7f3beee6bbf5c52fc7946">00296</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aae2adf62fca7f3beee6bbf5c52fc7946">Serializer::ProcessWings</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00297"></a>00297 {
<a name="l00298"></a>00298     <span class="keywordflow">if</span> (module-&gt;wings.empty())
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300         <span class="keywordflow">return</span>;
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;wings&quot;</span> &lt;&lt; endl;
<a name="l00303"></a>00303     <span class="keyword">auto</span> end_itor = module-&gt;wings.end();
<a name="l00304"></a>00304     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;wings.begin(); itor != end_itor; ++itor)
<a name="l00305"></a>00305     {
<a name="l00306"></a>00306         <a class="code" href="struct_rig_def_1_1_wing.html">RigDef::Wing</a> &amp; def = *itor;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00309"></a>00309             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00310"></a>00310             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[2].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00311"></a>00311             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[3].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00312"></a>00312             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[4].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00313"></a>00313             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[5].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00314"></a>00314             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[6].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00315"></a>00315             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#af9fd01597d96acddff7ea98a70d37dbd">nodes</a>[7].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00316"></a>00316             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[0]
<a name="l00317"></a>00317             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[1]
<a name="l00318"></a>00318             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[2]
<a name="l00319"></a>00319             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[3]
<a name="l00320"></a>00320             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[4]
<a name="l00321"></a>00321             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[5]
<a name="l00322"></a>00322             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[6]
<a name="l00323"></a>00323             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a166182b49b3061e80ba9f79beef69eb3">tex_coords</a>[7]
<a name="l00324"></a>00324             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a6acc0c0b70dddeff6573c05b2390f43d">control_surface</a>
<a name="l00325"></a>00325             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a2da399224c067ba5af014e6c265c1438">chord_point</a>
<a name="l00326"></a>00326             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a16d628e5fd4e734527487ba682af69c0">min_deflection</a>
<a name="l00327"></a>00327             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#aa761ba06bf76f4be332ff3a9b5094312">max_deflection</a>
<a name="l00328"></a>00328             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a866db6e2fa1a3161b71f242cd756da5d">airfoil</a>
<a name="l00329"></a>00329             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_wing.html#a199f9f522298b8454fd45f687e4ce841">efficacy_coef</a>;
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00332"></a>00332 }
<a name="l00333"></a>00333 
<a name="l00334"></a><a class="code" href="class_rig_def_1_1_serializer.html#afcabc93608bd1f27abec07b56fd2ce80">00334</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#afcabc93608bd1f27abec07b56fd2ce80">Serializer::ProcessSoundsources</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00335"></a>00335 {
<a name="l00336"></a>00336     <span class="keywordflow">if</span> (module-&gt;soundsources.empty())
<a name="l00337"></a>00337     {
<a name="l00338"></a>00338         <span class="keywordflow">return</span>;
<a name="l00339"></a>00339     }
<a name="l00340"></a>00340     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;soundsources&quot;</span> &lt;&lt; endl;
<a name="l00341"></a>00341     <span class="keyword">auto</span> end_itor = module-&gt;soundsources.end();
<a name="l00342"></a>00342     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;soundsources.begin(); itor != end_itor; ++itor)
<a name="l00343"></a>00343     {
<a name="l00344"></a>00344         <a class="code" href="struct_rig_def_1_1_sound_source.html">RigDef::SoundSource</a> &amp; def = *itor;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_sound_source.html#a2bd1ee6a10e18432a2ea28886e8b0c53">node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_sound_source.html#adc2a5959e0bdd022076270167b4f4224">sound_script_name</a>;
<a name="l00347"></a>00347     }
<a name="l00348"></a>00348     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00349"></a>00349 }
<a name="l00350"></a>00350 
<a name="l00351"></a><a class="code" href="class_rig_def_1_1_serializer.html#ae0f159e271c15c4dcad89591f2d7fd46">00351</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ae0f159e271c15c4dcad89591f2d7fd46">Serializer::ProcessSoundsources2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00352"></a>00352 {
<a name="l00353"></a>00353     <span class="keywordflow">if</span> (module-&gt;soundsources2.empty())
<a name="l00354"></a>00354     {
<a name="l00355"></a>00355         <span class="keywordflow">return</span>;
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;soundsources2&quot;</span> &lt;&lt; endl;
<a name="l00358"></a>00358     <span class="keyword">auto</span> end_itor = module-&gt;soundsources2.end();
<a name="l00359"></a>00359     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;soundsources2.begin(); itor != end_itor; ++itor)
<a name="l00360"></a>00360     {
<a name="l00361"></a>00361         <a class="code" href="struct_rig_def_1_1_sound_source2.html">RigDef::SoundSource2</a> &amp; def = *itor;
<a name="l00362"></a>00362 
<a name="l00363"></a>00363         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_sound_source.html#a2bd1ee6a10e18432a2ea28886e8b0c53">node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() 
<a name="l00364"></a>00364             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_sound_source2.html#a64eb25ae2d258b2a97e6f59441411c39">mode</a>
<a name="l00365"></a>00365             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_sound_source.html#adc2a5959e0bdd022076270167b4f4224">sound_script_name</a>;
<a name="l00366"></a>00366     }
<a name="l00367"></a>00367     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00370"></a><a class="code" href="class_rig_def_1_1_serializer.html#adf2fb215a42d70689feb8ab58487b113">00370</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#adf2fb215a42d70689feb8ab58487b113">Serializer::ProcessExtCamera</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00371"></a>00371 {
<a name="l00372"></a>00372     <span class="keywordflow">if</span> (!module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a7ecbd626aec910a65e7933d91e683db3">ext_camera</a>)
<a name="l00373"></a>00373     {
<a name="l00374"></a>00374         <span class="keywordflow">return</span>;
<a name="l00375"></a>00375     }
<a name="l00376"></a>00376     <a class="code" href="struct_rig_def_1_1_ext_camera.html">RigDef::ExtCamera</a>* def = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a7ecbd626aec910a65e7933d91e683db3">ext_camera</a>.get();
<a name="l00377"></a>00377     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;extcamera &quot;</span>;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379     <span class="keywordflow">switch</span> (def-&gt;<a class="code" href="struct_rig_def_1_1_ext_camera.html#a59945cc99a78817ec8d99f2617e47ca3">mode</a>)
<a name="l00380"></a>00380     {
<a name="l00381"></a>00381     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_ext_camera.html#aee3575121fa1227b5a659c6ef6b6aeb3a35d6c3c95f9a3b0b84b7e14248696fa1">ExtCamera::MODE_NODE</a>:
<a name="l00382"></a>00382         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;node &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_ext_camera.html#a6fd883282c79029116cb1b791fbf1097">node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>();
<a name="l00383"></a>00383         <span class="keywordflow">break</span>;
<a name="l00384"></a>00384     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_ext_camera.html#aee3575121fa1227b5a659c6ef6b6aeb3aa5811593d24f35e7cea08b9d3306f079">ExtCamera::MODE_CINECAM</a>:
<a name="l00385"></a>00385         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;cinecam&quot;</span>;
<a name="l00386"></a>00386         <span class="keywordflow">break</span>;
<a name="l00387"></a>00387     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_ext_camera.html#aee3575121fa1227b5a659c6ef6b6aeb3a168e1ebf0ceafd2c62961ff710c99ef8">ExtCamera::MODE_CLASSIC</a>:
<a name="l00388"></a>00388     <span class="keywordflow">default</span>:
<a name="l00389"></a>00389         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;classic&quot;</span>;
<a name="l00390"></a>00390         <span class="keywordflow">break</span>;
<a name="l00391"></a>00391     }
<a name="l00392"></a>00392         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;
<a name="l00393"></a>00393 }
<a name="l00394"></a>00394 
<a name="l00395"></a><a class="code" href="class_rig_def_1_1_serializer.html#a24d6a50dd7fc7a6ad0593eaf5da878c9">00395</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a24d6a50dd7fc7a6ad0593eaf5da878c9">Serializer::ProcessVideocamera</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00396"></a>00396 {
<a name="l00397"></a>00397     <span class="keywordflow">if</span> (module-&gt;videocameras.empty())
<a name="l00398"></a>00398     {
<a name="l00399"></a>00399         <span class="keywordflow">return</span>;
<a name="l00400"></a>00400     }
<a name="l00401"></a>00401     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;videocamera&quot;</span> &lt;&lt; endl;
<a name="l00402"></a>00402     <span class="keyword">auto</span> end_itor = module-&gt;videocameras.end();
<a name="l00403"></a>00403     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;videocameras.begin(); itor != end_itor; ++itor)
<a name="l00404"></a>00404     {
<a name="l00405"></a>00405         <a class="code" href="struct_rig_def_1_1_video_camera.html">RigDef::VideoCamera</a> &amp; def = *itor;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a07e00663db1582e5d8ec9d4a51001f9e">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00408"></a>00408             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a03f2cf893d6de6b4e66fe0c7d2962c3f">left_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00409"></a>00409             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a8e2f3578c334989bd6d88573063a26a5">bottom_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00410"></a>00410             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a55f0bd6e71a77f5fee73f008201cc05e">alt_reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a5912183c0dfa018a32190a5bc89b53c8">IsValidAnyState</a>() ? def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a55f0bd6e71a77f5fee73f008201cc05e">alt_reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() : <span class="stringliteral">&quot;-1&quot;</span>)
<a name="l00411"></a>00411             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a4b02941e7e56a75d55ea64f9fb57bf26">alt_orientation_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a5912183c0dfa018a32190a5bc89b53c8">IsValidAnyState</a>() ? def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a4b02941e7e56a75d55ea64f9fb57bf26">alt_orientation_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() : <span class="stringliteral">&quot;-1&quot;</span>)
<a name="l00412"></a>00412             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#ac938a76bc8fec9e45a56c23b2edef1fb">offset</a>.x
<a name="l00413"></a>00413             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#ac938a76bc8fec9e45a56c23b2edef1fb">offset</a>.y
<a name="l00414"></a>00414             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#ac938a76bc8fec9e45a56c23b2edef1fb">offset</a>.z
<a name="l00415"></a>00415             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#aafa25b5fe13cefd9f966c96c6d97e9ee">rotation</a>.x
<a name="l00416"></a>00416             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#aafa25b5fe13cefd9f966c96c6d97e9ee">rotation</a>.y
<a name="l00417"></a>00417             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#aafa25b5fe13cefd9f966c96c6d97e9ee">rotation</a>.z
<a name="l00418"></a>00418             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a0e72895c73390dbceca607c2cccffc8f">field_of_view</a>
<a name="l00419"></a>00419             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a11d952722a8e4bbd4feac4be5d083286">texture_width</a>
<a name="l00420"></a>00420             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a68a0be54bed64241bdd1e37add68abb7">texture_height</a>
<a name="l00421"></a>00421             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a5708e50185706e30f368aaaec54db234">min_clip_distance</a>
<a name="l00422"></a>00422             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#aba867289b39e5d5c2e927462daa4edc4">max_clip_distance</a>
<a name="l00423"></a>00423             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a99217c0aca4cec38b54a43fd98bb9633">camera_role</a>
<a name="l00424"></a>00424             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#ac1224ce568a03e4e9efb74fa888b3484">camera_mode</a>
<a name="l00425"></a>00425             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a0a5dbcb60307eb701c1226a210c45684">material_name</a>;
<a name="l00426"></a>00426         if (!def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a31727e1cd72d5d4ce311c243561a67cb">camera_name</a>.empty())
<a name="l00427"></a>00427         {
<a name="l00428"></a>00428             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_video_camera.html#a31727e1cd72d5d4ce311c243561a67cb">camera_name</a>;
<a name="l00429"></a>00429         }
<a name="l00430"></a>00430     }
<a name="l00431"></a>00431     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00432"></a>00432 }
<a name="l00433"></a>00433 
<a name="l00434"></a><a class="code" href="class_rig_def_1_1_serializer.html#acaa3865072933976f8a1347f6529c952">00434</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#acaa3865072933976f8a1347f6529c952">Serializer::ProcessSetSkeletonSettings</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00435"></a>00435 {
<a name="l00436"></a>00436     <span class="keywordflow">if</span> (!module-&gt;skeleton_settings)
<a name="l00437"></a>00437     {
<a name="l00438"></a>00438         <span class="keywordflow">return</span>;
<a name="l00439"></a>00439     }
<a name="l00440"></a>00440     <a class="code" href="struct_rig_def_1_1_skeleton_settings.html">RigDef::SkeletonSettings</a>* def = module-&gt;skeleton_settings.get();
<a name="l00441"></a>00441     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;set_skeleton_settings &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_skeleton_settings.html#a52ad3ac019c6d70ac8ddf23f2f45c7e6">visibility_range_meters</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_skeleton_settings.html#ab8d6978401f7e6528a3c58fc4192e07a">beam_thickness_meters</a> &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;
<a name="l00442"></a>00442 }
<a name="l00443"></a>00443 
<a name="l00444"></a><a class="code" href="class_rig_def_1_1_serializer.html#a6e6e2ce25041ae694aabb0cce55822a0">00444</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a6e6e2ce25041ae694aabb0cce55822a0">Serializer::ProcessGuiSettings</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00445"></a>00445 {
<a name="l00446"></a>00446     <span class="keywordflow">if</span> (!module-&gt;gui_settings)
<a name="l00447"></a>00447     {
<a name="l00448"></a>00448         <span class="keywordflow">return</span>;
<a name="l00449"></a>00449     }
<a name="l00450"></a>00450     <a class="code" href="struct_rig_def_1_1_gui_settings.html">RigDef::GuiSettings</a>* def = module-&gt;gui_settings.get();
<a name="l00451"></a>00451     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;guisettings&quot;</span>
<a name="l00452"></a>00452         &lt;&lt; <span class="stringliteral">&quot;\n\tspeedoMax: &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a8e3aecd4b95624548fd2389c4822189b">speedo_highest_kph</a> 
<a name="l00453"></a>00453         &lt;&lt; <span class="stringliteral">&quot;\n\tuseMaxRPM: &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a7572832a5d66683fa260a403d9d6f7c4">use_max_rpm</a>;
<a name="l00454"></a>00454 
<a name="l00455"></a>00455     <span class="keywordflow">switch</span> (def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a51ab87ffcbd0c8b285792f47c43dc742">interactive_overview_map_mode</a>)
<a name="l00456"></a>00456     {
<a name="l00457"></a>00457     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_gui_settings.html#a0f8cee9056b236d7aa4467a9e0b4da78a8a72a417c9647882e63c0b488d2a2700">GuiSettings::MAP_MODE_OFF</a>:
<a name="l00458"></a>00458         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tinteractiveOverviewMap: off&quot;</span>;
<a name="l00459"></a>00459         <span class="keywordflow">break</span>;
<a name="l00460"></a>00460     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_gui_settings.html#a0f8cee9056b236d7aa4467a9e0b4da78a337016f6a0bae11b4f6c3cf0c671a2bb">GuiSettings::MAP_MODE_SIMPLE</a>:
<a name="l00461"></a>00461         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tinteractiveOverviewMap: simple&quot;</span>;
<a name="l00462"></a>00462         <span class="keywordflow">break</span>;
<a name="l00463"></a>00463     <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_gui_settings.html#a0f8cee9056b236d7aa4467a9e0b4da78a9dfd97e56f17c081dc51e220dc7d4783">GuiSettings::MAP_MODE_ZOOM</a>:
<a name="l00464"></a>00464         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tinteractiveOverviewMap: zoom&quot;</span>;
<a name="l00465"></a>00465         <span class="keywordflow">break</span>;
<a name="l00466"></a>00466     <span class="keywordflow">default</span>:;
<a name="l00467"></a>00467     }
<a name="l00468"></a>00468     <span class="keywordflow">if</span> (!def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#af750537cd6eff49c15d07884632ce907">tacho_material</a>.empty())
<a name="l00469"></a>00469     {
<a name="l00470"></a>00470         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\ttachoMaterial: &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#af750537cd6eff49c15d07884632ce907">tacho_material</a>;
<a name="l00471"></a>00471     }
<a name="l00472"></a>00472     <span class="keywordflow">if</span> (!def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#aa5ec9dd0781f91001802bc974681e359">speedo_material</a>.empty())
<a name="l00473"></a>00473     {
<a name="l00474"></a>00474         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tspeedoMaterial: &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#aa5ec9dd0781f91001802bc974681e359">speedo_material</a>;
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476     <span class="keywordflow">if</span> (!def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a67a6f8681381fba6e850a3a24476b2e6">help_material</a>.empty())
<a name="l00477"></a>00477     {
<a name="l00478"></a>00478         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\thelpMaterial: &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a67a6f8681381fba6e850a3a24476b2e6">help_material</a>;
<a name="l00479"></a>00479     }
<a name="l00480"></a>00480     <span class="keyword">auto</span> end = def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a8724f4256b74cfa85ab58cd197666e84">dashboard_layouts</a>.end();
<a name="l00481"></a>00481     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a8724f4256b74cfa85ab58cd197666e84">dashboard_layouts</a>.begin(); itor != end; ++itor)
<a name="l00482"></a>00482     {
<a name="l00483"></a>00483         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tdashboard: &quot;</span> &lt;&lt; *itor;
<a name="l00484"></a>00484     }
<a name="l00485"></a>00485     end = def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a44beac907eab61484ac33a297d4e2723">rtt_dashboard_layouts</a>.end();
<a name="l00486"></a>00486     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = def-&gt;<a class="code" href="struct_rig_def_1_1_gui_settings.html#a44beac907eab61484ac33a297d4e2723">rtt_dashboard_layouts</a>.begin(); itor != end; ++itor)
<a name="l00487"></a>00487     {
<a name="l00488"></a>00488         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\ttexturedashboard: &quot;</span> &lt;&lt; *itor;
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00491"></a>00491 }
<a name="l00492"></a>00492 
<a name="l00493"></a><a class="code" href="class_rig_def_1_1_serializer.html#a7c69abc7451d9494709d0267e0a3d49a">00493</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a7c69abc7451d9494709d0267e0a3d49a">Serializer::ProcessExhausts</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a84fcd75a1f5c758cdaea2e4ec3930b43">exhausts</a>.empty())
<a name="l00496"></a>00496     {
<a name="l00497"></a>00497         <span class="keywordflow">return</span>;
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;exhausts&quot;</span> &lt;&lt; endl;
<a name="l00500"></a>00500     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a84fcd75a1f5c758cdaea2e4ec3930b43">exhausts</a>.end();
<a name="l00501"></a>00501     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a84fcd75a1f5c758cdaea2e4ec3930b43">exhausts</a>.begin(); itor != end_itor; ++itor)
<a name="l00502"></a>00502     {
<a name="l00503"></a>00503         <a class="code" href="struct_rig_def_1_1_exhaust.html">RigDef::Exhaust</a> &amp; def = *itor;
<a name="l00504"></a>00504 
<a name="l00505"></a>00505         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_exhaust.html#a4377c68c1a0660bd0b80b22678d91adb">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00506"></a>00506             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_exhaust.html#a0b979d6372b169ce43a3982da773054c">direction_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00507"></a>00507             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_exhaust.html#a67fc90a534b3463e5dea3a93250ad191">material_name</a>;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="class_rig_def_1_1_serializer.html#a99b7b0514d7e87cd1947834f5d0ec246">00512</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a99b7b0514d7e87cd1947834f5d0ec246">Serializer::ProcessSubmeshGroundmodel</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514     <span class="comment">// TODO</span>
<a name="l00515"></a>00515     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;;submesh_groundmodel -- STUB&quot;</span>&lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00516"></a>00516 }
<a name="l00517"></a>00517 
<a name="l00518"></a><a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">00518</a> <span class="preprocessor">#define CAB_PRINT_OPTION_FLAG(VAR, FLAG, CHAR) \</span>
<a name="l00519"></a>00519 <span class="preprocessor">    if (BITMASK_IS_1(VAR, RigDef::Cab::FLAG)) { m_stream &lt;&lt; CHAR; }</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span>
<a name="l00521"></a><a class="code" href="_rig_def___serializer_8cpp.html#a7d933b7426e1a4d998d1c1e9ccd731de">00521</a> <span class="preprocessor">#define CAB_PRINT_OPTION_FUNC(DEF, FUNC, CHAR) \</span>
<a name="l00522"></a>00522 <span class="preprocessor">    if (DEF-&gt;FUNC()) { m_stream &lt;&lt; CHAR; }</span>
<a name="l00523"></a>00523 <span class="preprocessor"></span>
<a name="l00524"></a><a class="code" href="class_rig_def_1_1_serializer.html#a6ee9086dcc1d6faf19eb6c696ffa049c">00524</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a6ee9086dcc1d6faf19eb6c696ffa049c">Serializer::ProcessSubmesh</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526     <span class="keywordflow">if</span> (module-&gt;submeshes.empty())
<a name="l00527"></a>00527     {
<a name="l00528"></a>00528         <span class="keywordflow">return</span>;
<a name="l00529"></a>00529     }
<a name="l00530"></a>00530     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;submesh&quot;</span> &lt;&lt; endl;
<a name="l00531"></a>00531     <span class="keyword">auto</span> end_itor = module-&gt;submeshes.end();
<a name="l00532"></a>00532     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;submeshes.begin(); itor != end_itor; ++itor)
<a name="l00533"></a>00533     {
<a name="l00534"></a>00534         <a class="code" href="struct_rig_def_1_1_submesh.html">RigDef::Submesh</a> &amp; def = *itor;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_submesh.html#a8f1943a80d219d3ce24a2def8f46d5fc">texcoords</a>.size() &gt; 0)
<a name="l00537"></a>00537         {
<a name="l00538"></a>00538             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\ttexcoords&quot;</span>;
<a name="l00539"></a>00539             <span class="keyword">auto</span> texcoord_end = def.<a class="code" href="struct_rig_def_1_1_submesh.html#a8f1943a80d219d3ce24a2def8f46d5fc">texcoords</a>.end();
<a name="l00540"></a>00540             <span class="keywordflow">for</span> (<span class="keyword">auto</span> texcoord_itor = def.<a class="code" href="struct_rig_def_1_1_submesh.html#a8f1943a80d219d3ce24a2def8f46d5fc">texcoords</a>.begin(); texcoord_itor != texcoord_end; ++texcoord_itor)
<a name="l00541"></a>00541             {
<a name="l00542"></a>00542                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; texcoord_itor-&gt;node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; texcoord_itor-&gt;u &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; texcoord_itor-&gt;v;
<a name="l00543"></a>00543             }
<a name="l00544"></a>00544         }
<a name="l00545"></a>00545         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_submesh.html#a706856fe350209888c4deaa9e41c6338">cab_triangles</a>.size() &gt; 0)
<a name="l00546"></a>00546         {
<a name="l00547"></a>00547             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tcab&quot;</span>;
<a name="l00548"></a>00548             <span class="keyword">auto</span> cab_end = def.<a class="code" href="struct_rig_def_1_1_submesh.html#a706856fe350209888c4deaa9e41c6338">cab_triangles</a>.end();
<a name="l00549"></a>00549             <span class="keywordflow">for</span> (<span class="keyword">auto</span> cab_itor = def.<a class="code" href="struct_rig_def_1_1_submesh.html#a706856fe350209888c4deaa9e41c6338">cab_triangles</a>.begin(); cab_itor != cab_end; ++cab_itor)
<a name="l00550"></a>00550             {
<a name="l00551"></a>00551                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; cab_itor-&gt;nodes[0].ToString() 
<a name="l00552"></a>00552                     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; cab_itor-&gt;nodes[1].ToString() 
<a name="l00553"></a>00553                     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; cab_itor-&gt;nodes[2].ToString()
<a name="l00554"></a>00554                     &lt;&lt; <span class="stringliteral">&quot;, n&quot;</span>;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556                 <span class="comment">// Options</span>
<a name="l00557"></a>00557                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_c_CONTACT           , <span class="charliteral">&#39;c&#39;</span>)
<a name="l00558"></a>00558                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_b_BUOYANT           , <span class="charliteral">&#39;b&#39;</span>)
<a name="l00559"></a>00559                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_p_10xTOUGHER        , <span class="charliteral">&#39;p&#39;</span>)
<a name="l00560"></a>00560                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_u_INVULNERABLE      , <span class="charliteral">&#39;u&#39;</span>)
<a name="l00561"></a>00561                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_s_BUOYANT_NO_DRAG   , <span class="charliteral">&#39;s&#39;</span>)
<a name="l00562"></a>00562                 <a class="code" href="_rig_def___serializer_8cpp.html#a45d93eea9ef2567871c7b4504f97c458">CAB_PRINT_OPTION_FLAG</a>(cab_itor-&gt;options, OPTION_r_BUOYANT_ONLY_DRAG , <span class="charliteral">&#39;r&#39;</span>)
<a name="l00563"></a>00563                 <a class="code" href="_rig_def___serializer_8cpp.html#a7d933b7426e1a4d998d1c1e9ccd731de">CAB_PRINT_OPTION_FUNC</a>(cab_itor, GetOption_D_ContactBuoyant          , <span class="charliteral">&#39;D&#39;</span>)
<a name="l00564"></a>00564                 <a class="code" href="_rig_def___serializer_8cpp.html#a7d933b7426e1a4d998d1c1e9ccd731de">CAB_PRINT_OPTION_FUNC</a>(cab_itor, GetOption_F_10xTougherBuoyant       , <span class="charliteral">&#39;F&#39;</span>)
<a name="l00565"></a>00565                 <a class="code" href="_rig_def___serializer_8cpp.html#a7d933b7426e1a4d998d1c1e9ccd731de">CAB_PRINT_OPTION_FUNC</a>(cab_itor, GetOption_S_UnpenetrableBuoyant     , <span class="charliteral">&#39;S&#39;</span>)
<a name="l00566"></a>00566             }
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_submesh.html#a83efd6d48d7d0a7e03a647e1b15da694">backmesh</a>)
<a name="l00569"></a>00569         {
<a name="l00570"></a>00570             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tbackmesh&quot;</span>;
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572     }
<a name="l00573"></a>00573     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00574"></a>00574 }
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">00576</a> <span class="preprocessor">#define PROP_ANIMATION_ADD_FLAG(FLAGS_VAR, AND_VAR, BITMASK_CONST, NAME_STR) \</span>
<a name="l00577"></a>00577 <span class="preprocessor">    if (AND_VAR) { m_stream &lt;&lt; &quot; | &quot;; } \</span>
<a name="l00578"></a>00578 <span class="preprocessor">    if (BITMASK_IS_1((FLAGS_VAR), RigDef::Animation::BITMASK_CONST)) { \</span>
<a name="l00579"></a>00579 <span class="preprocessor">        AND_VAR = true; \</span>
<a name="l00580"></a>00580 <span class="preprocessor">        m_stream &lt;&lt; NAME_STR; \</span>
<a name="l00581"></a>00581 <span class="preprocessor">    }</span>
<a name="l00582"></a>00582 <span class="preprocessor"></span>
<a name="l00583"></a><a class="code" href="class_rig_def_1_1_serializer.html#a188b14cc1eeb664127f19b9575e9f102">00583</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a188b14cc1eeb664127f19b9575e9f102">Serializer::ProcessDirectiveAddAnimation</a>(<a class="code" href="struct_rig_def_1_1_animation.html">RigDef::Animation</a> &amp; anim)
<a name="l00584"></a>00584 {
<a name="l00585"></a>00585     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tadd_animation &quot;</span> &lt;&lt; anim.<a class="code" href="struct_rig_def_1_1_animation.html#af858b2de195ab3c0eb5ddd76cde4713c">ratio</a>
<a name="l00586"></a>00586         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; anim.<a class="code" href="struct_rig_def_1_1_animation.html#aadeec37b58beedfb5c6c90cb89ca4e17">lower_limit</a>
<a name="l00587"></a>00587         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; anim.<a class="code" href="struct_rig_def_1_1_animation.html#adcfe0765585922c533edb8ee921a8ee0">upper_limit</a>
<a name="l00588"></a>00588         &lt;&lt; <span class="stringliteral">&quot;, source: &quot;</span>;
<a name="l00589"></a>00589             
<a name="l00590"></a>00590     <span class="comment">// Source flags</span>
<a name="l00591"></a>00591     <span class="keywordtype">bool</span> join = <span class="keyword">false</span>;
<a name="l00592"></a>00592     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> src_flags = anim.<a class="code" href="struct_rig_def_1_1_animation.html#aef767873ad801896700a89ef2db7b5e3">source</a>;
<a name="l00593"></a>00593     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_AIRSPEED         , <span class="stringliteral">&quot;airspeed&quot;</span>);
<a name="l00594"></a>00594     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_VERTICAL_VELOCITY, <span class="stringliteral">&quot;vvi&quot;</span>);
<a name="l00595"></a>00595     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ALTIMETER_100K   , <span class="stringliteral">&quot;altimeter100k&quot;</span>);
<a name="l00596"></a>00596     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ALTIMETER_10K    , <span class="stringliteral">&quot;altimeter10k&quot;</span>);
<a name="l00597"></a>00597     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ALTIMETER_1K     , <span class="stringliteral">&quot;altimeter1k&quot;</span>);
<a name="l00598"></a>00598     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ANGLE_OF_ATTACK  , <span class="stringliteral">&quot;aoa&quot;</span>);
<a name="l00599"></a>00599     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_FLAP             , <span class="stringliteral">&quot;flap&quot;</span>);
<a name="l00600"></a>00600     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_AIR_BRAKE        , <span class="stringliteral">&quot;airbrake&quot;</span>);
<a name="l00601"></a>00601     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ROLL             , <span class="stringliteral">&quot;roll&quot;</span>);
<a name="l00602"></a>00602     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_PITCH            , <span class="stringliteral">&quot;pitch&quot;</span>);
<a name="l00603"></a>00603     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_BRAKES           , <span class="stringliteral">&quot;brakes&quot;</span>);
<a name="l00604"></a>00604     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ACCEL            , <span class="stringliteral">&quot;accel&quot;</span>);
<a name="l00605"></a>00605     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_CLUTCH           , <span class="stringliteral">&quot;clutch&quot;</span>);
<a name="l00606"></a>00606     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_SPEEDO           , <span class="stringliteral">&quot;speedo&quot;</span>);
<a name="l00607"></a>00607     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_TACHO            , <span class="stringliteral">&quot;tacho&quot;</span>);
<a name="l00608"></a>00608     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_TURBO            , <span class="stringliteral">&quot;turbo&quot;</span>);
<a name="l00609"></a>00609     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_PARKING          , <span class="stringliteral">&quot;parking&quot;</span>);
<a name="l00610"></a>00610     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_SHIFT_LEFT_RIGHT , <span class="stringliteral">&quot;shifterman1&quot;</span>);
<a name="l00611"></a>00611     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_SHIFT_BACK_FORTH , <span class="stringliteral">&quot;shifterman2&quot;</span>);
<a name="l00612"></a>00612     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_SEQUENTIAL_SHIFT , <span class="stringliteral">&quot;sequential&quot;</span>);
<a name="l00613"></a>00613     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_SHIFTERLIN       , <span class="stringliteral">&quot;shifterlin&quot;</span>);
<a name="l00614"></a>00614     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_TORQUE           , <span class="stringliteral">&quot;torque&quot;</span>);
<a name="l00615"></a>00615     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_HEADING          , <span class="stringliteral">&quot;heading&quot;</span>);
<a name="l00616"></a>00616     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_DIFFLOCK         , <span class="stringliteral">&quot;difflock&quot;</span>);
<a name="l00617"></a>00617     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_BOAT_RUDDER      , <span class="stringliteral">&quot;rudderboat&quot;</span>);
<a name="l00618"></a>00618     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_BOAT_THROTTLE    , <span class="stringliteral">&quot;throttleboat&quot;</span>);
<a name="l00619"></a>00619     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_STEERING_WHEEL   , <span class="stringliteral">&quot;steeringwheel&quot;</span>);
<a name="l00620"></a>00620     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_AILERON          , <span class="stringliteral">&quot;aileron&quot;</span>);
<a name="l00621"></a>00621     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_ELEVATOR         , <span class="stringliteral">&quot;elevator&quot;</span>);
<a name="l00622"></a>00622     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_AIR_RUDDER       , <span class="stringliteral">&quot;rudderair&quot;</span>);
<a name="l00623"></a>00623     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_PERMANENT        , <span class="stringliteral">&quot;permanent&quot;</span>);
<a name="l00624"></a>00624     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(src_flags, join, SOURCE_EVENT            , <span class="stringliteral">&quot;event&quot;</span>);
<a name="l00625"></a>00625             
<a name="l00626"></a>00626     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, mode: &quot;</span>;
<a name="l00627"></a>00627     join = <span class="keyword">false</span>;
<a name="l00628"></a>00628     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mode_flags = anim.<a class="code" href="struct_rig_def_1_1_animation.html#a3c1546dfff0810aaccabd6c1f1022094">mode</a>;
<a name="l00629"></a>00629     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_ROTATION_X  , <span class="stringliteral">&quot;x-rotation&quot;</span>);
<a name="l00630"></a>00630     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_ROTATION_Y  , <span class="stringliteral">&quot;y-rotation&quot;</span>);
<a name="l00631"></a>00631     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_ROTATION_Z  , <span class="stringliteral">&quot;z-rotation&quot;</span>);
<a name="l00632"></a>00632     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_OFFSET_X    , <span class="stringliteral">&quot;x-offset&quot;</span>);
<a name="l00633"></a>00633     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_OFFSET_Y    , <span class="stringliteral">&quot;y-offset&quot;</span>);
<a name="l00634"></a>00634     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_OFFSET_Z    , <span class="stringliteral">&quot;z-offset&quot;</span>);
<a name="l00635"></a>00635     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_AUTO_ANIMATE, <span class="stringliteral">&quot;autoanimate&quot;</span>);
<a name="l00636"></a>00636     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_NO_FLIP     , <span class="stringliteral">&quot;noflip&quot;</span>);
<a name="l00637"></a>00637     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_BOUNCE      , <span class="stringliteral">&quot;bounce&quot;</span>);
<a name="l00638"></a>00638     <a class="code" href="_rig_def___serializer_8cpp.html#a0fcbf46cfdc87bb33524c372099be90b">PROP_ANIMATION_ADD_FLAG</a>(mode_flags, join, MODE_EVENT_LOCK  , <span class="stringliteral">&quot;eventlock&quot;</span>);
<a name="l00639"></a>00639             
<a name="l00640"></a>00640     <span class="keywordflow">if</span> (anim.HasSource_Event())
<a name="l00641"></a>00641     {
<a name="l00642"></a>00642         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, event: &quot;</span> &lt;&lt; anim.<a class="code" href="struct_rig_def_1_1_animation.html#a56e1b5ce5623d907cb9f3b7eca19309c">event</a>;
<a name="l00643"></a>00643     }
<a name="l00644"></a>00644 }
<a name="l00645"></a>00645 
<a name="l00646"></a><a class="code" href="class_rig_def_1_1_serializer.html#aa6de6f512d870e0e36d5771d702a388a">00646</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aa6de6f512d870e0e36d5771d702a388a">Serializer::ProcessFlexbodies</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00647"></a>00647 {
<a name="l00648"></a>00648     <span class="keywordflow">if</span> (module-&gt;flexbodies.empty())
<a name="l00649"></a>00649     {
<a name="l00650"></a>00650         <span class="keywordflow">return</span>;
<a name="l00651"></a>00651     }
<a name="l00652"></a>00652     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;flexbodies&quot;</span> &lt;&lt; endl;
<a name="l00653"></a>00653     <span class="keyword">auto</span> end_itor = module-&gt;flexbodies.end();
<a name="l00654"></a>00654     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;flexbodies.begin(); itor != end_itor; ++itor)
<a name="l00655"></a>00655     {
<a name="l00656"></a>00656         <a class="code" href="struct_rig_def_1_1_flexbody.html">RigDef::Flexbody</a>* def = itor-&gt;get();
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         <span class="comment">// Prop-like line</span>
<a name="l00659"></a>00659         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#ae0b44f283cfe94be6d2f45bc5115da50">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00660"></a>00660             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#ae759a13538d2b80998f71530d0d33eaf">x_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00661"></a>00661             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a38d3d5e7e0111d97beaf222c22afef39">y_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00662"></a>00662             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a93fa8da6ea6feb8f24739eef5caa4a1e">offset</a>.x
<a name="l00663"></a>00663             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a93fa8da6ea6feb8f24739eef5caa4a1e">offset</a>.y
<a name="l00664"></a>00664             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a93fa8da6ea6feb8f24739eef5caa4a1e">offset</a>.z
<a name="l00665"></a>00665             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a6be646301ac5766be96802e636a660e9">rotation</a>.x 
<a name="l00666"></a>00666             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a6be646301ac5766be96802e636a660e9">rotation</a>.y
<a name="l00667"></a>00667             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a6be646301ac5766be96802e636a660e9">rotation</a>.z
<a name="l00668"></a>00668             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a2f81f57d17b0702ad5d80459d462e613">mesh_name</a>;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670         <span class="comment">// Forset line</span>
<a name="l00671"></a>00671         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t\tforset (node list)&quot;</span>;
<a name="l00672"></a>00672         <span class="keyword">auto</span> forset_end = def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#ae86d186a031930fb98a1564edaa0edc7">node_list</a>.end();
<a name="l00673"></a>00673         <span class="keyword">auto</span> forset_itor = def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#ae86d186a031930fb98a1564edaa0edc7">node_list</a>.begin();
<a name="l00674"></a>00674         <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;
<a name="l00675"></a>00675         <span class="keywordflow">for</span> (; forset_itor != forset_end; ++forset_itor)
<a name="l00676"></a>00676         {
<a name="l00677"></a>00677             <span class="keywordflow">if</span> (!first)
<a name="l00678"></a>00678             {
<a name="l00679"></a>00679                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l00680"></a>00680             }
<a name="l00681"></a>00681             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; forset_itor-&gt;ToString();
<a name="l00682"></a>00682             first = <span class="keyword">false</span>;
<a name="l00683"></a>00683         }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685         <span class="comment">// Animations</span>
<a name="l00686"></a>00686         <span class="keyword">auto</span> anim_end = def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a77eb8da97dceb23057044138e7fff5ff">animations</a>.end();
<a name="l00687"></a>00687         <span class="keywordflow">for</span> (<span class="keyword">auto</span> anim_itor = def-&gt;<a class="code" href="struct_rig_def_1_1_flexbody.html#a77eb8da97dceb23057044138e7fff5ff">animations</a>.begin(); anim_itor != anim_end; ++anim_itor)
<a name="l00688"></a>00688         {
<a name="l00689"></a>00689             <a class="code" href="class_rig_def_1_1_serializer.html#a188b14cc1eeb664127f19b9575e9f102">ProcessDirectiveAddAnimation</a>(*anim_itor);
<a name="l00690"></a>00690         }
<a name="l00691"></a>00691     }
<a name="l00692"></a>00692     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00693"></a>00693 }
<a name="l00694"></a>00694 
<a name="l00695"></a><a class="code" href="class_rig_def_1_1_serializer.html#a524359ee58350f5ac4f207b7aca1a0c5">00695</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a524359ee58350f5ac4f207b7aca1a0c5">Serializer::ProcessPropsAndAnimations</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00696"></a>00696 {
<a name="l00697"></a>00697     <span class="keywordflow">if</span> (module-&gt;props.empty())
<a name="l00698"></a>00698     {
<a name="l00699"></a>00699         <span class="keywordflow">return</span>;
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;props&quot;</span> &lt;&lt; endl;
<a name="l00702"></a>00702     <span class="keyword">auto</span> end_itor = module-&gt;props.end();
<a name="l00703"></a>00703     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;props.begin(); itor != end_itor; ++itor)
<a name="l00704"></a>00704     {
<a name="l00705"></a>00705         <a class="code" href="struct_rig_def_1_1_prop.html">RigDef::Prop</a> &amp; def = *itor;
<a name="l00706"></a>00706 
<a name="l00707"></a>00707         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a061b2a0c2196509a6232bcb112573ffa">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00708"></a>00708             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a1027c5b9c7a54bd98a776f2c0a310540">x_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00709"></a>00709             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#aa8d678a71a4e0c2e05c2c30bbc1d2cfb">y_axis_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00710"></a>00710             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a36e797f7df54b7a2657a978eb7da45a9">offset</a>.x
<a name="l00711"></a>00711             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a36e797f7df54b7a2657a978eb7da45a9">offset</a>.y
<a name="l00712"></a>00712             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a36e797f7df54b7a2657a978eb7da45a9">offset</a>.z
<a name="l00713"></a>00713             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#af2a8c18b7068f61691e926c6496ec546">rotation</a>.x 
<a name="l00714"></a>00714             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#af2a8c18b7068f61691e926c6496ec546">rotation</a>.y
<a name="l00715"></a>00715             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#af2a8c18b7068f61691e926c6496ec546">rotation</a>.z
<a name="l00716"></a>00716             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l00717"></a>00717         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_prop.html#aec230d8aa9e9dbdd22c6b667ea6f88cd">special</a> == <a class="code" href="struct_rig_def_1_1_prop.html#a527c190718a4a96b07b7935fea5eff53a397d178f550ada71b07ac42b9abccb88">Prop::SPECIAL_INVALID</a>)
<a name="l00718"></a>00718         {
<a name="l00719"></a>00719             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a5705650fcc106405afbb2d5b25839fa0">mesh_name</a>;
<a name="l00720"></a>00720             <span class="keywordflow">continue</span>;
<a name="l00721"></a>00721         }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723         <span class="comment">// Special props</span>
<a name="l00724"></a>00724         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_prop.html#aec230d8aa9e9dbdd22c6b667ea6f88cd">special</a> == <a class="code" href="struct_rig_def_1_1_prop.html#a527c190718a4a96b07b7935fea5eff53a15f256191e43f4fba34c68c991cba000">Prop::SPECIAL_BEACON</a>)
<a name="l00725"></a>00725         {
<a name="l00726"></a>00726             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a5705650fcc106405afbb2d5b25839fa0">mesh_name</a> 
<a name="l00727"></a>00727                 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a97356eecd5c27e41f5b92e524a84adc4">special_prop_beacon</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_beacon_special.html#a990d4c1ac0a5100bac56c814b59dfaa7">flare_material_name</a>
<a name="l00728"></a>00728                 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a97356eecd5c27e41f5b92e524a84adc4">special_prop_beacon</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_beacon_special.html#aa31bca04e9640d69b1eb0c0afe9fc9d2">color</a>.r
<a name="l00729"></a>00729                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a97356eecd5c27e41f5b92e524a84adc4">special_prop_beacon</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_beacon_special.html#aa31bca04e9640d69b1eb0c0afe9fc9d2">color</a>.g
<a name="l00730"></a>00730                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#a97356eecd5c27e41f5b92e524a84adc4">special_prop_beacon</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_beacon_special.html#aa31bca04e9640d69b1eb0c0afe9fc9d2">color</a>.b;
<a name="l00731"></a>00731         }
<a name="l00732"></a>00732         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_prop.html#aec230d8aa9e9dbdd22c6b667ea6f88cd">special</a> == <a class="code" href="struct_rig_def_1_1_prop.html#a527c190718a4a96b07b7935fea5eff53aa04994333c39f785c08ee3ddfd2ab24e">Prop::SPECIAL_STEERING_WHEEL_LEFT_HANDED</a> || def.<a class="code" href="struct_rig_def_1_1_prop.html#aec230d8aa9e9dbdd22c6b667ea6f88cd">special</a> == <a class="code" href="struct_rig_def_1_1_prop.html#a527c190718a4a96b07b7935fea5eff53a3a181df4c6d7a8596d3e045608734ee6">Prop::SPECIAL_STEERING_WHEEL_RIGHT_HANDED</a>)
<a name="l00733"></a>00733         {
<a name="l00734"></a>00734             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#ab78677043d84eb34e7bb69ca60126fcd">special_prop_steering_wheel</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_steering_wheel_special.html#a54fa9dadca48121b36ad3959fe4f2183">mesh_name</a>
<a name="l00735"></a>00735                 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#ab78677043d84eb34e7bb69ca60126fcd">special_prop_steering_wheel</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_steering_wheel_special.html#a08d4ff12869ba075e81417b2cd5ac97e">offset</a>.x
<a name="l00736"></a>00736                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#ab78677043d84eb34e7bb69ca60126fcd">special_prop_steering_wheel</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_steering_wheel_special.html#a08d4ff12869ba075e81417b2cd5ac97e">offset</a>.y
<a name="l00737"></a>00737                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#ab78677043d84eb34e7bb69ca60126fcd">special_prop_steering_wheel</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_steering_wheel_special.html#a08d4ff12869ba075e81417b2cd5ac97e">offset</a>.z
<a name="l00738"></a>00738                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_prop.html#ab78677043d84eb34e7bb69ca60126fcd">special_prop_steering_wheel</a>.<a class="code" href="struct_rig_def_1_1_prop_1_1_steering_wheel_special.html#a10c3362a328083c73eb118b936dd5cb4">rotation_angle</a>;
<a name="l00739"></a>00739         }
<a name="l00740"></a>00740 
<a name="l00741"></a>00741         <span class="comment">// Animations</span>
<a name="l00742"></a>00742         <span class="keyword">auto</span> anim_end = def.<a class="code" href="struct_rig_def_1_1_prop.html#ae36a89311276557f32c956c0a04ad780">animations</a>.end();
<a name="l00743"></a>00743         <span class="keywordflow">for</span> (<span class="keyword">auto</span> anim_itor = def.<a class="code" href="struct_rig_def_1_1_prop.html#ae36a89311276557f32c956c0a04ad780">animations</a>.begin(); anim_itor != anim_end; ++anim_itor)
<a name="l00744"></a>00744         {
<a name="l00745"></a>00745             <a class="code" href="class_rig_def_1_1_serializer.html#a188b14cc1eeb664127f19b9575e9f102">ProcessDirectiveAddAnimation</a>(*anim_itor);
<a name="l00746"></a>00746         }
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00749"></a>00749 }
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="class_rig_def_1_1_serializer.html#a8bf49e6ab2b60172f38e0e760ce3afa1">00751</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a8bf49e6ab2b60172f38e0e760ce3afa1">Serializer::ProcessMaterialFlareBindings</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00752"></a>00752 {
<a name="l00753"></a>00753     <span class="keywordflow">if</span> (module-&gt;material_flare_bindings.empty())
<a name="l00754"></a>00754     {
<a name="l00755"></a>00755         <span class="keywordflow">return</span>;
<a name="l00756"></a>00756     }
<a name="l00757"></a>00757     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;materialflarebindings&quot;</span> &lt;&lt; endl;
<a name="l00758"></a>00758     <span class="keyword">auto</span> end_itor = module-&gt;material_flare_bindings.end();
<a name="l00759"></a>00759     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;material_flare_bindings.begin(); itor != end_itor; ++itor)
<a name="l00760"></a>00760     {
<a name="l00761"></a>00761         <a class="code" href="struct_rig_def_1_1_material_flare_binding.html">RigDef::MaterialFlareBinding</a> &amp; def = *itor;
<a name="l00762"></a>00762         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_material_flare_binding.html#a700151fced508c570132cde62ae3fc91">flare_number</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_material_flare_binding.html#a57fb5c2e114b4c56583b57caf4cfc6e4">material_name</a>;
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00765"></a>00765 }
<a name="l00766"></a>00766 
<a name="l00767"></a><a class="code" href="class_rig_def_1_1_serializer.html#aa53b1033c2c6c99eae72a4f22a82541b">00767</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aa53b1033c2c6c99eae72a4f22a82541b">Serializer::ProcessFlares2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00768"></a>00768 {
<a name="l00769"></a>00769     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a41eefcdd99e5853a5f1128aafef6ecb6">flares_2</a>.empty())
<a name="l00770"></a>00770     {
<a name="l00771"></a>00771         <span class="keywordflow">return</span>;
<a name="l00772"></a>00772     }
<a name="l00773"></a>00773     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;flares2&quot;</span> &lt;&lt; endl;
<a name="l00774"></a>00774     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a41eefcdd99e5853a5f1128aafef6ecb6">flares_2</a>.end();
<a name="l00775"></a>00775     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a41eefcdd99e5853a5f1128aafef6ecb6">flares_2</a>.begin(); itor != end_itor; ++itor)
<a name="l00776"></a>00776     {
<a name="l00777"></a>00777         <a class="code" href="struct_rig_def_1_1_flare2.html">RigDef::Flare2</a> &amp; def = *itor;
<a name="l00778"></a>00778 
<a name="l00779"></a>00779         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#ab1ecd6650e9e4594c25c64554174744a">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00780"></a>00780             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a1b3cd9f30d8364dca13356cfe8916ae2">node_axis_x</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00781"></a>00781             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a8aba4620d5a8a712bb90f78f39463ba9">node_axis_y</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00782"></a>00782             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a1336f448b07125339747191de0e5a0c1">offset</a>.x
<a name="l00783"></a>00783             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a1336f448b07125339747191de0e5a0c1">offset</a>.y
<a name="l00784"></a>00784             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a85f03d77917f51332efdc1f91586838a">type</a>
<a name="l00785"></a>00785             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a8508c9aa3e177b4b1db257ed4b03e970">control_number</a>
<a name="l00786"></a>00786             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a245a2d3145e5da397c67ad3df715ed6d">blink_delay_milis</a>
<a name="l00787"></a>00787             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a432ac1a603a3fea65526d60fa0f04dfc">size</a>
<a name="l00788"></a>00788             &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_flare2.html#a5a611fa08db567dc3a26184fdc33b19b">material_name</a>;
<a name="l00789"></a>00789     }
<a name="l00790"></a>00790     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00791"></a>00791 }
<a name="l00792"></a>00792 
<a name="l00793"></a><a class="code" href="class_rig_def_1_1_serializer.html#a1ef335ce60d63f133d0cf66aad204f67">00793</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a1ef335ce60d63f133d0cf66aad204f67">Serializer::ProcessManagedMaterialsAndOptions</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00794"></a>00794 {
<a name="l00795"></a>00795     <span class="keywordflow">if</span> (module-&gt;managed_materials.empty())
<a name="l00796"></a>00796     {
<a name="l00797"></a>00797         <span class="keywordflow">return</span>;
<a name="l00798"></a>00798     }
<a name="l00799"></a>00799     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;managedmaterials&quot;</span> &lt;&lt; endl;
<a name="l00800"></a>00800     <span class="keyword">auto</span> end_itor = module-&gt;managed_materials.end();
<a name="l00801"></a>00801     <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;
<a name="l00802"></a>00802     <a class="code" href="struct_rig_def_1_1_managed_materials_options.html">ManagedMaterialsOptions</a> mm_options;
<a name="l00803"></a>00803     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;managed_materials.begin(); itor != end_itor; ++itor)
<a name="l00804"></a>00804     {
<a name="l00805"></a>00805         <a class="code" href="struct_rig_def_1_1_managed_material.html">RigDef::ManagedMaterial</a> &amp; def = *itor;
<a name="l00806"></a>00806 
<a name="l00807"></a>00807         <span class="keywordflow">if</span> (first || (mm_options.<a class="code" href="struct_rig_def_1_1_managed_materials_options.html#aec4abc6b63dcea79172f0080bda1d9f3">double_sided</a> != def.<a class="code" href="struct_rig_def_1_1_managed_material.html#a879a1abaa523c1659b5029b8bfc2dcf0">options</a>.<a class="code" href="struct_rig_def_1_1_managed_materials_options.html#aec4abc6b63dcea79172f0080bda1d9f3">double_sided</a>))
<a name="l00808"></a>00808         {
<a name="l00809"></a>00809             mm_options.<a class="code" href="struct_rig_def_1_1_managed_materials_options.html#aec4abc6b63dcea79172f0080bda1d9f3">double_sided</a> = def.<a class="code" href="struct_rig_def_1_1_managed_material.html#a879a1abaa523c1659b5029b8bfc2dcf0">options</a>.<a class="code" href="struct_rig_def_1_1_managed_materials_options.html#aec4abc6b63dcea79172f0080bda1d9f3">double_sided</a>;
<a name="l00810"></a>00810             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\tset_managedmaterials_options &quot;</span> &lt;&lt; (int) mm_options.<a class="code" href="struct_rig_def_1_1_managed_materials_options.html#aec4abc6b63dcea79172f0080bda1d9f3">double_sided</a>;
<a name="l00811"></a>00811         }
<a name="l00812"></a>00812         <span class="comment">// Name</span>
<a name="l00813"></a>00813         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_managed_material.html#a5dc09cd722ca4525361dbdaed3f40bc5">name</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00814"></a>00814         <span class="comment">// Type</span>
<a name="l00815"></a>00815         <span class="keywordflow">switch</span> (def.<a class="code" href="struct_rig_def_1_1_managed_material.html#adb33b1c26a945929d447f64be31e972a">type</a>)
<a name="l00816"></a>00816         {
<a name="l00817"></a>00817         <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329a3d9e2e7f1931a98343ab7ad741c5f263">ManagedMaterial::TYPE_FLEXMESH_STANDARD</a>:
<a name="l00818"></a>00818             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;flexmesh_standard &quot;</span>;
<a name="l00819"></a>00819             <span class="keywordflow">break</span>;
<a name="l00820"></a>00820         <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329a364fbb22df927b6d9f14fb504914fdac">ManagedMaterial::TYPE_FLEXMESH_TRANSPARENT</a>:
<a name="l00821"></a>00821             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;flexmesh_transparent &quot;</span>;
<a name="l00822"></a>00822             <span class="keywordflow">break</span>;
<a name="l00823"></a>00823         <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329aa5556c7362b5bbf5d7dc7cb24600d9fb">ManagedMaterial::TYPE_MESH_STANDARD</a>:
<a name="l00824"></a>00824             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;mesh_standard &quot;</span>;
<a name="l00825"></a>00825             <span class="keywordflow">break</span>;
<a name="l00826"></a>00826         <span class="keywordflow">case</span> <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329a327d3a960b3f7f3c56f15aa8570cb5eb">ManagedMaterial::TYPE_MESH_TRANSPARENT</a>:
<a name="l00827"></a>00827             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;mesh_transparent &quot;</span>;
<a name="l00828"></a>00828             <span class="keywordflow">break</span>;
<a name="l00829"></a>00829         <span class="keywordflow">default</span>:
<a name="l00830"></a>00830             ;
<a name="l00831"></a>00831         }
<a name="l00832"></a>00832         <span class="comment">// Diffuse texture filename</span>
<a name="l00833"></a>00833         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_managed_material.html#abc379420c9b5b3d69d9e78e8b78b36cc">diffuse_map</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00834"></a>00834         <span class="comment">// Diffuse damage-texture filename</span>
<a name="l00835"></a>00835         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_managed_material.html#adb33b1c26a945929d447f64be31e972a">type</a> == <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329a3d9e2e7f1931a98343ab7ad741c5f263">ManagedMaterial::TYPE_FLEXMESH_STANDARD</a> || def.<a class="code" href="struct_rig_def_1_1_managed_material.html#adb33b1c26a945929d447f64be31e972a">type</a> == <a class="code" href="struct_rig_def_1_1_managed_material.html#a69a407568a5bc70553488f2ff2a3a329a364fbb22df927b6d9f14fb504914fdac">ManagedMaterial::TYPE_FLEXMESH_TRANSPARENT</a>)
<a name="l00836"></a>00836         {
<a name="l00837"></a>00837             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_managed_material.html#ad72439b398c66b63fbc46028ccbfc160">damaged_diffuse_map</a>.empty() ? <span class="stringliteral">&quot;-&quot;</span> : def.<a class="code" href="struct_rig_def_1_1_managed_material.html#ad72439b398c66b63fbc46028ccbfc160">damaged_diffuse_map</a>) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00838"></a>00838         }
<a name="l00839"></a>00839         <span class="comment">// Specular texture</span>
<a name="l00840"></a>00840         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_managed_material.html#a913aa588a71ff3ce3fd26bb4a5638dcd">specular_map</a>.empty() ? <span class="stringliteral">&quot;-&quot;</span> : def.<a class="code" href="struct_rig_def_1_1_managed_material.html#a913aa588a71ff3ce3fd26bb4a5638dcd">specular_map</a>);
<a name="l00841"></a>00841 
<a name="l00842"></a>00842         first = <span class="keyword">false</span>;
<a name="l00843"></a>00843     }
<a name="l00844"></a>00844     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00845"></a>00845 }
<a name="l00846"></a>00846 
<a name="l00847"></a><a class="code" href="class_rig_def_1_1_serializer.html#a83689cc03334ab228ca3268a96ae9572">00847</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a83689cc03334ab228ca3268a96ae9572">Serializer::ProcessCollisionBoxes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00848"></a>00848 {
<a name="l00849"></a>00849     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ab4220de7f206d176b1f2702015225d75">collision_boxes</a>.empty())
<a name="l00850"></a>00850     {
<a name="l00851"></a>00851         <span class="keywordflow">return</span>;
<a name="l00852"></a>00852     }
<a name="l00853"></a>00853     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;collisionboxes&quot;</span> &lt;&lt; endl;
<a name="l00854"></a>00854     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ab4220de7f206d176b1f2702015225d75">collision_boxes</a>.end();
<a name="l00855"></a>00855     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ab4220de7f206d176b1f2702015225d75">collision_boxes</a>.begin(); itor != end_itor; ++itor)
<a name="l00856"></a>00856     {
<a name="l00857"></a>00857         <a class="code" href="struct_rig_def_1_1_collision_box.html">RigDef::CollisionBox</a> &amp; def = *itor;
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         <span class="keyword">auto</span> nodes_end = def.<a class="code" href="struct_rig_def_1_1_collision_box.html#ad9cdb18abd6ad4db1e0102851299aaf2">nodes</a>.end();
<a name="l00860"></a>00860         <span class="keyword">auto</span> node_itor = def.<a class="code" href="struct_rig_def_1_1_collision_box.html#ad9cdb18abd6ad4db1e0102851299aaf2">nodes</a>.begin();
<a name="l00861"></a>00861         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; node_itor-&gt;ToString();
<a name="l00862"></a>00862         ++node_itor;
<a name="l00863"></a>00863         <span class="keywordflow">for</span> (; node_itor != nodes_end; ++node_itor)
<a name="l00864"></a>00864         {
<a name="l00865"></a>00865             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; node_itor-&gt;ToString();
<a name="l00866"></a>00866         }
<a name="l00867"></a>00867     }
<a name="l00868"></a>00868     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00869"></a>00869 }
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="class_rig_def_1_1_serializer.html#a25fc577b7a65400ca481543c5ee27230">00871</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a25fc577b7a65400ca481543c5ee27230">Serializer::ProcessAxles</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00872"></a>00872 {
<a name="l00873"></a>00873     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac6eb1e98ad98ef5f2cb7dd01eb27f701">axles</a>.empty())
<a name="l00874"></a>00874     {
<a name="l00875"></a>00875         <span class="keywordflow">return</span>;
<a name="l00876"></a>00876     }
<a name="l00877"></a>00877     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;axles&quot;</span> &lt;&lt; endl;
<a name="l00878"></a>00878     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac6eb1e98ad98ef5f2cb7dd01eb27f701">axles</a>.end();
<a name="l00879"></a>00879     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac6eb1e98ad98ef5f2cb7dd01eb27f701">axles</a>.begin(); itor != end_itor; ++itor)
<a name="l00880"></a>00880     {
<a name="l00881"></a>00881         <a class="code" href="struct_rig_def_1_1_axle.html">RigDef::Axle</a> &amp; def = *itor;
<a name="l00882"></a>00882 
<a name="l00883"></a>00883         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span>
<a name="l00884"></a>00884             &lt;&lt; <span class="stringliteral">&quot;w1(&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_axle.html#ac4957b6163bcd501003490d20e3abf34">wheels</a>[0][0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_axle.html#ac4957b6163bcd501003490d20e3abf34">wheels</a>[0][1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;), &quot;</span>
<a name="l00885"></a>00885             &lt;&lt; <span class="stringliteral">&quot;w2(&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_axle.html#ac4957b6163bcd501003490d20e3abf34">wheels</a>[1][0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_axle.html#ac4957b6163bcd501003490d20e3abf34">wheels</a>[1][1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00886"></a>00886         <span class="keywordflow">if</span> (! def.<a class="code" href="struct_rig_def_1_1_axle.html#ab9853ed20b3b34ea3a2baa140cc7a2ef" title="Order matters!">options</a>.empty())
<a name="l00887"></a>00887         {
<a name="l00888"></a>00888             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, d(&quot;</span>;
<a name="l00889"></a>00889             <span class="keyword">auto</span> end = def.<a class="code" href="struct_rig_def_1_1_axle.html#ab9853ed20b3b34ea3a2baa140cc7a2ef" title="Order matters!">options</a>.end();
<a name="l00890"></a>00890             <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = def.<a class="code" href="struct_rig_def_1_1_axle.html#ab9853ed20b3b34ea3a2baa140cc7a2ef" title="Order matters!">options</a>.begin(); itor != end; ++itor)
<a name="l00891"></a>00891             {
<a name="l00892"></a>00892                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; *itor;
<a name="l00893"></a>00893             }
<a name="l00894"></a>00894             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00895"></a>00895         }
<a name="l00896"></a>00896     }
<a name="l00897"></a>00897     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00898"></a>00898 }
<a name="l00899"></a>00899 
<a name="l00900"></a><a class="code" href="class_rig_def_1_1_serializer.html#a19d423cd038d51e43fda37664cf1d851">00900</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a19d423cd038d51e43fda37664cf1d851">Serializer::ProcessCruiseControl</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00901"></a>00901 {
<a name="l00902"></a>00902     <span class="keywordflow">if</span> (! module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a65e2aa51f50b7bf56d69a1c42bd67710">cruise_control</a>)
<a name="l00903"></a>00903     {
<a name="l00904"></a>00904         <span class="keywordflow">return</span>;
<a name="l00905"></a>00905     }
<a name="l00906"></a>00906     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;cruisecontrol &quot;</span> 
<a name="l00907"></a>00907         &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a65e2aa51f50b7bf56d69a1c42bd67710">cruise_control</a>-&gt;min_speed &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l00908"></a>00908         &lt;&lt; (int) module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a65e2aa51f50b7bf56d69a1c42bd67710">cruise_control</a>-&gt;autobrake
<a name="l00909"></a>00909         &lt;&lt; endl &lt;&lt; endl;
<a name="l00910"></a>00910 }
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="class_rig_def_1_1_serializer.html#aa4942abe1a063c954a677271a92d3258">00912</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aa4942abe1a063c954a677271a92d3258">Serializer::ProcessSpeedLimiter</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914     <span class="keywordflow">if</span> (! module-&gt;speed_limiter)
<a name="l00915"></a>00915     {
<a name="l00916"></a>00916         <span class="keywordflow">return</span>;
<a name="l00917"></a>00917     }
<a name="l00918"></a>00918     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;speedlimiter &quot;</span> 
<a name="l00919"></a>00919         &lt;&lt; module-&gt;speed_limiter-&gt;max_speed
<a name="l00920"></a>00920         &lt;&lt; endl &lt;&lt; endl;
<a name="l00921"></a>00921 }
<a name="l00922"></a>00922 
<a name="l00923"></a><a class="code" href="class_rig_def_1_1_serializer.html#ac1fab767fe808cdbf921479ff8d289cc">00923</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ac1fab767fe808cdbf921479ff8d289cc">Serializer::ProcessTorqueCurve</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00924"></a>00924 {
<a name="l00925"></a>00925     <span class="keywordflow">if</span> (! module-&gt;torque_curve)
<a name="l00926"></a>00926     {
<a name="l00927"></a>00927         <span class="keywordflow">return</span>;
<a name="l00928"></a>00928     }
<a name="l00929"></a>00929     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;torquecurve&quot;</span> &lt;&lt; endl;
<a name="l00930"></a>00930     <span class="keywordflow">if</span> (module-&gt;torque_curve-&gt;predefined_func_name.empty())
<a name="l00931"></a>00931     {
<a name="l00932"></a>00932         <span class="keyword">auto</span> itor_end = module-&gt;torque_curve-&gt;samples.end();
<a name="l00933"></a>00933         <span class="keyword">auto</span> itor = module-&gt;torque_curve-&gt;samples.begin();
<a name="l00934"></a>00934         <span class="keywordflow">for</span> (; itor != itor_end; ++itor)
<a name="l00935"></a>00935         {
<a name="l00936"></a>00936             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; itor-&gt;power &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; itor-&gt;torque_percent;
<a name="l00937"></a>00937         }
<a name="l00938"></a>00938     }
<a name="l00939"></a>00939     <span class="keywordflow">else</span>
<a name="l00940"></a>00940     {
<a name="l00941"></a>00941         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; module-&gt;torque_curve-&gt;predefined_func_name;
<a name="l00942"></a>00942     }
<a name="l00943"></a>00943     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00944"></a>00944 }
<a name="l00945"></a>00945 
<a name="l00946"></a><a class="code" href="class_rig_def_1_1_serializer.html#a0c404a3a46526aa0b9d0e0af04a05213">00946</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a0c404a3a46526aa0b9d0e0af04a05213">Serializer::ProcessParticles</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00947"></a>00947 {
<a name="l00948"></a>00948     <span class="keywordflow">if</span> (module-&gt;particles.empty())
<a name="l00949"></a>00949     {
<a name="l00950"></a>00950         <span class="keywordflow">return</span>;
<a name="l00951"></a>00951     }
<a name="l00952"></a>00952     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;particles&quot;</span> &lt;&lt; endl;
<a name="l00953"></a>00953     <span class="keyword">auto</span> end_itor = module-&gt;particles.end();
<a name="l00954"></a>00954     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;particles.begin(); itor != end_itor; ++itor)
<a name="l00955"></a>00955     {
<a name="l00956"></a>00956         <a class="code" href="struct_rig_def_1_1_particle.html">RigDef::Particle</a> &amp; def = *itor;
<a name="l00957"></a>00957 
<a name="l00958"></a>00958         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> 
<a name="l00959"></a>00959             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_particle.html#a124a9d68981f024ec468e1bafc31bdc0">emitter_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l00960"></a>00960             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_particle.html#a6dd0aa51141e1c4368837b37ae8135a3">reference_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l00961"></a>00961             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_particle.html#add2234f956e03de6e48774758e51cad5">particle_system_name</a>;
<a name="l00962"></a>00962     }
<a name="l00963"></a>00963     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00964"></a>00964 }
<a name="l00965"></a>00965 
<a name="l00966"></a><a class="code" href="class_rig_def_1_1_serializer.html#ad9cb272bc320f7c6140239ea89ca9e31">00966</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ad9cb272bc320f7c6140239ea89ca9e31">Serializer::ProcessRopables</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00967"></a>00967 {
<a name="l00968"></a>00968     <span class="keywordflow">if</span> (module-&gt;ropables.empty())
<a name="l00969"></a>00969     {
<a name="l00970"></a>00970         <span class="keywordflow">return</span>;
<a name="l00971"></a>00971     }
<a name="l00972"></a>00972     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;ropables&quot;</span> &lt;&lt; endl;
<a name="l00973"></a>00973     <span class="keyword">auto</span> end_itor = module-&gt;ropables.end();
<a name="l00974"></a>00974     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;ropables.begin(); itor != end_itor; ++itor)
<a name="l00975"></a>00975     {
<a name="l00976"></a>00976         <a class="code" href="struct_rig_def_1_1_ropable.html">RigDef::Ropable</a> &amp; def = *itor;
<a name="l00977"></a>00977 
<a name="l00978"></a>00978         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_ropable.html#ad7c7f6defb128879b79c33b8e883cad4">node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00979"></a>00979             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_ropable.html#aee8681f82ec839e672e483711a045452">group</a>
<a name="l00980"></a>00980             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (int) def.<a class="code" href="struct_rig_def_1_1_ropable.html#aef6accf08290580c74f19adfb631abe7">multilock</a>;
<a name="l00981"></a>00981     }
<a name="l00982"></a>00982     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l00983"></a>00983 }
<a name="l00984"></a>00984 
<a name="l00985"></a><a class="code" href="class_rig_def_1_1_serializer.html#a6bb83111c5d3f89a0770960783e2428c">00985</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a6bb83111c5d3f89a0770960783e2428c">Serializer::ProcessTies</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l00986"></a>00986 {
<a name="l00987"></a>00987     <span class="keywordflow">if</span> (module-&gt;ties.empty())
<a name="l00988"></a>00988     {
<a name="l00989"></a>00989         <span class="keywordflow">return</span>;
<a name="l00990"></a>00990     }
<a name="l00991"></a>00991     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;ties&quot;</span> &lt;&lt; endl;
<a name="l00992"></a>00992     <span class="keyword">auto</span> end_itor = module-&gt;ties.end();
<a name="l00993"></a>00993     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;ties.begin(); itor != end_itor; ++itor)
<a name="l00994"></a>00994     {
<a name="l00995"></a>00995         <a class="code" href="struct_rig_def_1_1_tie.html">RigDef::Tie</a> &amp; def = *itor;
<a name="l00996"></a>00996 
<a name="l00997"></a>00997         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#a0117bb7f086f5ae7ddaee03ea527a227">root_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()
<a name="l00998"></a>00998             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#ade8c827f6cc690147b04d676139d332b">max_reach_length</a>
<a name="l00999"></a>00999             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#a5925b6d13ff4b9fb0e3adecb2c4340fe">auto_shorten_rate</a>
<a name="l01000"></a>01000             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#a0b40a56021499da732a7c4ddbc4223a0">min_length</a>
<a name="l01001"></a>01001             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#acd3d9a03f642abb6fb56b71e74592d8e">max_length</a>
<a name="l01002"></a>01002             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_tie.html#a36e8a071e7a9ab91bb8cbd5b3885fc84">options</a> == <a class="code" href="struct_rig_def_1_1_tie.html#a71af09d152fa909aca046d40a6c479fda7c14978fd9956ecca99531fb03c450e5">Tie::OPTIONS_INVISIBLE</a> ? <span class="stringliteral">&quot;i&quot;</span> : <span class="stringliteral">&quot;n&quot;</span>) 
<a name="l01003"></a>01003             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#a0da377554573a477e06532d4d03999dd">max_stress</a>
<a name="l01004"></a>01004             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_tie.html#ae0eb5e62ce1822f1338cc60c14a9f61e">group</a>;
<a name="l01005"></a>01005     }
<a name="l01006"></a>01006     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01007"></a>01007 }
<a name="l01008"></a>01008 
<a name="l01009"></a><a class="code" href="class_rig_def_1_1_serializer.html#a9eb2f4689078681bcba2816406ac9dd8">01009</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a9eb2f4689078681bcba2816406ac9dd8">Serializer::ProcessFixes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01010"></a>01010 {
<a name="l01011"></a>01011     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a44c2bbd8e98ce6d12fc202e61472ef02">fixes</a>.empty())
<a name="l01012"></a>01012     {
<a name="l01013"></a>01013         <span class="keywordflow">return</span>;
<a name="l01014"></a>01014     }
<a name="l01015"></a>01015     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;fixes&quot;</span> &lt;&lt; endl;
<a name="l01016"></a>01016     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a44c2bbd8e98ce6d12fc202e61472ef02">fixes</a>.end();
<a name="l01017"></a>01017     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a44c2bbd8e98ce6d12fc202e61472ef02">fixes</a>.begin(); itor != end_itor; ++itor)
<a name="l01018"></a>01018     {
<a name="l01019"></a>01019         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;ToString();
<a name="l01020"></a>01020     }
<a name="l01021"></a>01021     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01022"></a>01022 }
<a name="l01023"></a>01023 
<a name="l01024"></a><a class="code" href="class_rig_def_1_1_serializer.html#abdb6b328b0fd16fff3b2c2e9147017fe">01024</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#abdb6b328b0fd16fff3b2c2e9147017fe">Serializer::ProcessRopes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01025"></a>01025 {
<a name="l01026"></a>01026     <span class="keywordflow">if</span> (module-&gt;ropes.empty())
<a name="l01027"></a>01027     {
<a name="l01028"></a>01028         <span class="keywordflow">return</span>;
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;ropes&quot;</span> &lt;&lt; endl;
<a name="l01031"></a>01031     <span class="keyword">auto</span> end_itor = module-&gt;ropes.end();
<a name="l01032"></a>01032     <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;
<a name="l01033"></a>01033     <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* beam_defaults = <span class="keyword">nullptr</span>;
<a name="l01034"></a>01034     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;ropes.begin(); itor != end_itor; ++itor)
<a name="l01035"></a>01035     {
<a name="l01036"></a>01036         <a class="code" href="struct_rig_def_1_1_rope.html">RigDef::Rope</a> &amp; def = *itor;
<a name="l01037"></a>01037 
<a name="l01038"></a>01038         <span class="keywordflow">if</span> (first || (def.<a class="code" href="struct_rig_def_1_1_rope.html#a683bb747ac66dc46f32b9202582c33da">beam_defaults</a>.get() != beam_defaults))
<a name="l01039"></a>01039         {
<a name="l01040"></a>01040             <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(def.<a class="code" href="struct_rig_def_1_1_rope.html#a683bb747ac66dc46f32b9202582c33da">beam_defaults</a>.get(), <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l01041"></a>01041         }
<a name="l01042"></a>01042 
<a name="l01043"></a>01043         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> 
<a name="l01044"></a>01044             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rope.html#aca715ade3aa0c0029f0f613e3713830c">root_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01045"></a>01045             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rope.html#ac0918cf76f8fd8694c09aedee559abc5">end_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>();
<a name="l01046"></a>01046         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_rope.html#a723d1873f1b3ae5175a1746b1b3cde73">invisible</a>)
<a name="l01047"></a>01047         {
<a name="l01048"></a>01048             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, i&quot;</span>;
<a name="l01049"></a>01049         }
<a name="l01050"></a>01050         first = <span class="keyword">false</span>;
<a name="l01051"></a>01051     }
<a name="l01052"></a>01052     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01053"></a>01053 }
<a name="l01054"></a>01054 
<a name="l01055"></a><a class="code" href="class_rig_def_1_1_serializer.html#a5189dcc5a136326e5d70f7454ca028ad">01055</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a5189dcc5a136326e5d70f7454ca028ad">Serializer::ProcessRailGroups</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01056"></a>01056 {
<a name="l01057"></a>01057     <span class="keywordflow">if</span> (module-&gt;railgroups.empty())
<a name="l01058"></a>01058     {
<a name="l01059"></a>01059         <span class="keywordflow">return</span>;
<a name="l01060"></a>01060     }
<a name="l01061"></a>01061     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;railgroups&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01062"></a>01062     <span class="keyword">auto</span> end_itor = module-&gt;railgroups.end();
<a name="l01063"></a>01063     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;railgroups.begin(); itor != end_itor; ++itor)
<a name="l01064"></a>01064     {
<a name="l01065"></a>01065         <a class="code" href="struct_rig_def_1_1_rail_group.html">RigDef::RailGroup</a> &amp; def = *itor;
<a name="l01066"></a>01066 
<a name="l01067"></a>01067         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rail_group.html#a81c2cc3edae5a3a9bf50eff2119fa996">id</a>;
<a name="l01068"></a>01068         <span class="keyword">auto</span> node_end = def.<a class="code" href="struct_rig_def_1_1_rail_group.html#a3681d82bc0eeea15944595c83ab6551b">node_list</a>.end();
<a name="l01069"></a>01069         <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_itor = def.<a class="code" href="struct_rig_def_1_1_rail_group.html#a3681d82bc0eeea15944595c83ab6551b">node_list</a>.begin(); node_itor != node_end; ++node_itor)
<a name="l01070"></a>01070         {
<a name="l01071"></a>01071             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; node_itor-&gt;start.ToString();
<a name="l01072"></a>01072             <span class="keywordflow">if</span> (node_itor-&gt;IsRange())
<a name="l01073"></a>01073             {
<a name="l01074"></a>01074                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; node_itor-&gt;end.ToString();
<a name="l01075"></a>01075             }
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077     }
<a name="l01078"></a>01078     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01079"></a>01079 }
<a name="l01080"></a>01080 
<a name="l01081"></a><a class="code" href="class_rig_def_1_1_serializer.html#a04edb95ea5d528a458c67839425d6286">01081</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a04edb95ea5d528a458c67839425d6286">Serializer::ProcessSlideNodes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01082"></a>01082 {
<a name="l01083"></a>01083     <span class="keywordflow">if</span> (module-&gt;slidenodes.empty())
<a name="l01084"></a>01084     {
<a name="l01085"></a>01085         <span class="keywordflow">return</span>;
<a name="l01086"></a>01086     }
<a name="l01087"></a>01087     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;slidenodes&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01088"></a>01088     <span class="keyword">auto</span> end_itor = module-&gt;slidenodes.end();
<a name="l01089"></a>01089     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;slidenodes.begin(); itor != end_itor; ++itor)
<a name="l01090"></a>01090     {
<a name="l01091"></a>01091         <a class="code" href="struct_rig_def_1_1_slide_node.html">RigDef::SlideNode</a> &amp; def = *itor;
<a name="l01092"></a>01092 
<a name="l01093"></a>01093         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#a57d4430eeb3a1bed4f1482b3813f9cd3">slide_node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>();
<a name="l01094"></a>01094 
<a name="l01095"></a>01095         <span class="comment">// Define rail - either list of nodes, or raigroup ID</span>
<a name="l01096"></a>01096         <span class="keywordflow">if</span> (!def.<a class="code" href="struct_rig_def_1_1_slide_node.html#ae0e327c404999401b78796111441ee6d">rail_node_ranges</a>.empty())
<a name="l01097"></a>01097         {
<a name="l01098"></a>01098             <span class="keyword">auto</span> end = def.<a class="code" href="struct_rig_def_1_1_slide_node.html#ae0e327c404999401b78796111441ee6d">rail_node_ranges</a>.end();
<a name="l01099"></a>01099             <span class="keyword">auto</span> itor = def.<a class="code" href="struct_rig_def_1_1_slide_node.html#ae0e327c404999401b78796111441ee6d">rail_node_ranges</a>.begin();
<a name="l01100"></a>01100             <span class="keywordflow">for</span> (; itor != end; ++itor)
<a name="l01101"></a>01101             {
<a name="l01102"></a>01102                 <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; itor-&gt;start.ToString();
<a name="l01103"></a>01103                 <span class="keywordflow">if</span> (itor-&gt;IsRange())
<a name="l01104"></a>01104                 {
<a name="l01105"></a>01105                     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; itor-&gt;end.ToString();
<a name="l01106"></a>01106                 }
<a name="l01107"></a>01107             }
<a name="l01108"></a>01108         }
<a name="l01109"></a>01109         <span class="keywordflow">else</span>
<a name="l01110"></a>01110         {
<a name="l01111"></a>01111             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, g&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#ad0286cca02f9e759734177f5a6ff79ef">railgroup_id</a>;
<a name="l01112"></a>01112         }
<a name="l01113"></a>01113 
<a name="l01114"></a>01114         <span class="comment">// Params</span>
<a name="l01115"></a>01115         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l01116"></a>01116             &lt;&lt; <span class="stringliteral">&quot;, s&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#a23a8705deff5cbbfa2915f56b88d3b35">spring_rate</a>
<a name="l01117"></a>01117             &lt;&lt; <span class="stringliteral">&quot;, b&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#a62aabeacd5968d1896ca3fbffee8c985">break_force</a>
<a name="l01118"></a>01118             &lt;&lt; <span class="stringliteral">&quot;, t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#afce23142d6e72bb68145d464ed57f52e">tolerance</a>
<a name="l01119"></a>01119             &lt;&lt; <span class="stringliteral">&quot;, r&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#a625ac87244f0f02b82cbabbcae06ff35">attachment_rate</a>
<a name="l01120"></a>01120             &lt;&lt; <span class="stringliteral">&quot;, d&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_slide_node.html#a43a6fe5e7bbed69a4eb578b62e68e4bc">max_attachment_distance</a>;
<a name="l01121"></a>01121 
<a name="l01122"></a>01122         <span class="comment">// Constraint flags (cX)</span>
<a name="l01123"></a>01123              <span class="keywordflow">if</span> (def.HasConstraint_a_AttachAll())     { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, ca&quot;</span>; }
<a name="l01124"></a>01124         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (def.HasConstraint_f_AttachForeign()) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, cf&quot;</span>; }
<a name="l01125"></a>01125         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (def.HasConstraint_s_AttachSelf())    { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, cs&quot;</span>; }
<a name="l01126"></a>01126         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (def.HasConstraint_n_AttachNone())    { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, cn&quot;</span>; }
<a name="l01127"></a>01127     }
<a name="l01128"></a>01128     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01129"></a>01129 }
<a name="l01130"></a>01130 
<a name="l01131"></a><a class="code" href="class_rig_def_1_1_serializer.html#afced5113c96951a5707ece2681056d48">01131</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#afced5113c96951a5707ece2681056d48">Serializer::ProcessHooks</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01132"></a>01132 {
<a name="l01133"></a>01133     <span class="keywordflow">if</span> (module-&gt;hooks.empty())
<a name="l01134"></a>01134     {
<a name="l01135"></a>01135         <span class="keywordflow">return</span>;
<a name="l01136"></a>01136     }
<a name="l01137"></a>01137     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;hooks&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01138"></a>01138     <span class="keyword">auto</span> end_itor = module-&gt;hooks.end();
<a name="l01139"></a>01139     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;hooks.begin(); itor != end_itor; ++itor)
<a name="l01140"></a>01140     {
<a name="l01141"></a>01141         <a class="code" href="struct_rig_def_1_1_hook.html">RigDef::Hook</a> &amp; def = *itor;
<a name="l01142"></a>01142 
<a name="l01143"></a>01143         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#a01f2d5f1ab67a86f5a6845eb5515a94d">node</a>.<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>();
<a name="l01144"></a>01144 
<a name="l01145"></a>01145         <span class="comment">// Boolean options</span>
<a name="l01146"></a>01146         <span class="keywordflow">if</span> (def.HasOptionAutoLock())  { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, auto-lock&quot;</span>; }
<a name="l01147"></a>01147         <span class="keywordflow">if</span> (def.HasOptionNoDisable()) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, nodisable&quot;</span>; }
<a name="l01148"></a>01148         <span class="keywordflow">if</span> (def.HasOptionNoRope())    { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, norope&quot;</span>;    }
<a name="l01149"></a>01149         <span class="keywordflow">if</span> (def.HasOptionSelfLock())  { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, self-lock&quot;</span>; }
<a name="l01150"></a>01150         <span class="keywordflow">if</span> (def.HasOptionVisible())   { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, visible&quot;</span>;   }
<a name="l01151"></a>01151 
<a name="l01152"></a>01152         <span class="comment">// Key-value options</span>
<a name="l01153"></a>01153         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> 
<a name="l01154"></a>01154             &lt;&lt; <span class="stringliteral">&quot;, hookrange: &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#ac3636e93d80f1661fc35d0f11e9962a7">option_hook_range</a>
<a name="l01155"></a>01155             &lt;&lt; <span class="stringliteral">&quot;, speedcoef: &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#aaeee104bc6070537c7a94dc4087a4f23">option_speed_coef</a>
<a name="l01156"></a>01156             &lt;&lt; <span class="stringliteral">&quot;, maxforce: &quot;</span>  &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#a097d4679b1e15280132d779875b1f738">option_max_force</a>
<a name="l01157"></a>01157             &lt;&lt; <span class="stringliteral">&quot;, hookgroup: &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#a811b7a7360afc101c1eab7112a9fb3bc">option_hookgroup</a>
<a name="l01158"></a>01158             &lt;&lt; <span class="stringliteral">&quot;, lockgroup: &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#a40a5ee3b921373bb4cbd5047225bfc9b">option_lockgroup</a>
<a name="l01159"></a>01159             &lt;&lt; <span class="stringliteral">&quot;, timer: &quot;</span>     &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#aad124f3192fff9addc2ecbecb8c8eec6">option_timer</a>
<a name="l01160"></a>01160             &lt;&lt; <span class="stringliteral">&quot;, shortlimit: &quot;</span>&lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hook.html#a3b467ae3c087117ded123c54f1cc790f">option_minimum_range_meters</a>;
<a name="l01161"></a>01161     }
<a name="l01162"></a>01162     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01163"></a>01163 }
<a name="l01164"></a>01164 
<a name="l01165"></a><a class="code" href="class_rig_def_1_1_serializer.html#a7d041f4d8a840cd80ba996c9ff042d14">01165</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a7d041f4d8a840cd80ba996c9ff042d14">Serializer::ProcessLockgroups</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01166"></a>01166 {
<a name="l01167"></a>01167     <span class="keywordflow">if</span> (module-&gt;lockgroups.empty())
<a name="l01168"></a>01168     {
<a name="l01169"></a>01169         <span class="keywordflow">return</span>;
<a name="l01170"></a>01170     }
<a name="l01171"></a>01171     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;lockgroups&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01172"></a>01172     <span class="keyword">auto</span> end_itor = module-&gt;lockgroups.end();
<a name="l01173"></a>01173     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;lockgroups.begin(); itor != end_itor; ++itor)
<a name="l01174"></a>01174     {
<a name="l01175"></a>01175         <a class="code" href="struct_rig_def_1_1_lockgroup.html">RigDef::Lockgroup</a> &amp; def = *itor;
<a name="l01176"></a>01176 
<a name="l01177"></a>01177         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_lockgroup.html#a444542fc9687a13e294f5465738bc71d">number</a>;
<a name="l01178"></a>01178         <span class="keyword">auto</span> nodes_end = def.<a class="code" href="struct_rig_def_1_1_lockgroup.html#aade1cceb5aab1c7f5ddda0e414ef7e68">nodes</a>.end();
<a name="l01179"></a>01179         <span class="keywordflow">for</span> (<span class="keyword">auto</span> nodes_itor = def.<a class="code" href="struct_rig_def_1_1_lockgroup.html#aade1cceb5aab1c7f5ddda0e414ef7e68">nodes</a>.begin(); nodes_itor != nodes_end; ++nodes_itor)
<a name="l01180"></a>01180         {
<a name="l01181"></a>01181             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; nodes_itor-&gt;ToString();
<a name="l01182"></a>01182         }
<a name="l01183"></a>01183     }
<a name="l01184"></a>01184     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01185"></a>01185 }
<a name="l01186"></a>01186 
<a name="l01187"></a><a class="code" href="class_rig_def_1_1_serializer.html#adaf2b0f83b2d511596ee19951afb719d">01187</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#adaf2b0f83b2d511596ee19951afb719d">Serializer::ProcessTriggers</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01188"></a>01188 {
<a name="l01189"></a>01189     <span class="keywordflow">if</span> (module-&gt;triggers.empty())
<a name="l01190"></a>01190     {
<a name="l01191"></a>01191         <span class="keywordflow">return</span>;
<a name="l01192"></a>01192     }
<a name="l01193"></a>01193     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;animators&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01194"></a>01194     <span class="keyword">auto</span> end_itor = module-&gt;triggers.end();
<a name="l01195"></a>01195     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;triggers.begin(); itor != end_itor; ++itor)
<a name="l01196"></a>01196     {
<a name="l01197"></a>01197         <a class="code" href="struct_rig_def_1_1_trigger.html">RigDef::Trigger</a> &amp; def = *itor;
<a name="l01198"></a>01198 
<a name="l01199"></a>01199         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\n\t&quot;</span>
<a name="l01200"></a>01200             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#ac9e97e57ca35830dfc5f0638b93f5c29">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01201"></a>01201             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#ac9e97e57ca35830dfc5f0638b93f5c29">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01202"></a>01202             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#a91c37e7be551f412ee1a86b64279c6a6">contraction_trigger_limit</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01203"></a>01203             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#ab05ed575c633037c2d93b662e1b85076">expansion_trigger_limit</a>   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01204"></a>01204             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#aff88b0ac6416d870d0ad23e96ef7f0a5">shortbound_trigger_action</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01205"></a>01205             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#aaa81d883e0a442ad5d39320f58e54d3c">longbound_trigger_action</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01206"></a>01206 
<a name="l01207"></a>01207         <span class="keywordflow">if</span> (def.HasFlag_i_Invisible()          ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;i&quot;</span>; }
<a name="l01208"></a>01208         <span class="keywordflow">if</span> (def.HasFlag_c_CommandStyle()       ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;c&quot;</span>; }
<a name="l01209"></a>01209         <span class="keywordflow">if</span> (def.HasFlag_x_StartDisabled()      ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;x&quot;</span>; }
<a name="l01210"></a>01210         <span class="keywordflow">if</span> (def.HasFlag_b_KeyBlocker()         ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;b&quot;</span>; }
<a name="l01211"></a>01211         <span class="keywordflow">if</span> (def.HasFlag_B_TriggerBlocker()     ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;B&quot;</span>; }
<a name="l01212"></a>01212         <span class="keywordflow">if</span> (def.HasFlag_A_InvTriggerBlocker()  ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;A&quot;</span>; }
<a name="l01213"></a>01213         <span class="keywordflow">if</span> (def.HasFlag_s_CmdNumSwitch()       ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;s&quot;</span>; }
<a name="l01214"></a>01214         <span class="keywordflow">if</span> (def.HasFlag_h_UnlocksHookGroup()   ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;h&quot;</span>; }
<a name="l01215"></a>01215         <span class="keywordflow">if</span> (def.HasFlag_H_LocksHookGroup()     ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;H&quot;</span>; }
<a name="l01216"></a>01216         <span class="keywordflow">if</span> (def.HasFlag_t_Continuous()         ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;t&quot;</span>; }
<a name="l01217"></a>01217         <span class="keywordflow">if</span> (def.HasFlag_E_EngineTrigger()      ) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;E&quot;</span>; }
<a name="l01218"></a>01218 
<a name="l01219"></a>01219         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_trigger.html#aa161cd914d0920b4a6b80af298a99d62">boundary_timer</a>;
<a name="l01220"></a>01220     }
<a name="l01221"></a>01221     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01222"></a>01222 }
<a name="l01223"></a>01223 
<a name="l01224"></a><a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">01224</a> <span class="preprocessor">#define ANIMATOR_ADD_FLAG(DEF_VAR, AND_VAR, BITMASK_CONST, NAME_STR) \</span>
<a name="l01225"></a>01225 <span class="preprocessor">    if (AND_VAR) { m_stream &lt;&lt; &quot; | &quot;; } \</span>
<a name="l01226"></a>01226 <span class="preprocessor">    if (BITMASK_IS_1((DEF_VAR).flags, RigDef::Animator::BITMASK_CONST)) { \</span>
<a name="l01227"></a>01227 <span class="preprocessor">        AND_VAR = true; \</span>
<a name="l01228"></a>01228 <span class="preprocessor">        m_stream &lt;&lt; NAME_STR; \</span>
<a name="l01229"></a>01229 <span class="preprocessor">    }</span>
<a name="l01230"></a>01230 <span class="preprocessor"></span>
<a name="l01231"></a><a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">01231</a> <span class="preprocessor">#define ANIMATOR_ADD_AERIAL_FLAG(DEF_VAR, AND_VAR, BITMASK_CONST, NAME_STR) \</span>
<a name="l01232"></a>01232 <span class="preprocessor">    if (AND_VAR) { m_stream &lt;&lt; &quot; | &quot;; } \</span>
<a name="l01233"></a>01233 <span class="preprocessor">    if (BITMASK_IS_1((DEF_VAR).aero_animator.flags, RigDef::AeroAnimator::BITMASK_CONST)) { \</span>
<a name="l01234"></a>01234 <span class="preprocessor">        AND_VAR = true; \</span>
<a name="l01235"></a>01235 <span class="preprocessor">        m_stream &lt;&lt; NAME_STR &lt;&lt; DEF_VAR.aero_animator.motor; \</span>
<a name="l01236"></a>01236 <span class="preprocessor">    }</span>
<a name="l01237"></a>01237 <span class="preprocessor"></span>
<a name="l01238"></a><a class="code" href="_rig_def___serializer_8cpp.html#ab9c3f7b5ec5c959c4bf9815a75c878ba">01238</a> <span class="preprocessor">#define ANIMATOR_ADD_LIMIT(DEF_VAR, AND_VAR, BITMASK_CONST, NAME_STR, VALUE) \</span>
<a name="l01239"></a>01239 <span class="preprocessor">    if (AND_VAR) { m_stream &lt;&lt; &quot; | &quot;; } \</span>
<a name="l01240"></a>01240 <span class="preprocessor">    if (BITMASK_IS_1((DEF_VAR).aero_animator.flags, RigDef::Animator::BITMASK_CONST)) { \</span>
<a name="l01241"></a>01241 <span class="preprocessor">        AND_VAR = true; \</span>
<a name="l01242"></a>01242 <span class="preprocessor">        m_stream &lt;&lt; NAME_STR &lt;&lt; &quot;: &quot; &lt;&lt; VALUE; \</span>
<a name="l01243"></a>01243 <span class="preprocessor">    }</span>
<a name="l01244"></a>01244 <span class="preprocessor"></span>
<a name="l01245"></a><a class="code" href="class_rig_def_1_1_serializer.html#a8997bed2ba67f01bea10055f2a741781">01245</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a8997bed2ba67f01bea10055f2a741781">Serializer::ProcessAnimators</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01246"></a>01246 {
<a name="l01247"></a>01247     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ad2e21b3c959666d71be4cfc8d52744a7">animators</a>.empty())
<a name="l01248"></a>01248     {
<a name="l01249"></a>01249         <span class="keywordflow">return</span>;
<a name="l01250"></a>01250     }
<a name="l01251"></a>01251     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;animators&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01252"></a>01252     <span class="keyword">auto</span> end_itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ad2e21b3c959666d71be4cfc8d52744a7">animators</a>.end();
<a name="l01253"></a>01253     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ad2e21b3c959666d71be4cfc8d52744a7">animators</a>.begin(); itor != end_itor; ++itor)
<a name="l01254"></a>01254     {
<a name="l01255"></a>01255         <a class="code" href="struct_rig_def_1_1_animator.html">RigDef::Animator</a> &amp; def = *itor;
<a name="l01256"></a>01256 
<a name="l01257"></a>01257         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01258"></a>01258             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_animator.html#ae9c18e082ca5bed478bb5b74733ffbf0">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01259"></a>01259             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_animator.html#ae9c18e082ca5bed478bb5b74733ffbf0">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01260"></a>01260             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_animator.html#a315413328d71362303f43504442bafca">lenghtening_factor</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01261"></a>01261 
<a name="l01262"></a>01262         <span class="comment">// Options</span>
<a name="l01263"></a>01263         <span class="keywordtype">bool</span> bAnd = <span class="keyword">false</span>;
<a name="l01264"></a>01264         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_VISIBLE          , <span class="stringliteral">&quot;vis&quot;</span>)
<a name="l01265"></a>01265         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_INVISIBLE        , <span class="stringliteral">&quot;inv&quot;</span>)
<a name="l01266"></a>01266         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_AIRSPEED         , <span class="stringliteral">&quot;airspeed&quot;</span>)
<a name="l01267"></a>01267         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_VERTICAL_VELOCITY, <span class="stringliteral">&quot;vvi&quot;</span>)
<a name="l01268"></a>01268         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ALTIMETER_100K   , <span class="stringliteral">&quot;altimeter100k&quot;</span>)
<a name="l01269"></a>01269         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ALTIMETER_10K    , <span class="stringliteral">&quot;altimeter10k&quot;</span>)
<a name="l01270"></a>01270         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ALTIMETER_1K     , <span class="stringliteral">&quot;altimeter1k&quot;</span>)
<a name="l01271"></a>01271         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ANGLE_OF_ATTACK  , <span class="stringliteral">&quot;aoa&quot;</span>)
<a name="l01272"></a>01272         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_FLAP             , <span class="stringliteral">&quot;flap&quot;</span>)
<a name="l01273"></a>01273         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_AIR_BRAKE        , <span class="stringliteral">&quot;airbrake&quot;</span>)
<a name="l01274"></a>01274         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ROLL             , <span class="stringliteral">&quot;roll&quot;</span>)
<a name="l01275"></a>01275         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_PITCH            , <span class="stringliteral">&quot;pitch&quot;</span>)
<a name="l01276"></a>01276         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_BRAKES           , <span class="stringliteral">&quot;brakes&quot;</span>)
<a name="l01277"></a>01277         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_ACCEL            , <span class="stringliteral">&quot;accel&quot;</span>)
<a name="l01278"></a>01278         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_CLUTCH           , <span class="stringliteral">&quot;clutch&quot;</span>)
<a name="l01279"></a>01279         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_SPEEDO           , <span class="stringliteral">&quot;speedo&quot;</span>)
<a name="l01280"></a>01280         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_TACHO            , <span class="stringliteral">&quot;tacho&quot;</span>)
<a name="l01281"></a>01281         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_TURBO            , <span class="stringliteral">&quot;turbo&quot;</span>)
<a name="l01282"></a>01282         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_PARKING          , <span class="stringliteral">&quot;parking&quot;</span>)
<a name="l01283"></a>01283         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_SHIFT_LEFT_RIGHT , <span class="stringliteral">&quot;shifterman1&quot;</span>)
<a name="l01284"></a>01284         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_SHIFT_BACK_FORTH , <span class="stringliteral">&quot;shifterman2&quot;</span>)
<a name="l01285"></a>01285         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_SEQUENTIAL_SHIFT , <span class="stringliteral">&quot;sequential&quot;</span>)
<a name="l01286"></a>01286         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_GEAR_SELECT      , <span class="stringliteral">&quot;shifterlin&quot;</span>)
<a name="l01287"></a>01287         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_TORQUE           , <span class="stringliteral">&quot;torque&quot;</span>)
<a name="l01288"></a>01288         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_DIFFLOCK         , <span class="stringliteral">&quot;difflock&quot;</span>)
<a name="l01289"></a>01289         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_BOAT_RUDDER      , <span class="stringliteral">&quot;rudderboat&quot;</span>)
<a name="l01290"></a>01290         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_BOAT_THROTTLE    , <span class="stringliteral">&quot;throttleboat&quot;</span>)
<a name="l01291"></a>01291         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_SHORT_LIMIT      , <span class="stringliteral">&quot;shortlimit&quot;</span>)
<a name="l01292"></a>01292         <a class="code" href="_rig_def___serializer_8cpp.html#a364c9e187c8bd3ebd3fccbfa16a828be">ANIMATOR_ADD_FLAG</a>(def, bAnd, OPTION_LONG_LIMIT       , <span class="stringliteral">&quot;longlimit&quot;</span>)
<a name="l01293"></a>01293 
<a name="l01294"></a>01294         <a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">ANIMATOR_ADD_AERIAL_FLAG</a>(def, bAnd, OPTION_THROTTLE , <span class="stringliteral">&quot;throttle&quot;</span>)
<a name="l01295"></a>01295         <a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">ANIMATOR_ADD_AERIAL_FLAG</a>(def, bAnd, OPTION_RPM      , <span class="stringliteral">&quot;rpm&quot;</span>)
<a name="l01296"></a>01296         <a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">ANIMATOR_ADD_AERIAL_FLAG</a>(def, bAnd, OPTION_TORQUE   , <span class="stringliteral">&quot;aerotorq&quot;</span>)
<a name="l01297"></a>01297         <a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">ANIMATOR_ADD_AERIAL_FLAG</a>(def, bAnd, OPTION_PITCH    , <span class="stringliteral">&quot;aeropit&quot;</span>)
<a name="l01298"></a>01298         <a class="code" href="_rig_def___serializer_8cpp.html#ad16377ab7ac2733ef8b93ab967fceb06">ANIMATOR_ADD_AERIAL_FLAG</a>(def, bAnd, OPTION_STATUS   , <span class="stringliteral">&quot;aerostatus&quot;</span>)
<a name="l01299"></a>01299 
<a name="l01300"></a>01300         <a class="code" href="_rig_def___serializer_8cpp.html#ab9c3f7b5ec5c959c4bf9815a75c878ba">ANIMATOR_ADD_LIMIT</a>(def, bAnd, OPTION_SHORT_LIMIT    , <span class="stringliteral">&quot;shortlimit&quot;</span>, def.<a class="code" href="struct_rig_def_1_1_animator.html#a6f704529ebb3b02b3a8fb11f8344bcd1">short_limit</a>)
<a name="l01301"></a>01301         <a class="code" href="_rig_def___serializer_8cpp.html#ab9c3f7b5ec5c959c4bf9815a75c878ba">ANIMATOR_ADD_LIMIT</a>(def, bAnd, OPTION_LONG_LIMIT     , <span class="stringliteral">&quot;longlimit&quot;</span>,  def.<a class="code" href="struct_rig_def_1_1_animator.html#a94e0049079d4d2e8fb1df7f8a7886cf6">long_limit</a>)
<a name="l01302"></a>01302     }
<a name="l01303"></a>01303     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01304"></a>01304 }
<a name="l01305"></a>01305 
<a name="l01306"></a><a class="code" href="class_rig_def_1_1_serializer.html#a3ca27dc8e5051f8f21c178d30cff5169">01306</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a3ca27dc8e5051f8f21c178d30cff5169">Serializer::ProcessContacters</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01307"></a>01307 {
<a name="l01308"></a>01308     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#af9b003b6cbbb42a1e3867a667ea9188d">contacters</a>.empty())
<a name="l01309"></a>01309     {
<a name="l01310"></a>01310         <span class="keywordflow">return</span>;
<a name="l01311"></a>01311     }
<a name="l01312"></a>01312     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;contacters&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01313"></a>01313     <span class="keyword">auto</span> end_itor = module-&gt;rotators.end();
<a name="l01314"></a>01314     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;rotators.begin(); itor != end_itor; ++itor)
<a name="l01315"></a>01315     {
<a name="l01316"></a>01316     }
<a name="l01317"></a>01317     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01318"></a>01318 }
<a name="l01319"></a>01319 
<a name="l01320"></a><a class="code" href="class_rig_def_1_1_serializer.html#aa34f6e8dcf6afb9e89cf30643608658f">01320</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aa34f6e8dcf6afb9e89cf30643608658f">Serializer::ProcessRotators</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01321"></a>01321 {
<a name="l01322"></a>01322     <span class="keywordflow">if</span> (module-&gt;rotators.empty())
<a name="l01323"></a>01323     {
<a name="l01324"></a>01324         <span class="keywordflow">return</span>;
<a name="l01325"></a>01325     }
<a name="l01326"></a>01326     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;rotators&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01327"></a>01327     <span class="keyword">auto</span> end_itor = module-&gt;rotators.end();
<a name="l01328"></a>01328     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;rotators.begin(); itor != end_itor; ++itor)
<a name="l01329"></a>01329     {
<a name="l01330"></a>01330         <a class="code" href="struct_rig_def_1_1_rotator.html">Rotator</a> &amp; def = *itor;
<a name="l01331"></a>01331 
<a name="l01332"></a>01332         <span class="comment">// Axis nodes</span>
<a name="l01333"></a>01333         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l01334"></a>01334             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a52f0e36103480f64d723bd76f7c56077">axis_nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01335"></a>01335             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a52f0e36103480f64d723bd76f7c56077">axis_nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01336"></a>01336 
<a name="l01337"></a>01337         <span class="comment">// Baseplate nodes</span>
<a name="l01338"></a>01338         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)
<a name="l01339"></a>01339         {
<a name="l01340"></a>01340             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a1d31f8aa4803b50313cba04d332904a1">base_plate_nodes</a>[i].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01341"></a>01341         }
<a name="l01342"></a>01342 
<a name="l01343"></a>01343         <span class="comment">// Rotating plate nodes</span>
<a name="l01344"></a>01344         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)
<a name="l01345"></a>01345         {
<a name="l01346"></a>01346             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a85c6f87df65ac0c9412d9cc4acf9e929">rotating_plate_nodes</a>[i].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01347"></a>01347         }
<a name="l01348"></a>01348         
<a name="l01349"></a>01349         <span class="comment">// Attributes</span>
<a name="l01350"></a>01350         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a5afb8c7d3d6b1699d83c9e173e471b39">rate</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a0daafc8c467011e98d76c92e5b15a910">spin_left_key</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#aac4085eef518bc103315f9c7a9a6f76f">spin_right_key</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01351"></a>01351 
<a name="l01352"></a>01352         <span class="comment">// Inertia</span>
<a name="l01353"></a>01353         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> 
<a name="l01354"></a>01354             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a974e50429cd8a4fca7e9f326caf46ab1">start_delay_factor</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01355"></a>01355             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4299c949c4459d1f6a0fb281d9d64e2">stop_delay_factor</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01356"></a>01356             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a940044fc40a8b1d6614fe83d4cbf0c19">start_function</a>     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01357"></a>01357             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4899a8aac32426e9dd74f73fe7d7892">stop_function</a>      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01358"></a>01358             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#aacf94cde941fba9879ac65d0e9375d5e">engine_coupling</a>            &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01359"></a>01359             &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_rotator.html#ae38424df0bdad806156eda5aa0015b5a">needs_engine</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);
<a name="l01360"></a>01360     }
<a name="l01361"></a>01361     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01362"></a>01362 }
<a name="l01363"></a>01363 
<a name="l01364"></a><a class="code" href="class_rig_def_1_1_serializer.html#a7e56c983b53cc278851db147503acf5f">01364</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a7e56c983b53cc278851db147503acf5f">Serializer::ProcessRotators2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01365"></a>01365 {
<a name="l01366"></a>01366     <span class="keywordflow">if</span> (module-&gt;rotators_2.empty())
<a name="l01367"></a>01367     {
<a name="l01368"></a>01368         <span class="keywordflow">return</span>;
<a name="l01369"></a>01369     }
<a name="l01370"></a>01370     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;rotators2&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01371"></a>01371     <span class="keyword">auto</span> end_itor = module-&gt;rotators_2.end();
<a name="l01372"></a>01372     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;rotators_2.begin(); itor != end_itor; ++itor)
<a name="l01373"></a>01373     {
<a name="l01374"></a>01374         <a class="code" href="struct_rig_def_1_1_rotator2.html">Rotator2</a> &amp; def = *itor;
<a name="l01375"></a>01375 
<a name="l01376"></a>01376         <span class="comment">// Axis nodes</span>
<a name="l01377"></a>01377         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l01378"></a>01378             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a52f0e36103480f64d723bd76f7c56077">axis_nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01379"></a>01379             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a52f0e36103480f64d723bd76f7c56077">axis_nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01380"></a>01380 
<a name="l01381"></a>01381         <span class="comment">// Baseplate nodes</span>
<a name="l01382"></a>01382         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)
<a name="l01383"></a>01383         {
<a name="l01384"></a>01384             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a1d31f8aa4803b50313cba04d332904a1">base_plate_nodes</a>[i].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01385"></a>01385         }
<a name="l01386"></a>01386 
<a name="l01387"></a>01387         <span class="comment">// Rotating plate nodes</span>
<a name="l01388"></a>01388         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)
<a name="l01389"></a>01389         {
<a name="l01390"></a>01390             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a85c6f87df65ac0c9412d9cc4acf9e929">rotating_plate_nodes</a>[i].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01391"></a>01391         }
<a name="l01392"></a>01392         
<a name="l01393"></a>01393         <span class="comment">// Attributes</span>
<a name="l01394"></a>01394         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> 
<a name="l01395"></a>01395             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a5afb8c7d3d6b1699d83c9e173e471b39">rate</a>            &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l01396"></a>01396             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#a0daafc8c467011e98d76c92e5b15a910">spin_left_key</a>   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l01397"></a>01397             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#aac4085eef518bc103315f9c7a9a6f76f">spin_right_key</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01398"></a>01398             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator2.html#ae62524db69939d86ed54857ccfff30bb">rotating_force</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01399"></a>01399             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator2.html#ae8d5400f5aecf0d6e62ea17666027d7b">tolerance</a>       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01400"></a>01400             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator2.html#ab7696eb43681bf0b32c54f3b17c58328">description</a>     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01401"></a>01401 
<a name="l01402"></a>01402         <span class="comment">// Inertia</span>
<a name="l01403"></a>01403         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> 
<a name="l01404"></a>01404             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a974e50429cd8a4fca7e9f326caf46ab1">start_delay_factor</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01405"></a>01405             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4299c949c4459d1f6a0fb281d9d64e2">stop_delay_factor</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01406"></a>01406             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a940044fc40a8b1d6614fe83d4cbf0c19">start_function</a>     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01407"></a>01407             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#afdc433fe06fcf1fba9080d224144736b">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4899a8aac32426e9dd74f73fe7d7892">stop_function</a>      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01408"></a>01408             &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_rotator.html#aacf94cde941fba9879ac65d0e9375d5e">engine_coupling</a>            &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01409"></a>01409             &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_rotator.html#ae38424df0bdad806156eda5aa0015b5a">needs_engine</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);
<a name="l01410"></a>01410     }
<a name="l01411"></a>01411     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01412"></a>01412 }
<a name="l01413"></a>01413 
<a name="l01414"></a><a class="code" href="class_rig_def_1_1_serializer.html#a69559a22c6063dd735efa77ddffdcbdf">01414</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a69559a22c6063dd735efa77ddffdcbdf">Serializer::ProcessFlexBodyWheels</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01415"></a>01415 {
<a name="l01416"></a>01416     <span class="keywordflow">if</span> (module-&gt;flex_body_wheels.empty())
<a name="l01417"></a>01417     {
<a name="l01418"></a>01418         <span class="keywordflow">return</span>;
<a name="l01419"></a>01419     }
<a name="l01420"></a>01420     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;flexbodywheels&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01421"></a>01421     <span class="keyword">auto</span> end_itor = module-&gt;flex_body_wheels.end();
<a name="l01422"></a>01422     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;flex_body_wheels.begin(); itor != end_itor; ++itor)
<a name="l01423"></a>01423     {
<a name="l01424"></a>01424         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01425"></a>01425             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_radius                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01426"></a>01426             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_radius                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01427"></a>01427             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;width                         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01428"></a>01428             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;num_rays                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01429"></a>01429             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01430"></a>01430             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01431"></a>01431             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;rigidity_node.ToString()      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01432"></a>01432             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;braking                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01433"></a>01433             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;propulsion                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01434"></a>01434             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;reference_arm_node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01435"></a>01435             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;mass                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01436"></a>01436             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_springiness              &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01437"></a>01437             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_damping                  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01438"></a>01438                                      &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(itor-&gt;side))     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01439"></a>01439                                      &lt;&lt; itor-&gt;rim_mesh_name                 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01440"></a>01440                                      &lt;&lt; itor-&gt;tyre_mesh_name
<a name="l01441"></a>01441                                      &lt;&lt; endl;
<a name="l01442"></a>01442     }
<a name="l01443"></a>01443 
<a name="l01444"></a>01444     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01445"></a>01445 }
<a name="l01446"></a>01446 
<a name="l01447"></a><a class="code" href="class_rig_def_1_1_serializer.html#a4a609ac681bd40e1185905fbc5d3a86b">01447</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a4a609ac681bd40e1185905fbc5d3a86b">Serializer::ProcessSlopeBrake</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01448"></a>01448 {
<a name="l01449"></a>01449     <span class="keywordflow">if</span> (module-&gt;slope_brake)
<a name="l01450"></a>01450     {
<a name="l01451"></a>01451         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;SlopeBrake &quot;</span>
<a name="l01452"></a>01452             &lt;&lt; module-&gt;slope_brake-&gt;regulating_force &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01453"></a>01453             &lt;&lt; module-&gt;slope_brake-&gt;attach_angle &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01454"></a>01454             &lt;&lt; module-&gt;slope_brake-&gt;release_angle 
<a name="l01455"></a>01455             &lt;&lt; endl &lt;&lt; endl;
<a name="l01456"></a>01456     }
<a name="l01457"></a>01457 }
<a name="l01458"></a>01458 
<a name="l01459"></a><a class="code" href="class_rig_def_1_1_serializer.html#a547db49588ceab2a653504e66d9cc3da">01459</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a547db49588ceab2a653504e66d9cc3da">Serializer::ProcessTractionControl</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01460"></a>01460 {
<a name="l01461"></a>01461     <span class="keywordflow">if</span> (module-&gt;traction_control)
<a name="l01462"></a>01462     {
<a name="l01463"></a>01463         <a class="code" href="struct_rig_def_1_1_traction_control.html">RigDef::TractionControl</a>* alb = module-&gt;traction_control.get();
<a name="l01464"></a>01464 
<a name="l01465"></a>01465         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;TractionControl &quot;</span>
<a name="l01466"></a>01466             &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_traction_control.html#a050ef8c7fed2b07b2b30c2dec87a2fd9">regulation_force</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01467"></a>01467             &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_traction_control.html#aa112656bb61d25e8238e7840866bd22f">wheel_slip</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01468"></a>01468             &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_traction_control.html#abd1b4ecb76b57d40f93aece3f2a708ac">fade_speed</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01469"></a>01469             &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_traction_control.html#a6fd88cf2f0f1c4abcc3366377a96230c">pulse_per_sec</a> &lt;&lt; <span class="stringliteral">&quot;, mode: &quot;</span>;
<a name="l01470"></a>01470         <span class="comment">// Modes</span>
<a name="l01471"></a>01471         <span class="keywordtype">bool</span> bAnd = <span class="keyword">false</span>;
<a name="l01472"></a>01472         <span class="keywordflow">if</span> (alb-&gt;GetModeIsOn())        { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; ON &quot;</span>;       bAnd = <span class="keyword">true</span>; }
<a name="l01473"></a>01473         <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01474"></a>01474         <span class="keywordflow">if</span> (alb-&gt;GetModeIsOff())       { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; OFF &quot;</span>;      bAnd = <span class="keyword">true</span>; }
<a name="l01475"></a>01475         <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01476"></a>01476         <span class="keywordflow">if</span> (alb-&gt;GetModeNoDashboard()) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; NODASH &quot;</span>;   bAnd = <span class="keyword">true</span>; }
<a name="l01477"></a>01477         <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01478"></a>01478         <span class="keywordflow">if</span> (alb-&gt;GetModeNoToggle())    { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; NOTOGGLE &quot;</span>; bAnd = <span class="keyword">true</span>; }
<a name="l01479"></a>01479     }
<a name="l01480"></a>01480 }
<a name="l01481"></a>01481 
<a name="l01482"></a><a class="code" href="class_rig_def_1_1_serializer.html#aef744c34d83f94e152800daa4bd2f263">01482</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aef744c34d83f94e152800daa4bd2f263">Serializer::ProcessBrakes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01483"></a>01483 {
<a name="l01484"></a>01484     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a62ed5fc219832a2ac5d8e99ee99f6709">brakes</a>)
<a name="l01485"></a>01485     {
<a name="l01486"></a>01486         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;brakes\n\t&quot;</span> 
<a name="l01487"></a>01487             &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a62ed5fc219832a2ac5d8e99ee99f6709">brakes</a>-&gt;default_braking_force &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01488"></a>01488             &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a62ed5fc219832a2ac5d8e99ee99f6709">brakes</a>-&gt;parking_brake_force;
<a name="l01489"></a>01489     }
<a name="l01490"></a>01490 }
<a name="l01491"></a>01491 
<a name="l01492"></a><a class="code" href="class_rig_def_1_1_serializer.html#a9fffeedffdef362bfdbe302a5c89639b">01492</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a9fffeedffdef362bfdbe302a5c89639b">Serializer::ProcessAntiLockBrakes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01493"></a>01493 {
<a name="l01494"></a>01494     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ab82b08b8abd76f39fae4471cfb828b4a">anti_lock_brakes</a> == <span class="keyword">nullptr</span>)
<a name="l01495"></a>01495     {
<a name="l01496"></a>01496         <span class="keywordflow">return</span>;
<a name="l01497"></a>01497     }
<a name="l01498"></a>01498     <a class="code" href="struct_rig_def_1_1_anti_lock_brakes.html">RigDef::AntiLockBrakes</a>* alb = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ab82b08b8abd76f39fae4471cfb828b4a">anti_lock_brakes</a>.get();
<a name="l01499"></a>01499 
<a name="l01500"></a>01500     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;AntiLockBrakes &quot;</span>
<a name="l01501"></a>01501         &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_anti_lock_brakes.html#a5888f772ac8b846466c93c1f7a3fff71">regulation_force</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01502"></a>01502         &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_anti_lock_brakes.html#ab8a9437eb41bc8c305d7322dbf7b0dae">min_speed</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01503"></a>01503         &lt;&lt; alb-&gt;<a class="code" href="struct_rig_def_1_1_anti_lock_brakes.html#ae009886a223a5467555ed1bbf9cec2a7">pulse_per_sec</a> &lt;&lt; <span class="stringliteral">&quot;, mode: &quot;</span>;
<a name="l01504"></a>01504     <span class="comment">// Modes</span>
<a name="l01505"></a>01505     <span class="keywordtype">bool</span> bAnd = <span class="keyword">false</span>;
<a name="l01506"></a>01506     <span class="keywordflow">if</span> (alb-&gt;GetModeIsOn())        { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; ON &quot;</span>;       bAnd = <span class="keyword">true</span>; }
<a name="l01507"></a>01507     <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01508"></a>01508     <span class="keywordflow">if</span> (alb-&gt;GetModeIsOff())       { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; OFF &quot;</span>;      bAnd = <span class="keyword">true</span>; }
<a name="l01509"></a>01509     <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01510"></a>01510     <span class="keywordflow">if</span> (alb-&gt;GetModeNoDashboard()) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; NODASH &quot;</span>;   bAnd = <span class="keyword">true</span>; }
<a name="l01511"></a>01511     <span class="keywordflow">if</span> (bAnd) { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;&amp;&quot;</span>; }
<a name="l01512"></a>01512     <span class="keywordflow">if</span> (alb-&gt;GetModeNoToggle())    { <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; NOTOGGLE &quot;</span>; bAnd = <span class="keyword">true</span>; }
<a name="l01513"></a>01513 }
<a name="l01514"></a>01514 
<a name="l01515"></a><a class="code" href="class_rig_def_1_1_serializer.html#a57b0811f1ca705eba6b6043efca486f9">01515</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a57b0811f1ca705eba6b6043efca486f9">Serializer::ProcessEngine</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01516"></a>01516 {
<a name="l01517"></a>01517     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>.get() == <span class="keyword">nullptr</span>)
<a name="l01518"></a>01518     {
<a name="l01519"></a>01519         <span class="keywordflow">return</span>;
<a name="l01520"></a>01520     }
<a name="l01521"></a>01521     
<a name="l01522"></a>01522     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;engine&quot;</span> 
<a name="l01523"></a>01523         <span class="stringliteral">&quot;\n;\t&quot;</span>
<a name="l01524"></a>01524         <span class="stringliteral">&quot;ShiftDownRPM,&quot;</span>
<a name="l01525"></a>01525         <span class="stringliteral">&quot; ShiftUpRPM,&quot;</span>
<a name="l01526"></a>01526         <span class="stringliteral">&quot;     Torque,&quot;</span>
<a name="l01527"></a>01527         <span class="stringliteral">&quot; GlobalGear,&quot;</span>
<a name="l01528"></a>01528         <span class="stringliteral">&quot; ReverseGear,&quot;</span>
<a name="l01529"></a>01529         <span class="stringliteral">&quot; NeutralGear,&quot;</span>
<a name="l01530"></a>01530         <span class="stringliteral">&quot; Forward gears...\n\t&quot;</span>
<a name="l01531"></a>01531         &lt;&lt; setw(12)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;shift_down_rpm                &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01532"></a>01532         &lt;&lt; setw(10)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;shift_up_rpm                  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01533"></a>01533         &lt;&lt; setw(10)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;torque                        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01534"></a>01534         &lt;&lt; setw(10)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;global_gear_ratio             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01535"></a>01535         &lt;&lt; setw(11)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;reverse_gear_ratio            &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01536"></a>01536         &lt;&lt; setw(11)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;neutral_gear_ratio;
<a name="l01537"></a>01537     
<a name="l01538"></a>01538     <span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;gear_ratios.begin();    
<a name="l01539"></a>01539     <span class="keyword">auto</span> end  = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#ac138e59744ae5f6c551bf3f990c39a57">engine</a>-&gt;gear_ratios.end();
<a name="l01540"></a>01540     <span class="keywordflow">for</span> (; itor != end; ++itor)
<a name="l01541"></a>01541     {
<a name="l01542"></a>01542         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; *itor;
<a name="l01543"></a>01543     }
<a name="l01544"></a>01544     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, -1.0&quot;</span> <span class="comment">/*terminator*/</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01545"></a>01545 }
<a name="l01546"></a>01546 
<a name="l01547"></a><a class="code" href="class_rig_def_1_1_serializer.html#a3e8b3018a47eda5169e66cc3b63e126d">01547</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a3e8b3018a47eda5169e66cc3b63e126d">Serializer::ProcessEngoption</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01548"></a>01548 {
<a name="l01549"></a>01549     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>.get() == <span class="keyword">nullptr</span>)
<a name="l01550"></a>01550     {
<a name="l01551"></a>01551         <span class="keywordflow">return</span>;
<a name="l01552"></a>01552     }
<a name="l01553"></a>01553     
<a name="l01554"></a>01554     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;engoption&quot;</span>
<a name="l01555"></a>01555         <span class="stringliteral">&quot;\n;\t&quot;</span>
<a name="l01556"></a>01556         <span class="stringliteral">&quot;EngInertia,&quot;</span>
<a name="l01557"></a>01557         <span class="stringliteral">&quot; EngineType,&quot;</span>
<a name="l01558"></a>01558         <span class="stringliteral">&quot; ClutchForce,&quot;</span>
<a name="l01559"></a>01559         <span class="stringliteral">&quot; ShiftTime,&quot;</span>
<a name="l01560"></a>01560         <span class="stringliteral">&quot; ClutchTime,&quot;</span>
<a name="l01561"></a>01561         <span class="stringliteral">&quot; PostShiftTime,&quot;</span>
<a name="l01562"></a>01562         <span class="stringliteral">&quot; StallRPM,&quot;</span>
<a name="l01563"></a>01563         <span class="stringliteral">&quot; IdleRPM,&quot;</span>
<a name="l01564"></a>01564         <span class="stringliteral">&quot; MaxIdleMixture,&quot;</span>
<a name="l01565"></a>01565         <span class="stringliteral">&quot; MinIdleMixture&quot;</span>
<a name="l01566"></a>01566         <span class="stringliteral">&quot;\n\t&quot;</span> 
<a name="l01567"></a>01567         &lt;&lt; setw(10)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;inertia           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01568"></a>01568         &lt;&lt; setw(10)   &lt;&lt; (char)module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;type        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01569"></a>01569         &lt;&lt; setw(11)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;clutch_force      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01570"></a>01570         &lt;&lt; setw( 9)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;shift_time        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01571"></a>01571         &lt;&lt; setw(10)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;clutch_time       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01572"></a>01572         &lt;&lt; setw(13)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;post_shift_time   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01573"></a>01573         &lt;&lt; setw( 8)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;stall_rpm         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01574"></a>01574         &lt;&lt; setw( 7)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;idle_rpm          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01575"></a>01575         &lt;&lt; setw(14)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;max_idle_mixture  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01576"></a>01576         &lt;&lt; setw(14)   &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1d6e628d7b86576b5b1cc2595c708c76">engoption</a>-&gt;min_idle_mixture;
<a name="l01577"></a>01577     
<a name="l01578"></a>01578     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl;
<a name="l01579"></a>01579 }
<a name="l01580"></a>01580 
<a name="l01581"></a><a class="code" href="class_rig_def_1_1_serializer.html#ad9ed919695505cd8840a5c047efdbc63">01581</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ad9ed919695505cd8840a5c047efdbc63">Serializer::ProcessHelp</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01582"></a>01582 {
<a name="l01583"></a>01583     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1ac06efaa314b1f41a14256d6988cc7e">help_panel_material_name</a>.empty())
<a name="l01584"></a>01584     {
<a name="l01585"></a>01585         <span class="keywordflow">return</span>;
<a name="l01586"></a>01586     }
<a name="l01587"></a>01587     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;help\n\t&quot;</span> &lt;&lt; module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a1ac06efaa314b1f41a14256d6988cc7e">help_panel_material_name</a> &lt;&lt; endl &lt;&lt; endl;
<a name="l01588"></a>01588 }
<a name="l01589"></a>01589 
<a name="l01590"></a><a class="code" href="class_rig_def_1_1_serializer.html#adfe00d1b7ca3d28e5fca8d73cc7a6566">01590</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#adfe00d1b7ca3d28e5fca8d73cc7a6566">Serializer::ProcessWheels2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01591"></a>01591 {
<a name="l01592"></a>01592     <span class="keywordflow">if</span> (module-&gt;wheels_2.empty())
<a name="l01593"></a>01593     {
<a name="l01594"></a>01594         <span class="keywordflow">return</span>;
<a name="l01595"></a>01595     }
<a name="l01596"></a>01596     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;wheels2&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01597"></a>01597     <span class="keyword">auto</span> end_itor = module-&gt;wheels_2.end();
<a name="l01598"></a>01598     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;wheels_2.begin(); itor != end_itor; ++itor)
<a name="l01599"></a>01599     {
<a name="l01600"></a>01600         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01601"></a>01601             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_radius                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01602"></a>01602             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_radius                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01603"></a>01603             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;width                         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01604"></a>01604             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;num_rays                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01605"></a>01605             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01606"></a>01606             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01607"></a>01607             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;rigidity_node.ToString()      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01608"></a>01608             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;braking                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01609"></a>01609             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;propulsion                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01610"></a>01610             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;reference_arm_node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01611"></a>01611             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;mass                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01612"></a>01612             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_springiness               &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01613"></a>01613             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_damping                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01614"></a>01614             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_springiness              &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01615"></a>01615             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_damping                  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01616"></a>01616                                      &lt;&lt; itor-&gt;face_material_name            &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01617"></a>01617                                      &lt;&lt; itor-&gt;band_material_name            &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01618"></a>01618                                      ;
<a name="l01619"></a>01619         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01620"></a>01620     }
<a name="l01621"></a>01621 
<a name="l01622"></a>01622     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01623"></a>01623 }
<a name="l01624"></a>01624 
<a name="l01625"></a><a class="code" href="class_rig_def_1_1_serializer.html#a2512335af325b011b8c8d14572f62069">01625</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a2512335af325b011b8c8d14572f62069">Serializer::ProcessWheels</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01626"></a>01626 {
<a name="l01627"></a>01627     <span class="keywordflow">if</span> (module-&gt;wheels.empty())
<a name="l01628"></a>01628     {
<a name="l01629"></a>01629         <span class="keywordflow">return</span>;
<a name="l01630"></a>01630     }
<a name="l01631"></a>01631     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;wheels&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01632"></a>01632     <span class="keyword">auto</span> end_itor = module-&gt;wheels.end();
<a name="l01633"></a>01633     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;wheels.begin(); itor != end_itor; ++itor)
<a name="l01634"></a>01634     {
<a name="l01635"></a>01635         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01636"></a>01636             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;radius                        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01637"></a>01637             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;width                         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01638"></a>01638             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;num_rays                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01639"></a>01639             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01640"></a>01640             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01641"></a>01641             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;rigidity_node.ToString()      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01642"></a>01642             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;braking                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01643"></a>01643             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;propulsion                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01644"></a>01644             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;reference_arm_node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01645"></a>01645             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;mass                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01646"></a>01646             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;springiness                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01647"></a>01647             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;damping                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01648"></a>01648                                      &lt;&lt; itor-&gt;face_material_name            &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01649"></a>01649                                      &lt;&lt; itor-&gt;band_material_name            &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01650"></a>01650                                      ;
<a name="l01651"></a>01651         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01652"></a>01652     }
<a name="l01653"></a>01653 
<a name="l01654"></a>01654     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01655"></a>01655 }
<a name="l01656"></a>01656 
<a name="l01657"></a><a class="code" href="class_rig_def_1_1_serializer.html#a4476e8e2f110e3747687aac24850a45a">01657</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a4476e8e2f110e3747687aac24850a45a">Serializer::ProcessMeshWheels</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01658"></a>01658 {
<a name="l01659"></a>01659     <span class="keywordflow">if</span> (module-&gt;mesh_wheels.empty())
<a name="l01660"></a>01660     {
<a name="l01661"></a>01661         <span class="keywordflow">return</span>;
<a name="l01662"></a>01662     }
<a name="l01663"></a>01663     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;meshwheels\n\n&quot;</span>;
<a name="l01664"></a>01664     <span class="keyword">auto</span> end_itor = module-&gt;mesh_wheels.end();
<a name="l01665"></a>01665     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;mesh_wheels.begin(); itor != end_itor; ++itor)
<a name="l01666"></a>01666     {
<a name="l01667"></a>01667         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01668"></a>01668             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_radius                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01669"></a>01669             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_radius                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01670"></a>01670             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;width                         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01671"></a>01671             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;num_rays                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01672"></a>01672             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01673"></a>01673             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01674"></a>01674             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;rigidity_node.ToString()      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01675"></a>01675             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;braking                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01676"></a>01676             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;propulsion                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01677"></a>01677             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;reference_arm_node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01678"></a>01678             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;mass                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01679"></a>01679             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;spring                        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01680"></a>01680             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;damping                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01681"></a>01681                                      &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(itor-&gt;side))     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01682"></a>01682                                      &lt;&lt; itor-&gt;mesh_name                     &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01683"></a>01683                                      &lt;&lt; itor-&gt;material_name;
<a name="l01684"></a>01684         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01685"></a>01685     }
<a name="l01686"></a>01686 
<a name="l01687"></a>01687     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01688"></a>01688 }
<a name="l01689"></a>01689 
<a name="l01690"></a><a class="code" href="class_rig_def_1_1_serializer.html#a96611d98bdc3b708118d05f5e8ac3208">01690</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a96611d98bdc3b708118d05f5e8ac3208">Serializer::ProcessMeshWheels2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01691"></a>01691 {
<a name="l01692"></a>01692     <span class="keywordflow">if</span> (module-&gt;mesh_wheels_2.empty())
<a name="l01693"></a>01693     {
<a name="l01694"></a>01694         <span class="keywordflow">return</span>;
<a name="l01695"></a>01695     }
<a name="l01696"></a>01696     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;meshwheels2&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01697"></a>01697     <span class="keyword">auto</span> end_itor = module-&gt;mesh_wheels_2.end();
<a name="l01698"></a>01698     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;mesh_wheels_2.begin(); itor != end_itor; ++itor)
<a name="l01699"></a>01699     {
<a name="l01700"></a>01700         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01701"></a>01701             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_radius                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01702"></a>01702             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;rim_radius                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01703"></a>01703             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;width                         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01704"></a>01704             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;num_rays                      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01705"></a>01705             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01706"></a>01706             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString()           &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01707"></a>01707             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;rigidity_node.ToString()      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01708"></a>01708             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;braking                       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01709"></a>01709             &lt;&lt; setw(3)               &lt;&lt; itor-&gt;propulsion                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01710"></a>01710             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;reference_arm_node.ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01711"></a>01711             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;mass                          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01712"></a>01712             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_springiness              &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01713"></a>01713             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>)   &lt;&lt; itor-&gt;tyre_damping                  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01714"></a>01714                                      &lt;&lt; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(itor-&gt;side))     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01715"></a>01715                                      &lt;&lt; itor-&gt;mesh_name                     &lt;&lt; <span class="stringliteral">&quot; &quot;</span> <span class="comment">// Separator = space!</span>
<a name="l01716"></a>01716                                      &lt;&lt; itor-&gt;material_name;
<a name="l01717"></a>01717         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01718"></a>01718     }
<a name="l01719"></a>01719 
<a name="l01720"></a>01720     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01721"></a>01721 }
<a name="l01722"></a>01722 
<a name="l01723"></a><a class="code" href="class_rig_def_1_1_serializer.html#a082c62f4f9a8da59cddf21ac4bdf6f18">01723</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a082c62f4f9a8da59cddf21ac4bdf6f18">Serializer::ProcessCinecam</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01724"></a>01724 {
<a name="l01725"></a>01725     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#abe6fed4f2ea13131aa4191f714c767d7">cinecam</a>.empty())
<a name="l01726"></a>01726     {
<a name="l01727"></a>01727         <span class="keywordflow">return</span>;
<a name="l01728"></a>01728     }
<a name="l01729"></a>01729 
<a name="l01730"></a>01730     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;cinecam&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01731"></a>01731 
<a name="l01732"></a>01732     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#abe6fed4f2ea13131aa4191f714c767d7">cinecam</a>.begin(); itor != module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#abe6fed4f2ea13131aa4191f714c767d7">cinecam</a>.end(); ++itor)
<a name="l01733"></a>01733     {
<a name="l01734"></a>01734         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l01735"></a>01735             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; itor-&gt;position.x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01736"></a>01736             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; itor-&gt;position.y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01737"></a>01737             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; itor-&gt;position.z &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01738"></a>01738         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l01739"></a>01739             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[0].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01740"></a>01740             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[1].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01741"></a>01741             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[2].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01742"></a>01742             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[3].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01743"></a>01743             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[4].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01744"></a>01744             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[5].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01745"></a>01745             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[6].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01746"></a>01746             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; itor-&gt;nodes[7].ToString() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l01747"></a>01747         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l01748"></a>01748             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; itor-&gt;spring &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l01749"></a>01749             &lt;&lt; setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; itor-&gt;damping;
<a name="l01750"></a>01750     }
<a name="l01751"></a>01751 
<a name="l01752"></a>01752     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl; <span class="comment">// Empty line</span>
<a name="l01753"></a>01753 }
<a name="l01754"></a>01754 
<a name="l01755"></a><a class="code" href="class_rig_def_1_1_serializer.html#a9b24fd9334313fb43cf6796ca73a7df1">01755</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a9b24fd9334313fb43cf6796ca73a7df1">Serializer::ProcessBeams</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01756"></a>01756 {
<a name="l01757"></a>01757     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#aff5595e0c0f3f0a2ff50393f8fd3673d">beams</a>.empty())
<a name="l01758"></a>01758     {
<a name="l01759"></a>01759         <span class="keywordflow">return</span>;
<a name="l01760"></a>01760     }
<a name="l01761"></a>01761 
<a name="l01762"></a>01762     <span class="comment">// Group beams by presets</span>
<a name="l01763"></a>01763     std::map&lt; BeamDefaults*, std::vector&lt;Beam*&gt; &gt; beams_by_preset;
<a name="l01764"></a>01764     <span class="keyword">auto</span> itor_end = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#aff5595e0c0f3f0a2ff50393f8fd3673d">beams</a>.end();
<a name="l01765"></a>01765     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#aff5595e0c0f3f0a2ff50393f8fd3673d">beams</a>.begin(); itor != itor_end; ++itor)
<a name="l01766"></a>01766     {
<a name="l01767"></a>01767         <a class="code" href="struct_rig_def_1_1_beam.html">Beam</a> &amp; beam = *itor;
<a name="l01768"></a>01768         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = beam.<a class="code" href="struct_rig_def_1_1_beam.html#a5ed290082130ae889df814baa1f156c7">defaults</a>.get();
<a name="l01769"></a>01769 
<a name="l01770"></a>01770         <span class="comment">// Ensure preset is in map</span>
<a name="l01771"></a>01771         <span class="keyword">auto</span> found_itor = beams_by_preset.find(preset);
<a name="l01772"></a>01772         <span class="keywordflow">if</span> (found_itor == beams_by_preset.end())
<a name="l01773"></a>01773         {
<a name="l01774"></a>01774             <span class="comment">// Preset not in map, insert it and add beam.</span>
<a name="l01775"></a>01775             std::vector&lt;Beam*&gt; list;
<a name="l01776"></a>01776             list.reserve(100);
<a name="l01777"></a>01777             list.push_back(&amp;beam);
<a name="l01778"></a>01778             beams_by_preset.insert(std::make_pair(preset, list));
<a name="l01779"></a>01779         }
<a name="l01780"></a>01780         <span class="keywordflow">else</span>
<a name="l01781"></a>01781         {
<a name="l01782"></a>01782             <span class="comment">// Preset in map, just add beam.</span>
<a name="l01783"></a>01783             found_itor-&gt;second.push_back(&amp;beam);
<a name="l01784"></a>01784         }
<a name="l01785"></a>01785     }
<a name="l01786"></a>01786 
<a name="l01787"></a>01787     <span class="comment">// Write beams to file</span>
<a name="l01788"></a>01788     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;beams&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01789"></a>01789     <span class="keyword">auto</span> preset_itor_end = beams_by_preset.end();
<a name="l01790"></a>01790     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = beams_by_preset.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l01791"></a>01791     {
<a name="l01792"></a>01792         <span class="comment">// Write preset</span>
<a name="l01793"></a>01793         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = preset_itor-&gt;first;
<a name="l01794"></a>01794         <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(preset);
<a name="l01795"></a>01795 
<a name="l01796"></a>01796         <span class="comment">// Write beams</span>
<a name="l01797"></a>01797         std::vector&lt;Beam*&gt; &amp; beam_list = preset_itor-&gt;second;
<a name="l01798"></a>01798         <span class="keyword">auto</span> beam_itor_end = beam_list.end();
<a name="l01799"></a>01799         <span class="keywordflow">for</span> (<span class="keyword">auto</span> beam_itor = beam_list.begin(); beam_itor != beam_itor_end; ++beam_itor)
<a name="l01800"></a>01800         {
<a name="l01801"></a>01801             <a class="code" href="struct_rig_def_1_1_beam.html">Beam</a> &amp; beam = *(*beam_itor);
<a name="l01802"></a>01802             <a class="code" href="class_rig_def_1_1_serializer.html#a46c7c34fd115d7a242ccbd7a799b27c3">ProcessBeam</a>(beam);
<a name="l01803"></a>01803         }
<a name="l01804"></a>01804     }
<a name="l01805"></a>01805 
<a name="l01806"></a>01806     <span class="comment">// Empty line</span>
<a name="l01807"></a>01807     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01808"></a>01808 }
<a name="l01809"></a>01809 
<a name="l01810"></a><a class="code" href="class_rig_def_1_1_serializer.html#ace7ad49329d7cc18c57fd9a6dd3bf2f9">01810</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ace7ad49329d7cc18c57fd9a6dd3bf2f9">Serializer::ProcessShocks</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01811"></a>01811 {
<a name="l01812"></a>01812     <span class="keywordflow">if</span> (module-&gt;shocks.empty())
<a name="l01813"></a>01813     {
<a name="l01814"></a>01814         <span class="keywordflow">return</span>;
<a name="l01815"></a>01815     }
<a name="l01816"></a>01816 
<a name="l01817"></a>01817     <span class="comment">// Group beams by presets</span>
<a name="l01818"></a>01818     std::map&lt; BeamDefaults*, std::vector&lt;Shock*&gt; &gt; shocks_by_preset;
<a name="l01819"></a>01819     <span class="keyword">auto</span> itor_end = module-&gt;shocks.end(); 
<a name="l01820"></a>01820     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;shocks.begin(); itor != itor_end; ++itor)
<a name="l01821"></a>01821     {
<a name="l01822"></a>01822         <a class="code" href="struct_rig_def_1_1_shock.html">Shock</a> &amp; shock = *itor;
<a name="l01823"></a>01823         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = shock.<a class="code" href="struct_rig_def_1_1_shock.html#aa04b58972b9518a4390e764fa4cac2fc">beam_defaults</a>.get();
<a name="l01824"></a>01824 
<a name="l01825"></a>01825         <span class="comment">// Ensure preset is in map</span>
<a name="l01826"></a>01826         <span class="keyword">auto</span> found_itor = shocks_by_preset.find(preset);
<a name="l01827"></a>01827         <span class="keywordflow">if</span> (found_itor == shocks_by_preset.end())
<a name="l01828"></a>01828         {
<a name="l01829"></a>01829             <span class="comment">// Preset not in map, insert it and add shock.</span>
<a name="l01830"></a>01830             std::vector&lt;Shock*&gt; list;
<a name="l01831"></a>01831             list.reserve(100);
<a name="l01832"></a>01832             list.push_back(&amp;shock);
<a name="l01833"></a>01833             shocks_by_preset.insert(std::make_pair(preset, list));
<a name="l01834"></a>01834         }
<a name="l01835"></a>01835         <span class="keywordflow">else</span>
<a name="l01836"></a>01836         {
<a name="l01837"></a>01837             <span class="comment">// Preset in map, just add shock.</span>
<a name="l01838"></a>01838             found_itor-&gt;second.push_back(&amp;shock);
<a name="l01839"></a>01839         }
<a name="l01840"></a>01840     }
<a name="l01841"></a>01841 
<a name="l01842"></a>01842     <span class="comment">// Write shocks to file</span>
<a name="l01843"></a>01843     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;shocks&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01844"></a>01844     <span class="keyword">auto</span> preset_itor_end = shocks_by_preset.end();
<a name="l01845"></a>01845     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = shocks_by_preset.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l01846"></a>01846     {
<a name="l01847"></a>01847         <span class="comment">// Write preset</span>
<a name="l01848"></a>01848         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = preset_itor-&gt;first;
<a name="l01849"></a>01849         <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(preset);
<a name="l01850"></a>01850 
<a name="l01851"></a>01851         <span class="comment">// Write shocks</span>
<a name="l01852"></a>01852         <span class="keyword">auto</span> shock_list = preset_itor-&gt;second;
<a name="l01853"></a>01853         <span class="keyword">auto</span> shock_itor_end = shock_list.end();
<a name="l01854"></a>01854         <span class="keywordflow">for</span> (<span class="keyword">auto</span> shock_itor = shock_list.begin(); shock_itor != shock_itor_end; ++shock_itor)
<a name="l01855"></a>01855         {
<a name="l01856"></a>01856             <a class="code" href="struct_rig_def_1_1_shock.html">Shock</a> &amp; shock = *(*shock_itor);
<a name="l01857"></a>01857             <a class="code" href="class_rig_def_1_1_serializer.html#a9c89859ffe33c7f7c8ab9c6f0bab9b63">ProcessShock</a>(shock);
<a name="l01858"></a>01858         }
<a name="l01859"></a>01859     }
<a name="l01860"></a>01860 
<a name="l01861"></a>01861     <span class="comment">// Empty line</span>
<a name="l01862"></a>01862     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01863"></a>01863 }
<a name="l01864"></a>01864 
<a name="l01865"></a><a class="code" href="class_rig_def_1_1_serializer.html#a533f0148390973d66b2df0289ac52692">01865</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a533f0148390973d66b2df0289ac52692">Serializer::ProcessShocks2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01866"></a>01866 {
<a name="l01867"></a>01867     <span class="keywordflow">if</span> (module-&gt;shocks_2.empty())
<a name="l01868"></a>01868     {
<a name="l01869"></a>01869         <span class="keywordflow">return</span>;
<a name="l01870"></a>01870     }
<a name="l01871"></a>01871 
<a name="l01872"></a>01872     <span class="comment">// Group beams by presets</span>
<a name="l01873"></a>01873     std::map&lt; BeamDefaults*, std::vector&lt;Shock2*&gt; &gt; shocks_by_preset;
<a name="l01874"></a>01874     <span class="keyword">auto</span> itor_end = module-&gt;shocks_2.end(); 
<a name="l01875"></a>01875     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;shocks_2.begin(); itor != itor_end; ++itor)
<a name="l01876"></a>01876     {
<a name="l01877"></a>01877         <a class="code" href="struct_rig_def_1_1_shock2.html">Shock2</a> &amp; shock = *itor;
<a name="l01878"></a>01878         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = shock.<a class="code" href="struct_rig_def_1_1_shock2.html#a9252b1a7bb08b545bb8d26b9a693e0c5">beam_defaults</a>.get();
<a name="l01879"></a>01879 
<a name="l01880"></a>01880         <span class="comment">// Ensure preset is in map</span>
<a name="l01881"></a>01881         <span class="keyword">auto</span> found_itor = shocks_by_preset.find(preset);
<a name="l01882"></a>01882         <span class="keywordflow">if</span> (found_itor == shocks_by_preset.end())
<a name="l01883"></a>01883         {
<a name="l01884"></a>01884             <span class="comment">// Preset not in map, insert it and add shock.</span>
<a name="l01885"></a>01885             std::vector&lt;Shock2*&gt; list;
<a name="l01886"></a>01886             list.reserve(100);
<a name="l01887"></a>01887             list.push_back(&amp;shock);
<a name="l01888"></a>01888             shocks_by_preset.insert(std::make_pair(preset, list));
<a name="l01889"></a>01889         }
<a name="l01890"></a>01890         <span class="keywordflow">else</span>
<a name="l01891"></a>01891         {
<a name="l01892"></a>01892             <span class="comment">// Preset in map, just add shock.</span>
<a name="l01893"></a>01893             found_itor-&gt;second.push_back(&amp;shock);
<a name="l01894"></a>01894         }
<a name="l01895"></a>01895     }
<a name="l01896"></a>01896 
<a name="l01897"></a>01897     <span class="comment">// Write shocks to file</span>
<a name="l01898"></a>01898     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;shocks2&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01899"></a>01899     <span class="keyword">auto</span> preset_itor_end = shocks_by_preset.end();
<a name="l01900"></a>01900     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = shocks_by_preset.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l01901"></a>01901     {
<a name="l01902"></a>01902         <span class="comment">// Write preset</span>
<a name="l01903"></a>01903         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = preset_itor-&gt;first;
<a name="l01904"></a>01904         <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(preset);
<a name="l01905"></a>01905 
<a name="l01906"></a>01906         <span class="comment">// Write shocks</span>
<a name="l01907"></a>01907         <span class="keyword">auto</span> shock_list = preset_itor-&gt;second;
<a name="l01908"></a>01908         <span class="keyword">auto</span> shock_itor_end = shock_list.end();
<a name="l01909"></a>01909         <span class="keywordflow">for</span> (<span class="keyword">auto</span> shock_itor = shock_list.begin(); shock_itor != shock_itor_end; ++shock_itor)
<a name="l01910"></a>01910         {
<a name="l01911"></a>01911             <a class="code" href="struct_rig_def_1_1_shock2.html">Shock2</a> &amp; shock = *(*shock_itor);
<a name="l01912"></a>01912             <a class="code" href="class_rig_def_1_1_serializer.html#a124c560d795229029e367124d3e4b7e0">ProcessShock2</a>(shock);
<a name="l01913"></a>01913         }
<a name="l01914"></a>01914     }
<a name="l01915"></a>01915 
<a name="l01916"></a>01916     <span class="comment">// Empty line</span>
<a name="l01917"></a>01917     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l01918"></a>01918 }
<a name="l01919"></a>01919 
<a name="l01920"></a><a class="code" href="class_rig_def_1_1_serializer.html#a53de166f4babccd333af04bce98177f3">01920</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a53de166f4babccd333af04bce98177f3">Serializer::ProcessHydros</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01921"></a>01921 {
<a name="l01922"></a>01922     <span class="keywordflow">if</span> (module-&gt;hydros.empty())
<a name="l01923"></a>01923     {
<a name="l01924"></a>01924         <span class="keywordflow">return</span>;
<a name="l01925"></a>01925     }
<a name="l01926"></a>01926 
<a name="l01927"></a>01927     <span class="comment">// Group by presets</span>
<a name="l01928"></a>01928     std::map&lt; BeamDefaults*, std::vector&lt;Hydro*&gt; &gt; grouped_by_preset;
<a name="l01929"></a>01929     <span class="keyword">auto</span> itor_end = module-&gt;hydros.end(); 
<a name="l01930"></a>01930     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;hydros.begin(); itor != itor_end; ++itor)
<a name="l01931"></a>01931     {
<a name="l01932"></a>01932         <a class="code" href="struct_rig_def_1_1_hydro.html">Hydro</a> &amp; hydro = *itor;
<a name="l01933"></a>01933         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = hydro.<a class="code" href="struct_rig_def_1_1_hydro.html#aed6a017a89ba69b61b23b8333657cc82">beam_defaults</a>.get();
<a name="l01934"></a>01934 
<a name="l01935"></a>01935         <span class="comment">// Ensure preset is in map</span>
<a name="l01936"></a>01936         <span class="keyword">auto</span> found_itor = grouped_by_preset.find(preset);
<a name="l01937"></a>01937         <span class="keywordflow">if</span> (found_itor == grouped_by_preset.end())
<a name="l01938"></a>01938         {
<a name="l01939"></a>01939             <span class="comment">// Preset not in map, insert it and add hydro.</span>
<a name="l01940"></a>01940             std::vector&lt;Hydro*&gt; list;
<a name="l01941"></a>01941             list.reserve(100);
<a name="l01942"></a>01942             list.push_back(&amp;hydro);
<a name="l01943"></a>01943             grouped_by_preset.insert(std::make_pair(preset, list));
<a name="l01944"></a>01944         }
<a name="l01945"></a>01945         <span class="keywordflow">else</span>
<a name="l01946"></a>01946         {
<a name="l01947"></a>01947             <span class="comment">// Preset in map, just add hydro.</span>
<a name="l01948"></a>01948             found_itor-&gt;second.push_back(&amp;hydro);
<a name="l01949"></a>01949         }
<a name="l01950"></a>01950     }
<a name="l01951"></a>01951 
<a name="l01952"></a>01952     <span class="comment">// Write hydros to file</span>
<a name="l01953"></a>01953     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;hydros&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l01954"></a>01954     <span class="keyword">auto</span> preset_itor_end = grouped_by_preset.end();
<a name="l01955"></a>01955     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = grouped_by_preset.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l01956"></a>01956     {
<a name="l01957"></a>01957         <span class="comment">// Write preset</span>
<a name="l01958"></a>01958         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = preset_itor-&gt;first;
<a name="l01959"></a>01959         <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(preset);
<a name="l01960"></a>01960 
<a name="l01961"></a>01961         <span class="comment">// Write hydros</span>
<a name="l01962"></a>01962         <span class="keyword">auto</span> hydro_list = preset_itor-&gt;second;
<a name="l01963"></a>01963         <span class="keyword">auto</span> hydro_itor_end = hydro_list.end();
<a name="l01964"></a>01964         <span class="keywordflow">for</span> (<span class="keyword">auto</span> hydro_itor = hydro_list.begin(); hydro_itor != hydro_itor_end; ++hydro_itor)
<a name="l01965"></a>01965         {
<a name="l01966"></a>01966             <a class="code" href="struct_rig_def_1_1_hydro.html">Hydro</a> &amp; hydro = *(*hydro_itor);
<a name="l01967"></a>01967             <a class="code" href="class_rig_def_1_1_serializer.html#a672033385d68bad5c89eb1cc719cb4fa">ProcessHydro</a>(hydro);
<a name="l01968"></a>01968         }
<a name="l01969"></a>01969     }
<a name="l01970"></a>01970 
<a name="l01971"></a>01971     <span class="comment">// Empty line</span>
<a name="l01972"></a>01972     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl;
<a name="l01973"></a>01973 }
<a name="l01974"></a>01974 
<a name="l01975"></a><a class="code" href="class_rig_def_1_1_serializer.html#aad66db1f3b8afcd3076515ac99f7a33b">01975</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aad66db1f3b8afcd3076515ac99f7a33b">Serializer::ProcessCommands2</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l01976"></a>01976 {
<a name="l01977"></a>01977     <span class="keywordflow">if</span> (module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a0ae7db45540ebd92aec480ab52f339d6">commands_2</a>.empty())
<a name="l01978"></a>01978     {
<a name="l01979"></a>01979         <span class="keywordflow">return</span>;
<a name="l01980"></a>01980     }
<a name="l01981"></a>01981 
<a name="l01982"></a>01982     <span class="comment">// Group by presets and _format_version</span>
<a name="l01983"></a>01983     std::map&lt; BeamDefaults*, std::vector&lt;Command2*&gt; &gt; commands_by_preset;
<a name="l01984"></a>01984     <span class="keyword">auto</span> itor_end = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a0ae7db45540ebd92aec480ab52f339d6">commands_2</a>.end(); 
<a name="l01985"></a>01985     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;<a class="code" href="struct_rig_def_1_1_file_1_1_module.html#a0ae7db45540ebd92aec480ab52f339d6">commands_2</a>.begin(); itor != itor_end; ++itor)
<a name="l01986"></a>01986     {
<a name="l01987"></a>01987         <a class="code" href="struct_rig_def_1_1_command2.html">Command2</a> &amp; command = *itor;
<a name="l01988"></a>01988         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = command.<a class="code" href="struct_rig_def_1_1_command2.html#ab96a356cabcb43857f884aa4ffe69fdc">beam_defaults</a>.get();
<a name="l01989"></a>01989 
<a name="l01990"></a>01990         <span class="comment">// Ensure preset is in map</span>
<a name="l01991"></a>01991         <span class="keyword">auto</span> found_itor = commands_by_preset.find(preset);
<a name="l01992"></a>01992         <span class="keywordflow">if</span> (found_itor == commands_by_preset.end())
<a name="l01993"></a>01993         {
<a name="l01994"></a>01994             <span class="comment">// Preset not in map, insert it and add command.</span>
<a name="l01995"></a>01995             std::vector&lt;Command2*&gt; list;
<a name="l01996"></a>01996             list.reserve(100);
<a name="l01997"></a>01997             list.push_back(&amp;command);
<a name="l01998"></a>01998             commands_by_preset.insert(std::make_pair(preset, list));
<a name="l01999"></a>01999         }
<a name="l02000"></a>02000         <span class="keywordflow">else</span>
<a name="l02001"></a>02001         {
<a name="l02002"></a>02002             <span class="comment">// Preset in map, just add command.</span>
<a name="l02003"></a>02003             found_itor-&gt;second.push_back(&amp;command);
<a name="l02004"></a>02004         }
<a name="l02005"></a>02005     }
<a name="l02006"></a>02006 
<a name="l02007"></a>02007     <span class="comment">// Write section &quot;commands2&quot; to file (commands from section &quot;commands&quot; are converted)</span>
<a name="l02008"></a>02008     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;commands&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02009"></a>02009     <span class="keyword">auto</span> preset_itor_end = commands_by_preset.end();
<a name="l02010"></a>02010     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = commands_by_preset.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l02011"></a>02011     {
<a name="l02012"></a>02012         <span class="comment">// Write preset</span>
<a name="l02013"></a>02013         <a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* preset = preset_itor-&gt;first;
<a name="l02014"></a>02014         <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">ProcessBeamDefaults</a>(preset);
<a name="l02015"></a>02015 
<a name="l02016"></a>02016         <span class="comment">// Write hydros</span>
<a name="l02017"></a>02017         <span class="keyword">auto</span> command_list = preset_itor-&gt;second;
<a name="l02018"></a>02018         <span class="keyword">auto</span> command_itor_end = command_list.end();
<a name="l02019"></a>02019         <span class="keywordflow">for</span> (<span class="keyword">auto</span> command_itor = command_list.begin(); command_itor != command_itor_end; ++command_itor)
<a name="l02020"></a>02020         {
<a name="l02021"></a>02021             <a class="code" href="struct_rig_def_1_1_command2.html">Command2</a> &amp; command = *(*command_itor);
<a name="l02022"></a>02022             <a class="code" href="class_rig_def_1_1_serializer.html#a5a869453ab0edaa060ae629a78b410e6">ProcessCommand2</a>(command);
<a name="l02023"></a>02023         }
<a name="l02024"></a>02024     }
<a name="l02025"></a>02025 
<a name="l02026"></a>02026     <span class="comment">// Empty line</span>
<a name="l02027"></a>02027     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02028"></a>02028 }
<a name="l02029"></a>02029 
<a name="l02030"></a><a class="code" href="class_rig_def_1_1_serializer.html#a5a869453ab0edaa060ae629a78b410e6">02030</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a5a869453ab0edaa060ae629a78b410e6">Serializer::ProcessCommand2</a>(<a class="code" href="struct_rig_def_1_1_command2.html">Command2</a> &amp; def)
<a name="l02031"></a>02031 {
<a name="l02032"></a>02032     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l02033"></a>02033         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a48d07240a51f7c2ce574a56a7abda4dd">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02034"></a>02034         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a48d07240a51f7c2ce574a56a7abda4dd">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>()    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02035"></a>02035 
<a name="l02036"></a>02036     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#ae602dd5800860ca670568ce20d230bee">shorten_rate</a>        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02037"></a>02037     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a3eabcdde35d9fe2099870aa26aa990c3">lengthen_rate</a>       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02038"></a>02038     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#aec4b03b9c64df22ef2deeb2ef2309b72">max_contraction</a>     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>; <span class="comment">// So-called &#39;shortbound&#39;</span>
<a name="l02039"></a>02039     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#ab379426d340b476ca105b0107cff2440">max_extension</a>       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>; <span class="comment">// So-called &#39;longbound&#39;</span>
<a name="l02040"></a>02040     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#aa1fd5c175fa2f756523cd820f67c419e">m_command_key_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a4a9b8a43b785607f65880dafa9f46c21">contract_key</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02041"></a>02041     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#aa1fd5c175fa2f756523cd820f67c419e">m_command_key_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a38bffb59565f0bbfdcbaea2057a0e92b">extend_key</a>    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02042"></a>02042 
<a name="l02043"></a>02043     <span class="comment">// Options</span>
<a name="l02044"></a>02044     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> options = def.<a class="code" href="struct_rig_def_1_1_command2.html#a5de77f913030c108b92326df1ea192b8">options</a>;
<a name="l02045"></a>02045     <span class="keywordflow">if</span> (options == 0)
<a name="l02046"></a>02046     {
<a name="l02047"></a>02047         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;n&quot;</span>; <span class="comment">// Placeholder, does nothing.</span>
<a name="l02048"></a>02048     }
<a name="l02049"></a>02049     <span class="keywordflow">else</span>
<a name="l02050"></a>02050     {
<a name="l02051"></a>02051         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_c_AUTO_CENTER))
<a name="l02052"></a>02052         {
<a name="l02053"></a>02053             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;c&quot;</span>;
<a name="l02054"></a>02054         }
<a name="l02055"></a>02055         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_f_NOT_FASTER))
<a name="l02056"></a>02056         {
<a name="l02057"></a>02057             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;f&quot;</span>;
<a name="l02058"></a>02058         }
<a name="l02059"></a>02059         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_i_INVISIBLE))
<a name="l02060"></a>02060         {
<a name="l02061"></a>02061             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;i&quot;</span>;
<a name="l02062"></a>02062         }
<a name="l02063"></a>02063         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_o_PRESS_ONCE_CENTER))
<a name="l02064"></a>02064         {
<a name="l02065"></a>02065             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;o&quot;</span>;
<a name="l02066"></a>02066         }
<a name="l02067"></a>02067         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_p_PRESS_ONCE))
<a name="l02068"></a>02068         {
<a name="l02069"></a>02069             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;p&quot;</span>;
<a name="l02070"></a>02070         }
<a name="l02071"></a>02071         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Command2::OPTION_r_ROPE))
<a name="l02072"></a>02072         {
<a name="l02073"></a>02073             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;r&quot;</span>;
<a name="l02074"></a>02074         }
<a name="l02075"></a>02075     }
<a name="l02076"></a>02076     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02077"></a>02077 
<a name="l02078"></a>02078     <span class="comment">// Description</span>
<a name="l02079"></a>02079     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_command2.html#a0f852bcff0dd10ba340b9217bf8ba93d">description</a>.length() &gt; 0 ? def.<a class="code" href="struct_rig_def_1_1_command2.html#a0f852bcff0dd10ba340b9217bf8ba93d">description</a> : <span class="stringliteral">&quot;_&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02080"></a>02080     
<a name="l02081"></a>02081     <span class="comment">// Inertia </span>
<a name="l02082"></a>02082     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a5b26ca4473c6b08c33011eae14223fde">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a974e50429cd8a4fca7e9f326caf46ab1">start_delay_factor</a>        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02083"></a>02083     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a5b26ca4473c6b08c33011eae14223fde">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4299c949c4459d1f6a0fb281d9d64e2">stop_delay_factor</a>         &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02084"></a>02084     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a8b9caadafe1b69f4ba41bb6e7acd3a16">m_inertia_function_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a5b26ca4473c6b08c33011eae14223fde">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#a940044fc40a8b1d6614fe83d4cbf0c19">start_function</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02085"></a>02085     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a8b9caadafe1b69f4ba41bb6e7acd3a16">m_inertia_function_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a5b26ca4473c6b08c33011eae14223fde">inertia</a>.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4899a8aac32426e9dd74f73fe7d7892">stop_function</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02086"></a>02086     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_command2.html#a619853236db8b6b58261ae77870f49a1">affect_engine</a>                     &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02087"></a>02087     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a9215751234cf61fa6ae2ff738777432a">m_bool_width</a>) &lt;&lt; (def.<a class="code" href="struct_rig_def_1_1_command2.html#a03cde25e23806d350d5712012a41ccc2">needs_engine</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);
<a name="l02088"></a>02088     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02089"></a>02089 }
<a name="l02090"></a>02090 
<a name="l02091"></a><a class="code" href="class_rig_def_1_1_serializer.html#a672033385d68bad5c89eb1cc719cb4fa">02091</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a672033385d68bad5c89eb1cc719cb4fa">Serializer::ProcessHydro</a>(<a class="code" href="struct_rig_def_1_1_hydro.html">Hydro</a> &amp; def)
<a name="l02092"></a>02092 {
<a name="l02093"></a>02093     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l02094"></a>02094         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hydro.html#a9435dd81577249609b1bd027baa884ff">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02095"></a>02095         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hydro.html#a9435dd81577249609b1bd027baa884ff">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02096"></a>02096 
<a name="l02097"></a>02097     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hydro.html#a225a6483b30728e181d758b671d7beb5">lenghtening_factor</a>      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02098"></a>02098     <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_hydro.html#a3375fbe3bb0f3026b96d1a7186bf4e60">options</a>.empty())
<a name="l02099"></a>02099     {
<a name="l02100"></a>02100         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;n&quot;</span>; <span class="comment">// Placeholder, does nothing</span>
<a name="l02101"></a>02101     }
<a name="l02102"></a>02102     <span class="keywordflow">else</span>
<a name="l02103"></a>02103     {
<a name="l02104"></a>02104         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_hydro.html#a3375fbe3bb0f3026b96d1a7186bf4e60">options</a>;
<a name="l02105"></a>02105     }
<a name="l02106"></a>02106     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02107"></a>02107 
<a name="l02108"></a>02108     <span class="comment">// Inertia</span>
<a name="l02109"></a>02109     <a class="code" href="struct_rig_def_1_1_optional_inertia.html">OptionalInertia</a> &amp; inertia = def.<a class="code" href="struct_rig_def_1_1_hydro.html#a8fd76b6cd714fb64d9691693b5b1dd18">inertia</a>;
<a name="l02110"></a>02110     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#a974e50429cd8a4fca7e9f326caf46ab1">start_delay_factor</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02111"></a>02111     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4299c949c4459d1f6a0fb281d9d64e2">stop_delay_factor</a>;
<a name="l02112"></a>02112     <span class="keywordflow">if</span> (!inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#a940044fc40a8b1d6614fe83d4cbf0c19">start_function</a>.empty())
<a name="l02113"></a>02113     {
<a name="l02114"></a>02114         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a8b9caadafe1b69f4ba41bb6e7acd3a16">m_inertia_function_width</a>) &lt;&lt; inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#a940044fc40a8b1d6614fe83d4cbf0c19">start_function</a>;
<a name="l02115"></a>02115         <span class="keywordflow">if</span> (!inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4899a8aac32426e9dd74f73fe7d7892">stop_function</a>.empty())
<a name="l02116"></a>02116         {
<a name="l02117"></a>02117             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a8b9caadafe1b69f4ba41bb6e7acd3a16">m_inertia_function_width</a>) &lt;&lt; inertia.<a class="code" href="struct_rig_def_1_1_inertia.html#aa4899a8aac32426e9dd74f73fe7d7892">stop_function</a>;
<a name="l02118"></a>02118         }
<a name="l02119"></a>02119     }
<a name="l02120"></a>02120     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02121"></a>02121 }
<a name="l02122"></a>02122 
<a name="l02123"></a><a class="code" href="class_rig_def_1_1_serializer.html#a9c89859ffe33c7f7c8ab9c6f0bab9b63">02123</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a9c89859ffe33c7f7c8ab9c6f0bab9b63">Serializer::ProcessShock</a>(<a class="code" href="struct_rig_def_1_1_shock.html">Shock</a> &amp; def)
<a name="l02124"></a>02124 {
<a name="l02125"></a>02125     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l02126"></a>02126         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a6358d9af8f4e16ec0e394938c161bbed">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02127"></a>02127         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a6358d9af8f4e16ec0e394938c161bbed">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02128"></a>02128     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a2f978bbd5d29cadd1cbcf4761651992e" title="The &#39;stiffness&#39; of the shock. The higher the value, the less the shock will move for a given bump...">spring_rate</a>      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02129"></a>02129     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a22ada094b49ea26de1724808f79d80ca" title="The &#39;resistance to motion&#39; of the shock. The best value is given by this equation: 2 * sqrt(suspended...">damping</a>          &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02130"></a>02130     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a7e7f7ec2919da837e51d334a61549ae2" title="Maximum contraction. The shortest length the shock can be, as a proportion of its original length...">short_bound</a>      &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02131"></a>02131     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a9f56bb2c3bffcf4e19c4728c40f967fb" title="Maximum extension. The longest length a shock can be, as a proportion of its original length...">long_bound</a>       &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02132"></a>02132     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock.html#a626b09f4def0c0d03aaaab7bf341c7df" title="Changes compression or extension of the suspension when the truck spawns. This can be used to &quot;level&quot;...">precompression</a>   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02133"></a>02133 
<a name="l02134"></a>02134     <span class="comment">// Options</span>
<a name="l02135"></a>02135     <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_shock.html#a3010fbe5fe7d4834e4a53308692ab5ca" title="Bit flags.">options</a> == 0)
<a name="l02136"></a>02136     {
<a name="l02137"></a>02137         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;n&quot;</span>; <span class="comment">// Placeholder</span>
<a name="l02138"></a>02138     }
<a name="l02139"></a>02139     <span class="keywordflow">else</span>
<a name="l02140"></a>02140     {
<a name="l02141"></a>02141         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock.html#a3010fbe5fe7d4834e4a53308692ab5ca" title="Bit flags.">options</a>, Shock::OPTION_i_INVISIBLE))
<a name="l02142"></a>02142         {
<a name="l02143"></a>02143             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;i&quot;</span>;
<a name="l02144"></a>02144         }
<a name="l02145"></a>02145         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock.html#a3010fbe5fe7d4834e4a53308692ab5ca" title="Bit flags.">options</a>, Shock::OPTION_m_METRIC))
<a name="l02146"></a>02146         {
<a name="l02147"></a>02147             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;m&quot;</span>;
<a name="l02148"></a>02148         }
<a name="l02149"></a>02149         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock.html#a3010fbe5fe7d4834e4a53308692ab5ca" title="Bit flags.">options</a>, Shock::OPTION_L_ACTIVE_LEFT))
<a name="l02150"></a>02150         {
<a name="l02151"></a>02151             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;L&quot;</span>;
<a name="l02152"></a>02152         }
<a name="l02153"></a>02153         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock.html#a3010fbe5fe7d4834e4a53308692ab5ca" title="Bit flags.">options</a>, Shock::OPTION_R_ACTIVE_RIGHT))
<a name="l02154"></a>02154         {
<a name="l02155"></a>02155             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;R&quot;</span>;
<a name="l02156"></a>02156         }
<a name="l02157"></a>02157     }
<a name="l02158"></a>02158 
<a name="l02159"></a>02159     <span class="comment">// Empty line</span>
<a name="l02160"></a>02160     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02161"></a>02161 }
<a name="l02162"></a>02162 
<a name="l02163"></a><a class="code" href="class_rig_def_1_1_serializer.html#a124c560d795229029e367124d3e4b7e0">02163</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a124c560d795229029e367124d3e4b7e0">Serializer::ProcessShock2</a>(<a class="code" href="struct_rig_def_1_1_shock2.html">Shock2</a> &amp; def)
<a name="l02164"></a>02164 {
<a name="l02165"></a>02165     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l02166"></a>02166         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a19248178ff7ff2dd39a6c1ca8a0744b0">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02167"></a>02167         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a19248178ff7ff2dd39a6c1ca8a0744b0">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02168"></a>02168 
<a name="l02169"></a>02169     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a89dc983239b0355025a200862194ccfe" title="Spring value applied when the shock is compressing.">spring_in</a>                  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02170"></a>02170     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#aebf1286d4b0ba5f7d9b1ae9aaecd4176" title="Damping value applied when the shock is compressing.">damp_in</a>                    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02171"></a>02171     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#afb46b6fc8614072ef7a0fe2863049cde" title="Progression factor for springin. A value of 0 disables this option. 1...x as multipliers, example:maximum springrate == springrate + (factor*springrate)">progress_factor_spring_in</a>  &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02172"></a>02172     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a6ae82f640b5cb8ba5800a14c3a99f74d" title="Progression factor for dampin. 0 = disabled, 1...x as multipliers, example:maximum dampingrate == spr...">progress_factor_damp_in</a>    &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02173"></a>02173 
<a name="l02174"></a>02174     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#aca9d508a5a145eb49491d705336738c6" title="spring value applied when shock extending">spring_out</a>                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02175"></a>02175     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a3c9da42224d7cf2609ba6bd578889edd" title="damping value applied when shock extending">damp_out</a>                   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02176"></a>02176     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#aadc9b0b323c74f1df132feda13eb7732" title="Progression factor springout, 0 = disabled, 1...x as multipliers, example:maximum springrate == sprin...">progress_factor_spring_out</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02177"></a>02177     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a2d02dda4d5b2984fe645476804670a65" title="Progression factor dampout, 0 = disabled, 1...x as multipliers, example:maximum dampingrate == spring...">progress_factor_damp_out</a>   &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02178"></a>02178 
<a name="l02179"></a>02179     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#a29a95e5b35a656f7b7337a22284dbb32" title="Maximum contraction limit, in percentage ( 1.00 = 100% )">short_bound</a>                &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02180"></a>02180     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#adeaec6bd27bd74d778eafdcdd65ec3e5" title="Maximum extension limit, in percentage ( 1.00 = 100% )">long_bound</a>                 &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02181"></a>02181     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_shock2.html#aab99986424ef1e79baf57b39d13d4334" title="Changes compression or extension of the suspension when the truck spawns. This can be used to &quot;level&quot;...">precompression</a>             &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02182"></a>02182 
<a name="l02183"></a>02183     <span class="comment">// Options</span>
<a name="l02184"></a>02184     <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_shock2.html#a9cdf6403d5447eacc0bdeedb0aebefaf" title="Bit flags.">options</a> != 0)
<a name="l02185"></a>02185     {
<a name="l02186"></a>02186         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;n&quot;</span>; <span class="comment">// Placeholder</span>
<a name="l02187"></a>02187     }
<a name="l02188"></a>02188     <span class="keywordflow">else</span>
<a name="l02189"></a>02189     {
<a name="l02190"></a>02190         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock2.html#a9cdf6403d5447eacc0bdeedb0aebefaf" title="Bit flags.">options</a>, Shock2::OPTION_i_INVISIBLE))
<a name="l02191"></a>02191         {
<a name="l02192"></a>02192             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;i&quot;</span>;
<a name="l02193"></a>02193         }
<a name="l02194"></a>02194         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock2.html#a9cdf6403d5447eacc0bdeedb0aebefaf" title="Bit flags.">options</a>, Shock2::OPTION_m_METRIC))
<a name="l02195"></a>02195         {
<a name="l02196"></a>02196             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;m&quot;</span>;
<a name="l02197"></a>02197         }
<a name="l02198"></a>02198         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock2.html#a9cdf6403d5447eacc0bdeedb0aebefaf" title="Bit flags.">options</a>, Shock2::OPTION_M_ABSOLUTE_METRIC))
<a name="l02199"></a>02199         {
<a name="l02200"></a>02200             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;M&quot;</span>;
<a name="l02201"></a>02201         }
<a name="l02202"></a>02202         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(def.<a class="code" href="struct_rig_def_1_1_shock2.html#a9cdf6403d5447eacc0bdeedb0aebefaf" title="Bit flags.">options</a>, Shock2::OPTION_s_SOFT_BUMP_BOUNDS))
<a name="l02203"></a>02203         {
<a name="l02204"></a>02204             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;s&quot;</span>;
<a name="l02205"></a>02205         }
<a name="l02206"></a>02206     }
<a name="l02207"></a>02207 
<a name="l02208"></a>02208     <span class="comment">// Empty line</span>
<a name="l02209"></a>02209     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02210"></a>02210 }
<a name="l02211"></a>02211 
<a name="l02212"></a><a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">02212</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a519f37109858367465b34df585a91ed1">Serializer::ProcessBeamDefaults</a>(<a class="code" href="struct_rig_def_1_1_beam_defaults.html">BeamDefaults</a>* beam_defaults, <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix)
<a name="l02213"></a>02213 {
<a name="l02214"></a>02214     <span class="keywordflow">if</span> (beam_defaults == <span class="keyword">nullptr</span>)
<a name="l02215"></a>02215     {
<a name="l02216"></a>02216         <span class="keywordflow">return</span>;
<a name="l02217"></a>02217     }
<a name="l02218"></a>02218     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;set_beam_defaults       &quot;</span> <span class="comment">// Align with &quot;set_beam_defaults_scale&quot;</span>
<a name="l02219"></a>02219         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#afe54a08b4d6ba4bebc24ee97544e9684">springiness</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02220"></a>02220         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#a60b2fde0e3faf72c591c7d511dc45898">damping_constant</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02221"></a>02221         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#ac22842bbf505830a6650080c139bd284">deformation_threshold_constant</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02222"></a>02222         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#a09f71e5b1af54273b7982f69ddeea6ac">breaking_threshold_constant</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02223"></a>02223         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#aa1063ec7006e487bc55ee4e5d6105bed">visual_beam_diameter</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02224"></a>02224         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#a617144342ed51c87c01511dc2e1e2f54">beam_material_name</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02225"></a>02225         &lt;&lt; beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#ae79132095ec4e2b1fe90203385b43b2b">plastic_deformation_coefficient</a> 
<a name="l02226"></a>02226         &lt;&lt; endl;
<a name="l02227"></a>02227 
<a name="l02228"></a>02228     <a class="code" href="struct_rig_def_1_1_beam_defaults_scale.html">BeamDefaultsScale</a> &amp; scale = beam_defaults-&gt;<a class="code" href="struct_rig_def_1_1_beam_defaults.html#a309f3173161b9c92e3a8aa0ec6be42ab">scale</a>;
<a name="l02229"></a>02229     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;set_beam_defaults_scale &quot;</span>
<a name="l02230"></a>02230         &lt;&lt; scale.<a class="code" href="struct_rig_def_1_1_beam_defaults_scale.html#a44e72a1f00ed05def54706e9af515bcc">springiness</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02231"></a>02231         &lt;&lt; scale.<a class="code" href="struct_rig_def_1_1_beam_defaults_scale.html#af883ff726d081eb323bd39f99b9daeb9">damping_constant</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02232"></a>02232         &lt;&lt; scale.<a class="code" href="struct_rig_def_1_1_beam_defaults_scale.html#a70b1ae003f631c97135fe4edee0b1317">deformation_threshold_constant</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02233"></a>02233         &lt;&lt; scale.<a class="code" href="struct_rig_def_1_1_beam_defaults_scale.html#a97d6e8b15ae382cef43e84300c0ed676">breaking_threshold_constant</a> 
<a name="l02234"></a>02234         &lt;&lt; endl;
<a name="l02235"></a>02235 }
<a name="l02236"></a>02236 
<a name="l02237"></a><a class="code" href="class_rig_def_1_1_serializer.html#a46c7c34fd115d7a242ccbd7a799b27c3">02237</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a46c7c34fd115d7a242ccbd7a799b27c3">Serializer::ProcessBeam</a>(<a class="code" href="struct_rig_def_1_1_beam.html">Beam</a> &amp; beam)
<a name="l02238"></a>02238 {
<a name="l02239"></a>02239     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l02240"></a>02240         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; beam.<a class="code" href="struct_rig_def_1_1_beam.html#abc084a33e6f6547aa0a54bbf265c0eeb">nodes</a>[0].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02241"></a>02241         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; beam.<a class="code" href="struct_rig_def_1_1_beam.html#abc084a33e6f6547aa0a54bbf265c0eeb">nodes</a>[1].<a class="code" href="class_rig_def_1_1_node_1_1_ref.html#a141e4a4770a737736436a3746a31f3ea">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02242"></a>02242 
<a name="l02243"></a>02243     <span class="comment">// Options</span>
<a name="l02244"></a>02244     <span class="keywordflow">if</span> (beam.<a class="code" href="struct_rig_def_1_1_beam.html#ac38de421870e3bdd021fb951d7111be4" title="Bit flags.">options</a> == 0u)
<a name="l02245"></a>02245     {
<a name="l02246"></a>02246         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;n&quot;</span>; <span class="comment">// Placeholder</span>
<a name="l02247"></a>02247     }
<a name="l02248"></a>02248     <span class="keywordflow">else</span>
<a name="l02249"></a>02249     {
<a name="l02250"></a>02250         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(beam.<a class="code" href="struct_rig_def_1_1_beam.html#ac38de421870e3bdd021fb951d7111be4" title="Bit flags.">options</a>, Beam::OPTION_i_INVISIBLE))
<a name="l02251"></a>02251         {
<a name="l02252"></a>02252             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;i&quot;</span>;
<a name="l02253"></a>02253         }
<a name="l02254"></a>02254         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(beam.<a class="code" href="struct_rig_def_1_1_beam.html#ac38de421870e3bdd021fb951d7111be4" title="Bit flags.">options</a>, Beam::OPTION_r_ROPE))
<a name="l02255"></a>02255         {
<a name="l02256"></a>02256             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;r&quot;</span>;
<a name="l02257"></a>02257         }
<a name="l02258"></a>02258         <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(beam.<a class="code" href="struct_rig_def_1_1_beam.html#ac38de421870e3bdd021fb951d7111be4" title="Bit flags.">options</a>, Beam::OPTION_s_SUPPORT))
<a name="l02259"></a>02259         {
<a name="l02260"></a>02260             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;s&quot;</span>;
<a name="l02261"></a>02261         }
<a name="l02262"></a>02262     }
<a name="l02263"></a>02263 
<a name="l02264"></a>02264     <span class="keywordflow">if</span> (beam.<a class="code" href="struct_rig_def_1_1_beam.html#a5ec98bfe8f3132aa6eba6ec79e92a406">_has_extension_break_limit</a>)
<a name="l02265"></a>02265     {
<a name="l02266"></a>02266         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; beam.<a class="code" href="struct_rig_def_1_1_beam.html#a8c2371e194a9e70a0576e3911be7dab0">extension_break_limit</a>;
<a name="l02267"></a>02267     }
<a name="l02268"></a>02268     
<a name="l02269"></a>02269     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02270"></a>02270 }
<a name="l02271"></a>02271 
<a name="l02272"></a><a class="code" href="class_rig_def_1_1_serializer.html#a8c9186f75ca10d02b4557395a8076f02">02272</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a8c9186f75ca10d02b4557395a8076f02">Serializer::ProcessNodes</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l02273"></a>02273 {
<a name="l02274"></a>02274     <span class="keywordflow">if</span> (module-&gt;nodes.empty())
<a name="l02275"></a>02275     {
<a name="l02276"></a>02276         <span class="keywordflow">return</span>;
<a name="l02277"></a>02277     }
<a name="l02278"></a>02278 
<a name="l02279"></a>02279     <span class="comment">// Group nodes by presets + find node-zero</span>
<a name="l02280"></a>02280     std::map&lt; NodeDefaults*, std::vector&lt;Node*&gt; &gt; nodes_by_presets;
<a name="l02281"></a>02281     <a class="code" href="struct_rig_def_1_1_node.html">Node</a>* node_zero = <span class="keyword">nullptr</span>;
<a name="l02282"></a>02282     <span class="keyword">auto</span> itor_end = module-&gt;nodes.end(); 
<a name="l02283"></a>02283     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = module-&gt;nodes.begin(); itor != itor_end; ++itor)
<a name="l02284"></a>02284     {
<a name="l02285"></a>02285         <a class="code" href="struct_rig_def_1_1_node.html">Node</a> &amp; node = *itor;
<a name="l02286"></a>02286 
<a name="l02287"></a>02287         <span class="comment">// Check zero node</span>
<a name="l02288"></a>02288         <span class="keywordflow">if</span> (node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.IsValid() &amp;&amp; node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a83e169095cd7d288c1b94fb952a83f9b">Str</a>().empty() &amp;&amp; node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a43bc911c3609a030eef1be677d0555bc">Num</a>() == 0)
<a name="l02289"></a>02289         {
<a name="l02290"></a>02290             <span class="keywordflow">if</span> (node_zero != <span class="keyword">nullptr</span>)
<a name="l02291"></a>02291             {
<a name="l02292"></a>02292                 <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;FATAL: Multiple nodes zero!!!&quot;</span>);
<a name="l02293"></a>02293             }
<a name="l02294"></a>02294             node_zero = &amp;node;
<a name="l02295"></a>02295             <span class="keywordflow">continue</span>;
<a name="l02296"></a>02296         }
<a name="l02297"></a>02297 
<a name="l02298"></a>02298         <a class="code" href="struct_rig_def_1_1_node_defaults.html">NodeDefaults</a>* preset = node.<a class="code" href="struct_rig_def_1_1_node.html#aed9625dea7293e9f05cb511e35596eef">node_defaults</a>.get();
<a name="l02299"></a>02299 
<a name="l02300"></a>02300         <span class="comment">// Ensure preset is in map</span>
<a name="l02301"></a>02301         <span class="keyword">auto</span> found_itor = nodes_by_presets.find(preset);
<a name="l02302"></a>02302         <span class="keywordflow">if</span> (found_itor == nodes_by_presets.end())
<a name="l02303"></a>02303         {
<a name="l02304"></a>02304             <span class="comment">// Preset not in map, insert it and add node.</span>
<a name="l02305"></a>02305             std::vector&lt;Node*&gt; list;
<a name="l02306"></a>02306             list.reserve(100);
<a name="l02307"></a>02307             list.push_back(&amp;node);
<a name="l02308"></a>02308             nodes_by_presets.insert(std::make_pair(preset, list));
<a name="l02309"></a>02309         }
<a name="l02310"></a>02310         <span class="keywordflow">else</span>
<a name="l02311"></a>02311         {
<a name="l02312"></a>02312             <span class="comment">// Preset in map, just add node.</span>
<a name="l02313"></a>02313             found_itor-&gt;second.push_back(&amp;node);
<a name="l02314"></a>02314         }
<a name="l02315"></a>02315     }
<a name="l02316"></a>02316 
<a name="l02317"></a>02317     <span class="comment">// == Write nodes to file ==</span>
<a name="l02318"></a>02318     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;nodes&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02319"></a>02319 
<a name="l02320"></a>02320     <span class="comment">// Node zero first</span>
<a name="l02321"></a>02321     <span class="keywordflow">if</span> (node_zero == <span class="keyword">nullptr</span>)
<a name="l02322"></a>02322     {
<a name="l02323"></a>02323         <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;FATAL: Node zero not defined!!!&quot;</span>);
<a name="l02324"></a>02324     }
<a name="l02325"></a>02325     <a class="code" href="class_rig_def_1_1_serializer.html#a3ade0fe6ada67faf9374877081daf9d4">ProcessNodeDefaults</a>(node_zero-&gt;<a class="code" href="struct_rig_def_1_1_node.html#aed9625dea7293e9f05cb511e35596eef">node_defaults</a>.get());
<a name="l02326"></a>02326     <a class="code" href="class_rig_def_1_1_serializer.html#a3380d217628f4e98d4b83db314de6fae">ProcessNode</a>(*node_zero);
<a name="l02327"></a>02327 
<a name="l02328"></a>02328     <span class="comment">// Other numbered nodes</span>
<a name="l02329"></a>02329     <span class="keyword">auto</span> preset_itor_end = nodes_by_presets.end();
<a name="l02330"></a>02330     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = nodes_by_presets.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l02331"></a>02331     {
<a name="l02332"></a>02332         <span class="comment">// Write preset</span>
<a name="l02333"></a>02333         <a class="code" href="struct_rig_def_1_1_node_defaults.html">NodeDefaults</a>* preset = preset_itor-&gt;first;
<a name="l02334"></a>02334         <a class="code" href="class_rig_def_1_1_serializer.html#a3ade0fe6ada67faf9374877081daf9d4">ProcessNodeDefaults</a>(preset);
<a name="l02335"></a>02335 
<a name="l02336"></a>02336         <span class="comment">// Write nodes</span>
<a name="l02337"></a>02337         std::vector&lt;Node*&gt; &amp; node_list = preset_itor-&gt;second;
<a name="l02338"></a>02338         <span class="keyword">auto</span> node_itor_end = node_list.end();
<a name="l02339"></a>02339         <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_itor = node_list.begin(); node_itor != node_itor_end; ++node_itor)
<a name="l02340"></a>02340         {
<a name="l02341"></a>02341             <a class="code" href="struct_rig_def_1_1_node.html">Node</a> &amp; node = *(*node_itor);
<a name="l02342"></a>02342             <span class="keywordflow">if</span> (node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a83e169095cd7d288c1b94fb952a83f9b">Str</a>().empty()) <span class="comment">// Numbered nodes only</span>
<a name="l02343"></a>02343             {
<a name="l02344"></a>02344                 <a class="code" href="class_rig_def_1_1_serializer.html#a3380d217628f4e98d4b83db314de6fae">ProcessNode</a>(node);
<a name="l02345"></a>02345             }
<a name="l02346"></a>02346         }
<a name="l02347"></a>02347     }
<a name="l02348"></a>02348 
<a name="l02349"></a>02349     <span class="comment">// Other named nodes</span>
<a name="l02350"></a>02350     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;nodes2&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02351"></a>02351     <span class="keywordflow">for</span> (<span class="keyword">auto</span> preset_itor = nodes_by_presets.begin(); preset_itor != preset_itor_end; ++preset_itor)
<a name="l02352"></a>02352     {
<a name="l02353"></a>02353         <span class="comment">// Write preset</span>
<a name="l02354"></a>02354         <a class="code" href="struct_rig_def_1_1_node_defaults.html">NodeDefaults</a>* preset = preset_itor-&gt;first;
<a name="l02355"></a>02355         <a class="code" href="class_rig_def_1_1_serializer.html#a3ade0fe6ada67faf9374877081daf9d4">ProcessNodeDefaults</a>(preset);
<a name="l02356"></a>02356 
<a name="l02357"></a>02357         <span class="comment">// Write nodes</span>
<a name="l02358"></a>02358         std::vector&lt;Node*&gt; &amp; node_list = preset_itor-&gt;second;
<a name="l02359"></a>02359         <span class="keyword">auto</span> node_itor_end = node_list.end();
<a name="l02360"></a>02360         <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_itor = node_list.begin(); node_itor != node_itor_end; ++node_itor)
<a name="l02361"></a>02361         {
<a name="l02362"></a>02362             <a class="code" href="struct_rig_def_1_1_node.html">Node</a> &amp; node = *(*node_itor);
<a name="l02363"></a>02363             <span class="keywordflow">if</span> (!node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a83e169095cd7d288c1b94fb952a83f9b">Str</a>().empty() &amp;&amp; node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a43bc911c3609a030eef1be677d0555bc">Num</a>() == 0) <span class="comment">// Named nodes only</span>
<a name="l02364"></a>02364             {
<a name="l02365"></a>02365                 <a class="code" href="class_rig_def_1_1_serializer.html#a3380d217628f4e98d4b83db314de6fae">ProcessNode</a>(node);
<a name="l02366"></a>02366             }
<a name="l02367"></a>02367         }
<a name="l02368"></a>02368     }
<a name="l02369"></a>02369 
<a name="l02370"></a>02370     <span class="comment">// Empty line</span>
<a name="l02371"></a>02371     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02372"></a>02372 }
<a name="l02373"></a>02373 
<a name="l02374"></a><a class="code" href="class_rig_def_1_1_serializer.html#a3ade0fe6ada67faf9374877081daf9d4">02374</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a3ade0fe6ada67faf9374877081daf9d4">Serializer::ProcessNodeDefaults</a>(<a class="code" href="struct_rig_def_1_1_node_defaults.html">NodeDefaults</a>* node_defaults)
<a name="l02375"></a>02375 {
<a name="l02376"></a>02376     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;set_node_defaults &quot;</span>;
<a name="l02377"></a>02377     <span class="keywordflow">if</span> (node_defaults == <span class="keyword">nullptr</span>)
<a name="l02378"></a>02378     {
<a name="l02379"></a>02379         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;-1, -1, -1, -1, n&quot;</span> &lt;&lt; endl;
<a name="l02380"></a>02380         <span class="keywordflow">return</span>;
<a name="l02381"></a>02381     }
<a name="l02382"></a>02382 
<a name="l02383"></a>02383     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>
<a name="l02384"></a>02384         &lt;&lt; node_defaults-&gt;<a class="code" href="struct_rig_def_1_1_node_defaults.html#ad98b2a6975a86372aed434ad7af2f267">load_weight</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02385"></a>02385         &lt;&lt; node_defaults-&gt;<a class="code" href="struct_rig_def_1_1_node_defaults.html#a01f477859052be2b975ea04bd9b3638d">friction</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02386"></a>02386         &lt;&lt; node_defaults-&gt;<a class="code" href="struct_rig_def_1_1_node_defaults.html#a2cac7e6b6cd46914b3e02b972952f8ac">volume</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02387"></a>02387         &lt;&lt; node_defaults-&gt;<a class="code" href="struct_rig_def_1_1_node_defaults.html#aa3dfecdb80c5316d0297ecfa8b381bfd">surface</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02388"></a>02388 
<a name="l02389"></a>02389     <a class="code" href="class_rig_def_1_1_serializer.html#aa11d814db6fa5b7c1d3549641a432f06">ProcessNodeOptions</a>(node_defaults-&gt;<a class="code" href="struct_rig_def_1_1_node_defaults.html#aab6589bf8820df407db9abec503d59aa" title="Bit flags.">options</a>);
<a name="l02390"></a>02390 
<a name="l02391"></a>02391     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02392"></a>02392 }
<a name="l02393"></a>02393 
<a name="l02394"></a><a class="code" href="class_rig_def_1_1_serializer.html#aa11d814db6fa5b7c1d3549641a432f06">02394</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#aa11d814db6fa5b7c1d3549641a432f06">Serializer::ProcessNodeOptions</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> options)
<a name="l02395"></a>02395 {
<a name="l02396"></a>02396     <span class="comment">// Mouse grab</span>
<a name="l02397"></a>02397     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_m_NO_MOUSE_GRAB) ? <span class="stringliteral">&quot;m&quot;</span> : <span class="stringliteral">&quot;n&quot;</span>);
<a name="l02398"></a>02398 
<a name="l02399"></a>02399     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_b_EXTRA_BUOYANCY))
<a name="l02400"></a>02400     {
<a name="l02401"></a>02401         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;b&quot;</span>;
<a name="l02402"></a>02402     }
<a name="l02403"></a>02403     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_c_NO_GROUND_CONTACT))
<a name="l02404"></a>02404     {
<a name="l02405"></a>02405         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;c&quot;</span>;
<a name="l02406"></a>02406     }
<a name="l02407"></a>02407     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_f_NO_SPARKS))
<a name="l02408"></a>02408     {
<a name="l02409"></a>02409         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;f&quot;</span>;
<a name="l02410"></a>02410     }
<a name="l02411"></a>02411     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_h_HOOK_POINT))
<a name="l02412"></a>02412     {
<a name="l02413"></a>02413         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;h&quot;</span>;
<a name="l02414"></a>02414     }
<a name="l02415"></a>02415     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_l_LOAD_WEIGHT))
<a name="l02416"></a>02416     {
<a name="l02417"></a>02417         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;l&quot;</span>;
<a name="l02418"></a>02418     }
<a name="l02419"></a>02419     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_L_LOG))
<a name="l02420"></a>02420     {
<a name="l02421"></a>02421         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;L&quot;</span>;
<a name="l02422"></a>02422     }
<a name="l02423"></a>02423     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_p_NO_PARTICLES))
<a name="l02424"></a>02424     {
<a name="l02425"></a>02425         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;p&quot;</span>;
<a name="l02426"></a>02426     }
<a name="l02427"></a>02427     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_x_EXHAUST_POINT))
<a name="l02428"></a>02428     {
<a name="l02429"></a>02429         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;x&quot;</span>;
<a name="l02430"></a>02430     }
<a name="l02431"></a>02431     <span class="keywordflow">if</span> (<a class="code" href="_bit_flags_8h.html#a2e2441abbc5b22ba112107a88360a0e7">BITMASK_IS_1</a>(options, Node::OPTION_y_EXHAUST_DIRECTION))
<a name="l02432"></a>02432     {
<a name="l02433"></a>02433         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;y&quot;</span>;
<a name="l02434"></a>02434     }
<a name="l02435"></a>02435 }
<a name="l02436"></a>02436 
<a name="l02437"></a><a class="code" href="class_rig_def_1_1_serializer.html#a3380d217628f4e98d4b83db314de6fae">02437</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a3380d217628f4e98d4b83db314de6fae">Serializer::ProcessNode</a>(<a class="code" href="struct_rig_def_1_1_node.html">Node</a> &amp; node)
<a name="l02438"></a>02438 {
<a name="l02439"></a>02439     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> 
<a name="l02440"></a>02440         &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> 
<a name="l02441"></a>02441         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a789008fa7b8b3fd802807d71f235ac9b">m_node_id_width</a>) &lt;&lt; node.<a class="code" href="struct_rig_def_1_1_node.html#a6becadb0fb729208ba9327f621561403">id</a>.<a class="code" href="class_rig_def_1_1_node_1_1_id.html#a2e84af09c5b954252ed2af4a4bcfdeeb">ToString</a>() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l02442"></a>02442         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; node.<a class="code" href="struct_rig_def_1_1_node.html#ac760c8ef35c83b3eed3f284c161314e0">position</a>.x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l02443"></a>02443         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; node.<a class="code" href="struct_rig_def_1_1_node.html#ac760c8ef35c83b3eed3f284c161314e0">position</a>.y &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> 
<a name="l02444"></a>02444         &lt;&lt; std::setw(<a class="code" href="class_rig_def_1_1_serializer.html#a520a65beda48e271aba1c7b41c6360a7">m_float_width</a>) &lt;&lt; node.<a class="code" href="struct_rig_def_1_1_node.html#ac760c8ef35c83b3eed3f284c161314e0">position</a>.z &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
<a name="l02445"></a>02445     
<a name="l02446"></a>02446     <a class="code" href="class_rig_def_1_1_serializer.html#aa11d814db6fa5b7c1d3549641a432f06">ProcessNodeOptions</a>(node.<a class="code" href="struct_rig_def_1_1_node.html#a5f1dd7c05dbec4aaf10ddc4442b4bb16" title="Bit flags.">options</a>);
<a name="l02447"></a>02447     
<a name="l02448"></a>02448     <span class="comment">// Load mass</span>
<a name="l02449"></a>02449     <span class="keywordflow">if</span> (node.<a class="code" href="struct_rig_def_1_1_node.html#a58edb162b6bce2e19d0f65acb2393602">_has_load_weight_override</a>)
<a name="l02450"></a>02450     {
<a name="l02451"></a>02451         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; node.<a class="code" href="struct_rig_def_1_1_node.html#ab2883d7455cdcc7eae1dc959c5c61a0c">load_weight_override</a>;
<a name="l02452"></a>02452     }
<a name="l02453"></a>02453     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02454"></a>02454 }
<a name="l02455"></a>02455 
<a name="l02456"></a><a class="code" href="class_rig_def_1_1_serializer.html#a8efa65f8404da63b8043cdbd03fe3e45">02456</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a8efa65f8404da63b8043cdbd03fe3e45">Serializer::WriteFlags</a>()
<a name="l02457"></a>02457 {
<a name="l02458"></a>02458     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;enable_advanced_deformation)
<a name="l02459"></a>02459     {
<a name="l02460"></a>02460         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;enable_advanced_deformation&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02461"></a>02461     }
<a name="l02462"></a>02462     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;hide_in_chooser)
<a name="l02463"></a>02463     {
<a name="l02464"></a>02464         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;hideInChooser&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02465"></a>02465     }
<a name="l02466"></a>02466     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;slide_nodes_connect_instantly)
<a name="l02467"></a>02467     {
<a name="l02468"></a>02468         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;slidenode_connect_instantly&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02469"></a>02469     }
<a name="l02470"></a>02470     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;lockgroup_default_nolock)
<a name="l02471"></a>02471     {
<a name="l02472"></a>02472         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;lockgroup_default_nolock&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02473"></a>02473     }
<a name="l02474"></a>02474     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;rollon)
<a name="l02475"></a>02475     {
<a name="l02476"></a>02476         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;rollon&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02477"></a>02477     }
<a name="l02478"></a>02478     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;rescuer)
<a name="l02479"></a>02479     {
<a name="l02480"></a>02480         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;rescuer&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02481"></a>02481     }
<a name="l02482"></a>02482     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;disable_default_sounds)
<a name="l02483"></a>02483     {
<a name="l02484"></a>02484         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;disabledefaultsounds&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02485"></a>02485     }
<a name="l02486"></a>02486     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;forward_commands)
<a name="l02487"></a>02487     {
<a name="l02488"></a>02488         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;forwardcommands&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02489"></a>02489     }
<a name="l02490"></a>02490     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;import_commands)
<a name="l02491"></a>02491     {
<a name="l02492"></a>02492         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;importcommands&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02493"></a>02493     }
<a name="l02494"></a>02494 }
<a name="l02495"></a>02495 
<a name="l02496"></a><a class="code" href="class_rig_def_1_1_serializer.html#a45247c7de48f7058a3764dab240f8b9f">02496</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a45247c7de48f7058a3764dab240f8b9f">Serializer::ProcessFileinfo</a>()
<a name="l02497"></a>02497 {
<a name="l02498"></a>02498     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info.get() != <span class="keyword">nullptr</span>)
<a name="l02499"></a>02499     {
<a name="l02500"></a>02500         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;fileinfo &quot;</span>;
<a name="l02501"></a>02501         <span class="comment">// UID</span>
<a name="l02502"></a>02502         <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;_has_unique_id)
<a name="l02503"></a>02503         {
<a name="l02504"></a>02504             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;unique_id;
<a name="l02505"></a>02505         }
<a name="l02506"></a>02506         <span class="keywordflow">else</span>
<a name="l02507"></a>02507         {
<a name="l02508"></a>02508             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;-1&quot;</span>;
<a name="l02509"></a>02509         }
<a name="l02510"></a>02510         <span class="comment">// Category ID</span>
<a name="l02511"></a>02511         <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;_has_category_id)
<a name="l02512"></a>02512         {
<a name="l02513"></a>02513             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;category_id;
<a name="l02514"></a>02514         }
<a name="l02515"></a>02515         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;_has_file_version_set)
<a name="l02516"></a>02516         {
<a name="l02517"></a>02517             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, -1&quot;</span>;
<a name="l02518"></a>02518         }
<a name="l02519"></a>02519         <span class="comment">// Version</span>
<a name="l02520"></a>02520         <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;_has_file_version_set)
<a name="l02521"></a>02521         {
<a name="l02522"></a>02522             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;file_info-&gt;file_version;
<a name="l02523"></a>02523         }
<a name="l02524"></a>02524 
<a name="l02525"></a>02525         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl;
<a name="l02526"></a>02526     }
<a name="l02527"></a>02527 }
<a name="l02528"></a>02528 
<a name="l02529"></a><a class="code" href="class_rig_def_1_1_serializer.html#afe4f8caafe7b9f1321bae385d8d4439c">02529</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#afe4f8caafe7b9f1321bae385d8d4439c">Serializer::ProcessGuid</a>()
<a name="l02530"></a>02530 {
<a name="l02531"></a>02531     <span class="keywordflow">if</span> (! <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;guid.empty())
<a name="l02532"></a>02532     {
<a name="l02533"></a>02533         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;guid &quot;</span> &lt;&lt; <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;guid &lt;&lt; endl &lt;&lt; endl;
<a name="l02534"></a>02534     }
<a name="l02535"></a>02535 }
<a name="l02536"></a>02536 
<a name="l02537"></a><a class="code" href="class_rig_def_1_1_serializer.html#ae95ba94a4bd9845212b3dcfca766475e">02537</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#ae95ba94a4bd9845212b3dcfca766475e">Serializer::ProcessDescription</a>()
<a name="l02538"></a>02538 {
<a name="l02539"></a>02539     <span class="keywordflow">if</span> (<a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;description.size() != 0)
<a name="l02540"></a>02540     {
<a name="l02541"></a>02541         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;description&quot;</span>;
<a name="l02542"></a>02542         <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;description.begin(); itor != <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;description.end(); ++itor)
<a name="l02543"></a>02543         {
<a name="l02544"></a>02544             std::string line = *itor;
<a name="l02545"></a>02545             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; line;
<a name="l02546"></a>02546         }
<a name="l02547"></a>02547         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;end_description&quot;</span> &lt;&lt; endl &lt;&lt; endl;
<a name="l02548"></a>02548     }
<a name="l02549"></a>02549 }
<a name="l02550"></a>02550 
<a name="l02551"></a><a class="code" href="class_rig_def_1_1_serializer.html#a027dbf6f14f5363939e7d7927b3bbca2">02551</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a027dbf6f14f5363939e7d7927b3bbca2">Serializer::ProcessAuthors</a>()
<a name="l02552"></a>02552 {
<a name="l02553"></a>02553     <span class="keywordflow">for</span> (<span class="keyword">auto</span> itor = <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;authors.begin(); itor != <a class="code" href="class_rig_def_1_1_serializer.html#a30c6c6e5d2273f2a4b698d00f5015982">m_rig_def</a>-&gt;authors.end(); ++itor)
<a name="l02554"></a>02554     {
<a name="l02555"></a>02555         <a class="code" href="struct_rig_def_1_1_author.html">Author</a> &amp; def = *itor;
<a name="l02556"></a>02556         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;author &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_author.html#ab32adb990e833407ee2b1a35e658d646">type</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l02557"></a>02557         <span class="keywordflow">if</span> (def.<a class="code" href="struct_rig_def_1_1_author.html#a4b99433a94e8626af2d094057f3e35ee">_has_forum_account</a>)
<a name="l02558"></a>02558         {
<a name="l02559"></a>02559             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_author.html#a3741c21462f3f14ed8b1aa2f65e0ec10">forum_account_id</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l02560"></a>02560         }
<a name="l02561"></a>02561         <span class="keywordflow">else</span>
<a name="l02562"></a>02562         {
<a name="l02563"></a>02563             <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;-1 &quot;</span>;
<a name="l02564"></a>02564         }
<a name="l02565"></a>02565         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a>  &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_author.html#a27eede2a8bbfb54c5df771bf3f8df0c1">name</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; def.<a class="code" href="struct_rig_def_1_1_author.html#ac113f42ef3e9c4ab626af3983cee6a8d">email</a> &lt;&lt; endl;
<a name="l02566"></a>02566     }
<a name="l02567"></a>02567     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl;
<a name="l02568"></a>02568 }
<a name="l02569"></a>02569 
<a name="l02570"></a><a class="code" href="class_rig_def_1_1_serializer.html#a1a008b96aad3023ab72c3cb43a9c9a20">02570</a> <span class="keywordtype">void</span> <a class="code" href="class_rig_def_1_1_serializer.html#a1a008b96aad3023ab72c3cb43a9c9a20">Serializer::ProcessGlobals</a>(<a class="code" href="struct_rig_def_1_1_file_1_1_module.html">File::Module</a>* module)
<a name="l02571"></a>02571 {
<a name="l02572"></a>02572     <span class="keywordflow">if</span> (module-&gt;globals.get() == <span class="keyword">nullptr</span>)
<a name="l02573"></a>02573     {
<a name="l02574"></a>02574         <span class="keywordflow">return</span>;
<a name="l02575"></a>02575     }
<a name="l02576"></a>02576 
<a name="l02577"></a>02577     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;globals\n\t&quot;</span>
<a name="l02578"></a>02578         &lt;&lt; module-&gt;globals-&gt;dry_mass &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l02579"></a>02579         &lt;&lt; module-&gt;globals-&gt;cargo_mass;
<a name="l02580"></a>02580     <span class="keywordflow">if</span> (!module-&gt;globals-&gt;material_name.empty())
<a name="l02581"></a>02581     {
<a name="l02582"></a>02582         <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; module-&gt;globals-&gt;material_name;
<a name="l02583"></a>02583     }
<a name="l02584"></a>02584     <a class="code" href="class_rig_def_1_1_serializer.html#a2bf2c36c86b5887507238038b20893f1">m_stream</a> &lt;&lt; endl &lt;&lt; endl;
<a name="l02585"></a>02585 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 12 2015 11:55:33 for Rigs of Rods by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
